parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {var Ak={},a=arguments[0];!function(t){var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u=t.regeneratorRuntime;if(u)Ak=u;else{(u=t.regeneratorRuntime=Ak).wrap=m;var h="suspendedStart",s="suspendedYield",f="executing",l="completed",p={},y={};y[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(G([])));g&&g!==e&&n.call(g,i)&&(y=g);var d=E.prototype=x.prototype=Object.create(y);L.prototype=d.constructor=E,E.constructor=L,E[c]=L.displayName="GeneratorFunction",u.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===L||"GeneratorFunction"===(r.displayName||r.name))},u.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(d),t},u.awrap=function(t){return{__await:t}},b(_.prototype),_.prototype[a]=function(){return this},u.AsyncIterator=_,u.async=function(t,r,e,n){var o=new _(m(t,r,e,n));return u.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},b(d),d[c]="Generator",d[i]=function(){return this},d.toString=function(){return"[object Generator]"},u.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},u.values=G,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach($),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),p},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),$(e),p}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;$(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:G(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),p}}}function m(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,i=Object.create(o.prototype),a=new k(n||[]);return i._invoke=function(t,r,e){var n=h;return function(o,i){if(n===f)throw new Error("Generator is already running");if(n===l){if("throw"===o)throw i;return N()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=O(a,e);if(c){if(c===p)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===h)throw n=l,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=f;var u=w(t,r,e);if("normal"===u.type){if(n=e.done?l:s,u.arg===p)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=l,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function w(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}function x(){}function L(){}function E(){}function b(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function _(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=w(t[e],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},a)}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=w(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function j(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function $(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function G(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")());var Bk=function(t,e){return(Bk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function da(t,e){function r(){this.constructor=t}Bk(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var ta=function(){return ta=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},ta.apply(this,arguments)};function Ha(t,e,r,o){return new(r||(r=Promise))(function(n,a){function $(t){try{x(o.next(t))}catch(e){a(e)}}function i(t){try{x(o.throw(t))}catch(e){a(e)}}function x(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then($,i)}x((o=o.apply(t,e||[])).next())})}function Da(t,e){var r,o,n,a,$={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;$;)try{if(r=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return $.label++,{value:a[1],done:!1};case 5:$.label++,o=a[1],a=[0];continue;case 7:a=$.ops.pop(),$.trys.pop();continue;default:if(!(n=(n=$.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){$=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){$.label=a[1];break}if(6===a[0]&&$.label<n[1]){$.label=n[1],n=a;break}if(n&&$.label<n[2]){$.label=n[2],$.ops.push(a);break}n[2]&&$.ops.pop(),$.trys.pop();continue;}a=e.call(t,$)}catch(i){a=[6,i],o=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function nd(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pf(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var o,n,a=r.call(t),$=[];try{for(;(void 0===e||e-->0)&&!(o=a.next()).done;)$.push(o.value)}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return $}function Tc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pf(arguments[e]));return t}function kh(t){return this instanceof kh?(this.v=t,this):new kh(t)}var qb=function(){function e(e){void 0===e&&(e={}),this.adapter_=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();var tb=function(){function t(t,o){for(var n=[],e=2;e<arguments.length;e++)n[e-2]=arguments[e];this.root_=t,this.initialize.apply(this,Tc(n)),this.foundation_=void 0===o?this.getDefaultFoundation():o,this.foundation_.init(),this.initialSyncWithDOM()}return t.attachTo=function(o){return new t(o,new qb({}))},t.prototype.initialize=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o]},t.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},t.prototype.initialSyncWithDOM=function(){},t.prototype.destroy=function(){this.foundation_.destroy()},t.prototype.listen=function(t,o,n){this.root_.addEventListener(t,o,n)},t.prototype.unlisten=function(t,o,n){this.root_.removeEventListener(t,o,n)},t.prototype.emit=function(t,o,n){var e;void 0===n&&(n=!1),"function"==typeof CustomEvent?e=new CustomEvent(t,{bubbles:n,detail:o}):(e=document.createEvent("CustomEvent")).initCustomEvent(t,n,!1,o),this.root_.dispatchEvent(e)},t}();function qf(t,e){if(t.closest)return t.closest(e);for(var s=t;s;){if(od(s,e))return s;s=s.parentElement}return null}function od(t,e){return(t.matches||t.webkitMatchesSelector||t.msMatchesSelector).call(t,e)}function Ck(t){var e=t;if(null!==e.offsetParent)return e.scrollWidth;var s=e.cloneNode(!0);s.style.setProperty("position","absolute"),s.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(s);var r=s.scrollWidth;return document.documentElement.removeChild(s),r}var Dk={LABEL_FLOAT_ABOVE:"mdc-floating-label--float-above",LABEL_SHAKE:"mdc-floating-label--shake",ROOT:"mdc-floating-label"};var lh=function(t){function e(n){var a=t.call(this,ta(ta({},e.defaultAdapter),n))||this;return a.shakeAnimationEndHandler_=function(){return a.handleShakeAnimationEnd_()},a}return da(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Dk},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter_.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.destroy=function(){this.adapter_.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},e.prototype.getWidth=function(){return this.adapter_.getWidth()},e.prototype.shake=function(t){var n=e.cssClasses.LABEL_SHAKE;t?this.adapter_.addClass(n):this.adapter_.removeClass(n)},e.prototype.float=function(t){var n=e.cssClasses,a=n.LABEL_FLOAT_ABOVE,r=n.LABEL_SHAKE;t?this.adapter_.addClass(a):(this.adapter_.removeClass(a),this.adapter_.removeClass(r))},e.prototype.handleShakeAnimationEnd_=function(){var t=e.cssClasses.LABEL_SHAKE;this.adapter_.removeClass(t)},e}(qb);var Ek=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return da(n,t),n.attachTo=function(t){return new n(t)},n.prototype.shake=function(t){this.foundation_.shake(t)},n.prototype.float=function(t){this.foundation_.float(t)},n.prototype.getWidth=function(){return this.foundation_.getWidth()},n.prototype.getDefaultFoundation=function(){var t=this;return new lh({addClass:function(n){return t.root_.classList.add(n)},removeClass:function(n){return t.root_.classList.remove(n)},getWidth:function(){return Ck(t.root_)},registerInteractionHandler:function(n,e){return t.listen(n,e)},deregisterInteractionHandler:function(n,e){return t.unlisten(n,e)}})},n}(tb);var vc={LINE_RIPPLE_ACTIVE:"mdc-line-ripple--active",LINE_RIPPLE_DEACTIVATING:"mdc-line-ripple--deactivating"};var Fk=function(t){function e(r){var n=t.call(this,ta(ta({},e.defaultAdapter),r))||this;return n.transitionEndHandler_=function(t){return n.handleTransitionEnd(t)},n}return da(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return vc},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.adapter_.registerEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.destroy=function(){this.adapter_.deregisterEventHandler("transitionend",this.transitionEndHandler_)},e.prototype.activate=function(){this.adapter_.removeClass(vc.LINE_RIPPLE_DEACTIVATING),this.adapter_.addClass(vc.LINE_RIPPLE_ACTIVE)},e.prototype.setRippleCenter=function(t){this.adapter_.setStyle("transform-origin",t+"px center")},e.prototype.deactivate=function(){this.adapter_.addClass(vc.LINE_RIPPLE_DEACTIVATING)},e.prototype.handleTransitionEnd=function(t){var e=this.adapter_.hasClass(vc.LINE_RIPPLE_DEACTIVATING);"opacity"===t.propertyName&&e&&(this.adapter_.removeClass(vc.LINE_RIPPLE_ACTIVE),this.adapter_.removeClass(vc.LINE_RIPPLE_DEACTIVATING))},e}(qb);var Gk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),e.attachTo=function(t){return new e(t)},e.prototype.activate=function(){this.foundation_.activate()},e.prototype.deactivate=function(){this.foundation_.deactivate()},e.prototype.setRippleCenter=function(t){this.foundation_.setRippleCenter(t)},e.prototype.getDefaultFoundation=function(){var t=this;return new Fk({addClass:function(e){return t.root_.classList.add(e)},removeClass:function(e){return t.root_.classList.remove(e)},hasClass:function(e){return t.root_.classList.contains(e)},setStyle:function(e,n){return t.root_.style.setProperty(e,n)},registerEventHandler:function(e,n){return t.listen(e,n)},deregisterEventHandler:function(e,n){return t.unlisten(e,n)}})},e}(tb);var Hk,Ik,jb,pd,qd={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},dc={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)","[href]:not([aria-disabled=\"true\"])","input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)","[tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])"].join(", ")},ae={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};!function(r){r[r.BOTTOM=1]="BOTTOM",r[r.CENTER=2]="CENTER",r[r.RIGHT=4]="RIGHT",r[r.FLIP_RTL=8]="FLIP_RTL"}(jb||(Hk=jb={},Hk)),function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=4]="TOP_RIGHT",r[r.BOTTOM_LEFT=1]="BOTTOM_LEFT",r[r.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",r[r.TOP_START=8]="TOP_START",r[r.TOP_END=12]="TOP_END",r[r.BOTTOM_START=9]="BOTTOM_START",r[r.BOTTOM_END=13]="BOTTOM_END"}(pd||(Ik=pd={},Ik));var Ya={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",ROOT:"mdc-list"},Za={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:"[role=\"checkbox\"][aria-checked=\"true\"]",ARIA_CHECKED_RADIO_SELECTOR:"[role=\"radio\"][aria-checked=\"true\"]",ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:"[role=\"checkbox\"]",ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:"input[type=\"checkbox\"], input[type=\"radio\"]",CHECKBOX_SELECTOR:"input[type=\"checkbox\"]",CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+Ya.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Ya.LIST_ITEM_CLASS+" a\n  ",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+Ya.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+Ya.LIST_ITEM_CLASS+" a,\n    ."+Ya.LIST_ITEM_CLASS+" input[type=\"radio\"]:not(:disabled),\n    ."+Ya.LIST_ITEM_CLASS+" input[type=\"checkbox\"]:not(:disabled)\n  ",RADIO_SELECTOR:"input[type=\"radio\"]"},Lb={UNSET_INDEX:-1};var Jk=["input","button","textarea","select"];function Kk(e){return e instanceof Array}var rd=function(e){function t(s){var i=e.call(this,ta(ta({},t.defaultAdapter),s))||this;return i.wrapFocus_=!1,i.isVertical_=!0,i.isSingleSelectionList_=!1,i.selectedIndex_=Lb.UNSET_INDEX,i.focusedItemIndex_=Lb.UNSET_INDEX,i.useActivatedClass_=!1,i.ariaCurrentAttrValue_=null,i.isCheckboxList_=!1,i.isRadioList_=!1,i}return da(t,e),Object.defineProperty(t,"strings",{get:function(){return Za},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Ya},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Lb},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){}}},enumerable:!0,configurable:!0}),t.prototype.layout=function(){0!==this.adapter_.getListItemCount()&&(this.adapter_.hasCheckboxAtIndex(0)?this.isCheckboxList_=!0:this.adapter_.hasRadioAtIndex(0)&&(this.isRadioList_=!0))},t.prototype.setWrapFocus=function(e){this.wrapFocus_=e},t.prototype.setVerticalOrientation=function(e){this.isVertical_=e},t.prototype.setSingleSelection=function(e){this.isSingleSelectionList_=e},t.prototype.setUseActivatedClass=function(e){this.useActivatedClass_=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex_},t.prototype.setSelectedIndex=function(e){this.isIndexValid_(e)&&(this.isCheckboxList_?this.setCheckboxAtIndex_(e):this.isRadioList_?this.setRadioAtIndex_(e):this.setSingleSelectionAtIndex_(e))},t.prototype.handleFocusIn=function(e,t){t>=0&&this.adapter_.setTabIndexForListItemChildren(t,"0")},t.prototype.handleFocusOut=function(e,t){var s=this;t>=0&&this.adapter_.setTabIndexForListItemChildren(t,"-1"),setTimeout(function(){s.adapter_.isFocusInsideList()||s.setTabindexToFirstSelectedItem_()},0)},t.prototype.handleKeydown=function(e,t,s){var i="ArrowLeft"===e.key||37===e.keyCode,n="ArrowUp"===e.key||38===e.keyCode,r="ArrowRight"===e.key||39===e.keyCode,o="ArrowDown"===e.key||40===e.keyCode,a="Home"===e.key||36===e.keyCode,d="End"===e.key||35===e.keyCode,u="Enter"===e.key||13===e.keyCode,c="Space"===e.key||32===e.keyCode;if(this.adapter_.isRootFocused())n||d?(e.preventDefault(),this.focusLastElement()):(o||a)&&(e.preventDefault(),this.focusFirstElement());else{var l=this.adapter_.getFocusedElementIndex();if(!(-1===l&&(l=s)<0)){var _;if(this.isVertical_&&o||!this.isVertical_&&r)this.preventDefaultEvent_(e),_=this.focusNextElement(l);else if(this.isVertical_&&n||!this.isVertical_&&i)this.preventDefaultEvent_(e),_=this.focusPrevElement(l);else if(a)this.preventDefaultEvent_(e),_=this.focusFirstElement();else if(d)this.preventDefaultEvent_(e),_=this.focusLastElement();else if((u||c)&&t){var I=e.target;if(I&&"A"===I.tagName&&u)return;if(this.preventDefaultEvent_(e),this.adapter_.listItemAtIndexHasClass(l,Ya.LIST_ITEM_DISABLED_CLASS))return;this.isSelectableList_()&&this.setSelectedIndexOnAction_(l),this.adapter_.notifyAction(l)}this.focusedItemIndex_=l,void 0!==_&&(this.setTabindexAtIndex_(_),this.focusedItemIndex_=_)}}},t.prototype.handleClick=function(e,t){e!==Lb.UNSET_INDEX&&(this.setTabindexAtIndex_(e),this.focusedItemIndex_=e,this.adapter_.listItemAtIndexHasClass(e,Ya.LIST_ITEM_DISABLED_CLASS)||(this.isSelectableList_()&&this.setSelectedIndexOnAction_(e,t),this.adapter_.notifyAction(e)))},t.prototype.focusNextElement=function(e){var t=e+1;if(t>=this.adapter_.getListItemCount()){if(!this.wrapFocus_)return e;t=0}return this.adapter_.focusItemAtIndex(t),t},t.prototype.focusPrevElement=function(e){var t=e-1;if(t<0){if(!this.wrapFocus_)return e;t=this.adapter_.getListItemCount()-1}return this.adapter_.focusItemAtIndex(t),t},t.prototype.focusFirstElement=function(){return this.adapter_.focusItemAtIndex(0),0},t.prototype.focusLastElement=function(){var e=this.adapter_.getListItemCount()-1;return this.adapter_.focusItemAtIndex(e),e},t.prototype.setEnabled=function(e,t){this.isIndexValid_(e)&&(t?(this.adapter_.removeClassForElementIndex(e,Ya.LIST_ITEM_DISABLED_CLASS),this.adapter_.setAttributeForElementIndex(e,Za.ARIA_DISABLED,"false")):(this.adapter_.addClassForElementIndex(e,Ya.LIST_ITEM_DISABLED_CLASS),this.adapter_.setAttributeForElementIndex(e,Za.ARIA_DISABLED,"true")))},t.prototype.preventDefaultEvent_=function(e){var t=(""+e.target.tagName).toLowerCase();-1===Jk.indexOf(t)&&e.preventDefault()},t.prototype.setSingleSelectionAtIndex_=function(e){if(this.selectedIndex_!==e){var t=Ya.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass_&&(t=Ya.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex_!==Lb.UNSET_INDEX&&this.adapter_.removeClassForElementIndex(this.selectedIndex_,t),this.adapter_.addClassForElementIndex(e,t),this.setAriaForSingleSelectionAtIndex_(e),this.selectedIndex_=e}},t.prototype.setAriaForSingleSelectionAtIndex_=function(e){this.selectedIndex_===Lb.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter_.getAttributeForElementIndex(e,Za.ARIA_CURRENT));var t=null!==this.ariaCurrentAttrValue_,s=t?Za.ARIA_CURRENT:Za.ARIA_SELECTED;this.selectedIndex_!==Lb.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,s,"false");var i=t?this.ariaCurrentAttrValue_:"true";this.adapter_.setAttributeForElementIndex(e,s,i)},t.prototype.setRadioAtIndex_=function(e){this.adapter_.setCheckedCheckboxOrRadioAtIndex(e,!0),this.selectedIndex_!==Lb.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,Za.ARIA_CHECKED,"false"),this.adapter_.setAttributeForElementIndex(e,Za.ARIA_CHECKED,"true"),this.selectedIndex_=e},t.prototype.setCheckboxAtIndex_=function(e){for(var t=0;t<this.adapter_.getListItemCount();t++){var s=!1;e.indexOf(t)>=0&&(s=!0),this.adapter_.setCheckedCheckboxOrRadioAtIndex(t,s),this.adapter_.setAttributeForElementIndex(t,Za.ARIA_CHECKED,s?"true":"false")}this.selectedIndex_=e},t.prototype.setTabindexAtIndex_=function(e){this.focusedItemIndex_===Lb.UNSET_INDEX&&0!==e?this.adapter_.setAttributeForElementIndex(0,"tabindex","-1"):this.focusedItemIndex_>=0&&this.focusedItemIndex_!==e&&this.adapter_.setAttributeForElementIndex(this.focusedItemIndex_,"tabindex","-1"),this.adapter_.setAttributeForElementIndex(e,"tabindex","0")},t.prototype.isSelectableList_=function(){return this.isSingleSelectionList_||this.isCheckboxList_||this.isRadioList_},t.prototype.setTabindexToFirstSelectedItem_=function(){var e=0;this.isSelectableList_()&&("number"==typeof this.selectedIndex_&&this.selectedIndex_!==Lb.UNSET_INDEX?e=this.selectedIndex_:Kk(this.selectedIndex_)&&this.selectedIndex_.length>0&&(e=this.selectedIndex_.reduce(function(e,t){return Math.min(e,t)}))),this.setTabindexAtIndex_(e)},t.prototype.isIndexValid_=function(e){var t=this;if(e instanceof Array){if(!this.isCheckboxList_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===e.length||e.some(function(e){return t.isIndexInRange_(e)})}if("number"==typeof e){if(this.isCheckboxList_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return this.isIndexInRange_(e)}return!1},t.prototype.isIndexInRange_=function(e){var t=this.adapter_.getListItemCount();return e>=0&&e<t},t.prototype.setSelectedIndexOnAction_=function(e,t){void 0===t&&(t=!0),this.isCheckboxList_?this.toggleCheckboxAtIndex_(e,t):this.setSelectedIndex(e)},t.prototype.toggleCheckboxAtIndex_=function(e,t){var s=this.adapter_.isCheckboxCheckedAtIndex(e);t&&(s=!s,this.adapter_.setCheckedCheckboxOrRadioAtIndex(e,s)),this.adapter_.setAttributeForElementIndex(e,Za.ARIA_CHECKED,s?"true":"false");var i=this.selectedIndex_===Lb.UNSET_INDEX?[]:this.selectedIndex_.slice();s?i.push(e):i=i.filter(function(t){return t!==e}),this.selectedIndex_=i},t}(qb);var mh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),Object.defineProperty(e.prototype,"vertical",{set:function(t){this.foundation_.setVerticalOrientation(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listElements",{get:function(){return[].slice.call(this.root_.querySelectorAll("."+Ya.LIST_ITEM_CLASS))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{set:function(t){this.foundation_.setWrapFocus(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singleSelection",{set:function(t){this.foundation_.setSingleSelection(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this.foundation_.getSelectedIndex()},set:function(t){this.foundation_.setSelectedIndex(t)},enumerable:!0,configurable:!0}),e.attachTo=function(t){return new e(t)},e.prototype.initialSyncWithDOM=function(){this.handleClick_=this.handleClickEvent_.bind(this),this.handleKeydown_=this.handleKeydownEvent_.bind(this),this.focusInEventListener_=this.handleFocusInEvent_.bind(this),this.focusOutEventListener_=this.handleFocusOutEvent_.bind(this),this.listen("keydown",this.handleKeydown_),this.listen("click",this.handleClick_),this.listen("focusin",this.focusInEventListener_),this.listen("focusout",this.focusOutEventListener_),this.layout(),this.initializeListType()},e.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_),this.unlisten("click",this.handleClick_),this.unlisten("focusin",this.focusInEventListener_),this.unlisten("focusout",this.focusOutEventListener_)},e.prototype.layout=function(){var t=this.root_.getAttribute(Za.ARIA_ORIENTATION);this.vertical=t!==Za.ARIA_ORIENTATION_HORIZONTAL,[].slice.call(this.root_.querySelectorAll(".mdc-list-item:not([tabindex])")).forEach(function(t){t.setAttribute("tabindex","-1")}),[].slice.call(this.root_.querySelectorAll(Za.FOCUSABLE_CHILD_ELEMENTS)).forEach(function(t){return t.setAttribute("tabindex","-1")}),this.foundation_.layout()},e.prototype.initializeListType=function(){var t=this,e=this.root_.querySelectorAll(Za.ARIA_ROLE_CHECKBOX_SELECTOR),n=this.root_.querySelector("\n      ."+Ya.LIST_ITEM_ACTIVATED_CLASS+",\n      ."+Ya.LIST_ITEM_SELECTED_CLASS+"\n    "),s=this.root_.querySelector(Za.ARIA_CHECKED_RADIO_SELECTOR);if(e.length){var i=this.root_.querySelectorAll(Za.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=[].map.call(i,function(e){return t.listElements.indexOf(e)})}else n?(n.classList.contains(Ya.LIST_ITEM_ACTIVATED_CLASS)&&this.foundation_.setUseActivatedClass(!0),this.singleSelection=!0,this.selectedIndex=this.listElements.indexOf(n)):s&&(this.selectedIndex=this.listElements.indexOf(s))},e.prototype.setEnabled=function(t,e){this.foundation_.setEnabled(t,e)},e.prototype.getDefaultFoundation=function(){var t=this;return new rd({addClassForElementIndex:function(e,n){var s=t.listElements[e];s&&s.classList.add(n)},focusItemAtIndex:function(e){var n=t.listElements[e];n&&n.focus()},getAttributeForElementIndex:function(e,n){return t.listElements[e].getAttribute(n)},getFocusedElementIndex:function(){return t.listElements.indexOf(document.activeElement)},getListItemCount:function(){return t.listElements.length},hasCheckboxAtIndex:function(e){return!!t.listElements[e].querySelector(Za.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(e){return!!t.listElements[e].querySelector(Za.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(e){return t.listElements[e].querySelector(Za.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return t.root_.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===t.root_},listItemAtIndexHasClass:function(e,n){return t.listElements[e].classList.contains(n)},notifyAction:function(e){t.emit(Za.ACTION_EVENT,{index:e},!0)},removeClassForElementIndex:function(e,n){var s=t.listElements[e];s&&s.classList.remove(n)},setAttributeForElementIndex:function(e,n,s){var i=t.listElements[e];i&&i.setAttribute(n,s)},setCheckedCheckboxOrRadioAtIndex:function(e,n){var s=t.listElements[e].querySelector(Za.CHECKBOX_RADIO_SELECTOR);s.checked=n;var i=document.createEvent("Event");i.initEvent("change",!0,!0),s.dispatchEvent(i)},setTabIndexForListItemChildren:function(e,n){var s=t.listElements[e];[].slice.call(s.querySelectorAll(Za.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX)).forEach(function(t){return t.setAttribute("tabindex",n)})}})},e.prototype.getListItemIndex_=function(t){var e=t.target,n=qf(e,"."+Ya.LIST_ITEM_CLASS+", ."+Ya.ROOT);return n&&od(n,"."+Ya.LIST_ITEM_CLASS)?this.listElements.indexOf(n):-1},e.prototype.handleFocusInEvent_=function(t){var e=this.getListItemIndex_(t);this.foundation_.handleFocusIn(t,e)},e.prototype.handleFocusOutEvent_=function(t){var e=this.getListItemIndex_(t);this.foundation_.handleFocusOut(t,e)},e.prototype.handleKeydownEvent_=function(t){var e=this.getListItemIndex_(t),n=t.target;this.foundation_.handleKeydown(t,n.classList.contains(Ya.LIST_ITEM_CLASS),e)},e.prototype.handleClickEvent_=function(t){var e=this.getListItemIndex_(t),n=t.target,s=!od(n,Za.CHECKBOX_RADIO_SELECTOR);this.foundation_.handleClick(e,s)},e}(tb);var Uc=function(t){function i(e){var n=t.call(this,ta(ta({},i.defaultAdapter),e))||this;return n.isOpen_=!1,n.isQuickOpen_=!1,n.isHoistedElement_=!1,n.isFixedPosition_=!1,n.openAnimationEndTimerId_=0,n.closeAnimationEndTimerId_=0,n.animationRequestId_=0,n.anchorCorner_=pd.TOP_START,n.originCorner_=pd.TOP_START,n.anchorMargin_={top:0,right:0,bottom:0,left:0},n.position_={x:0,y:0},n}return da(i,t),Object.defineProperty(i,"cssClasses",{get:function(){return qd},enumerable:!0,configurable:!0}),Object.defineProperty(i,"strings",{get:function(){return dc},enumerable:!0,configurable:!0}),Object.defineProperty(i,"numbers",{get:function(){return ae},enumerable:!0,configurable:!0}),Object.defineProperty(i,"Corner",{get:function(){return pd},enumerable:!0,configurable:!0}),Object.defineProperty(i,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),i.prototype.init=function(){var t=i.cssClasses,e=t.ROOT,n=t.OPEN;if(!this.adapter_.hasClass(e))throw new Error(e+" class required in root element.");this.adapter_.hasClass(n)&&(this.isOpen_=!0)},i.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId_),clearTimeout(this.closeAnimationEndTimerId_),cancelAnimationFrame(this.animationRequestId_)},i.prototype.setAnchorCorner=function(t){this.anchorCorner_=t},i.prototype.flipCornerHorizontally=function(){this.originCorner_=this.originCorner_^jb.RIGHT},i.prototype.setAnchorMargin=function(t){this.anchorMargin_.top=t.top||0,this.anchorMargin_.right=t.right||0,this.anchorMargin_.bottom=t.bottom||0,this.anchorMargin_.left=t.left||0},i.prototype.setIsHoisted=function(t){this.isHoistedElement_=t},i.prototype.setFixedPosition=function(t){this.isFixedPosition_=t},i.prototype.setAbsolutePosition=function(t,i){this.position_.x=this.isFinite_(t)?t:0,this.position_.y=this.isFinite_(i)?i:0},i.prototype.setQuickOpen=function(t){this.isQuickOpen_=t},i.prototype.isOpen=function(){return this.isOpen_},i.prototype.open=function(){var t=this;this.isOpen_||(this.adapter_.saveFocus(),this.isQuickOpen_?(this.isOpen_=!0,this.adapter_.addClass(i.cssClasses.OPEN),this.dimensions_=this.adapter_.getInnerDimensions(),this.autoPosition_(),this.adapter_.notifyOpen()):(this.adapter_.addClass(i.cssClasses.ANIMATING_OPEN),this.animationRequestId_=requestAnimationFrame(function(){t.adapter_.addClass(i.cssClasses.OPEN),t.dimensions_=t.adapter_.getInnerDimensions(),t.autoPosition_(),t.openAnimationEndTimerId_=setTimeout(function(){t.openAnimationEndTimerId_=0,t.adapter_.removeClass(i.cssClasses.ANIMATING_OPEN),t.adapter_.notifyOpen()},ae.TRANSITION_OPEN_DURATION)}),this.isOpen_=!0))},i.prototype.close=function(t){var e=this;void 0===t&&(t=!1),this.isOpen_&&(this.isQuickOpen_?(this.isOpen_=!1,t||this.maybeRestoreFocus_(),this.adapter_.removeClass(i.cssClasses.OPEN),this.adapter_.removeClass(i.cssClasses.IS_OPEN_BELOW),this.adapter_.notifyClose()):(this.adapter_.addClass(i.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){e.adapter_.removeClass(i.cssClasses.OPEN),e.adapter_.removeClass(i.cssClasses.IS_OPEN_BELOW),e.closeAnimationEndTimerId_=setTimeout(function(){e.closeAnimationEndTimerId_=0,e.adapter_.removeClass(i.cssClasses.ANIMATING_CLOSED),e.adapter_.notifyClose()},ae.TRANSITION_CLOSE_DURATION)}),this.isOpen_=!1,t||this.maybeRestoreFocus_()))},i.prototype.handleBodyClick=function(t){var i=t.target;this.adapter_.isElementInContainer(i)||this.close()},i.prototype.handleKeydown=function(t){var i=t.keyCode;("Escape"===t.key||27===i)&&this.close()},i.prototype.autoPosition_=function(){var t;this.measurements_=this.getAutoLayoutMeasurements_();var e=this.getOriginCorner_(),n=this.getMenuSurfaceMaxHeight_(e),r=this.hasBit_(e,jb.BOTTOM)?"bottom":"top",o=this.hasBit_(e,jb.RIGHT)?"right":"left",s=this.getHorizontalOriginOffset_(e),a=this.getVerticalOriginOffset_(e),h=this.measurements_,_=h.anchorSize,p=h.surfaceSize,c=((t={})[o]=s,t[r]=a,t);_.width/p.width>ae.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(o="center"),(this.isHoistedElement_||this.isFixedPosition_)&&this.adjustPositionForHoistedElement_(c),this.adapter_.setTransformOrigin(o+" "+r),this.adapter_.setPosition(c),this.adapter_.setMaxHeight(n?n+"px":""),this.hasBit_(e,jb.BOTTOM)||this.adapter_.addClass(i.cssClasses.IS_OPEN_BELOW)},i.prototype.getAutoLayoutMeasurements_=function(){var t=this.adapter_.getAnchorDimensions(),i=this.adapter_.getBodyDimensions(),e=this.adapter_.getWindowDimensions(),n=this.adapter_.getWindowScroll();return t||(t={top:this.position_.y,right:this.position_.x,bottom:this.position_.y,left:this.position_.x,width:0,height:0}),{anchorSize:t,bodySize:i,surfaceSize:this.dimensions_,viewportDistance:{top:t.top,right:e.width-t.right,bottom:e.height-t.bottom,left:t.left},viewportSize:e,windowScroll:n}},i.prototype.getOriginCorner_=function(){var t,e,n=this.originCorner_,r=this.measurements_,o=r.viewportDistance,s=r.anchorSize,a=r.surfaceSize,h=i.numbers.MARGIN_TO_EDGE;this.hasBit_(this.anchorCorner_,jb.BOTTOM)?(t=o.top-h+s.height+this.anchorMargin_.bottom,e=o.bottom-h-this.anchorMargin_.bottom):(t=o.top-h+this.anchorMargin_.top,e=o.bottom-h+s.height-this.anchorMargin_.top),!(e-a.height>0)&&t>=e&&(n=this.setBit_(n,jb.BOTTOM));var _,p,c=this.adapter_.isRtl(),u=this.hasBit_(this.anchorCorner_,jb.FLIP_RTL),m=this.hasBit_(this.anchorCorner_,jb.RIGHT),d=!1;(d=c&&u?!m:m)?(_=o.left+s.width+this.anchorMargin_.right,p=o.right-this.anchorMargin_.right):(_=o.left+this.anchorMargin_.left,p=o.right+s.width-this.anchorMargin_.left);var l=_-a.width>0,f=p-a.width>0,$=this.hasBit_(n,jb.FLIP_RTL)&&this.hasBit_(n,jb.RIGHT);return f&&$&&c||!l&&$?n=this.unsetBit_(n,jb.RIGHT):(l&&d&&c||l&&!d&&m||!f&&_>=p)&&(n=this.setBit_(n,jb.RIGHT)),n},i.prototype.getMenuSurfaceMaxHeight_=function(t){var e=this.measurements_.viewportDistance,n=0,r=this.hasBit_(t,jb.BOTTOM),o=this.hasBit_(this.anchorCorner_,jb.BOTTOM),s=i.numbers.MARGIN_TO_EDGE;return r?(n=e.top+this.anchorMargin_.top-s,o||(n+=this.measurements_.anchorSize.height)):(n=e.bottom-this.anchorMargin_.bottom+this.measurements_.anchorSize.height-s,o&&(n-=this.measurements_.anchorSize.height)),n},i.prototype.getHorizontalOriginOffset_=function(t){var i=this.measurements_.anchorSize,e=this.hasBit_(t,jb.RIGHT),n=this.hasBit_(this.anchorCorner_,jb.RIGHT);if(e){var r=n?i.width-this.anchorMargin_.left:this.anchorMargin_.right;return this.isHoistedElement_||this.isFixedPosition_?r-(this.measurements_.viewportSize.width-this.measurements_.bodySize.width):r}return n?i.width-this.anchorMargin_.right:this.anchorMargin_.left},i.prototype.getVerticalOriginOffset_=function(t){var i=this.measurements_.anchorSize,e=this.hasBit_(t,jb.BOTTOM),n=this.hasBit_(this.anchorCorner_,jb.BOTTOM);return e?n?i.height-this.anchorMargin_.top:-this.anchorMargin_.bottom:n?i.height+this.anchorMargin_.bottom:this.anchorMargin_.top},i.prototype.adjustPositionForHoistedElement_=function(t){var i,e,n=this.measurements_,r=n.windowScroll,o=n.viewportDistance,s=Object.keys(t);try{for(var a=nd(s),h=a.next();!h.done;h=a.next()){var _=h.value,p=t[_]||0;p+=o[_],this.isFixedPosition_||("top"===_?p+=r.y:"bottom"===_?p-=r.y:"left"===_?p+=r.x:p-=r.x),t[_]=p}}catch(c){i={error:c}}finally{try{h&&!h.done&&(e=a.return)&&e.call(a)}finally{if(i)throw i.error}}},i.prototype.maybeRestoreFocus_=function(){var t=this.adapter_.isFocused(),i=document.activeElement&&this.adapter_.isElementInContainer(document.activeElement);(t||i)&&this.adapter_.restoreFocus()},i.prototype.hasBit_=function(t,i){return Boolean(t&i)},i.prototype.setBit_=function(t,i){return t|i},i.prototype.unsetBit_=function(t,i){return t^i},i.prototype.isFinite_=function(t){return"number"==typeof t&&isFinite(t)},i}(qb);var nh;function Lk(r,e){if(void 0===e&&(e=!1),void 0===nh||e){var a=r.document.createElement("div");nh="transform"in a.style?"transform":"webkitTransform"}return nh}var Mk=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return da(o,t),o.attachTo=function(t){return new o(t)},o.prototype.initialSyncWithDOM=function(){var t=this,o=this.root_.parentElement;this.anchorElement=o&&o.classList.contains(qd.ANCHOR)?o:null,this.root_.classList.contains(qd.FIXED)&&this.setFixedPosition(!0),this.handleKeydown_=function(o){return t.foundation_.handleKeydown(o)},this.handleBodyClick_=function(o){return t.foundation_.handleBodyClick(o)},this.registerBodyClickListener_=function(){return document.body.addEventListener("click",t.handleBodyClick_,{capture:!0})},this.deregisterBodyClickListener_=function(){return document.body.removeEventListener("click",t.handleBodyClick_)},this.listen("keydown",this.handleKeydown_),this.listen(dc.OPENED_EVENT,this.registerBodyClickListener_),this.listen(dc.CLOSED_EVENT,this.deregisterBodyClickListener_)},o.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_),this.unlisten(dc.OPENED_EVENT,this.registerBodyClickListener_),this.unlisten(dc.CLOSED_EVENT,this.deregisterBodyClickListener_),t.prototype.destroy.call(this)},o.prototype.isOpen=function(){return this.foundation_.isOpen()},o.prototype.open=function(){this.foundation_.open()},o.prototype.close=function(t){void 0===t&&(t=!1),this.foundation_.close(t)},Object.defineProperty(o.prototype,"quickOpen",{set:function(t){this.foundation_.setQuickOpen(t)},enumerable:!0,configurable:!0}),o.prototype.setIsHoisted=function(t){this.foundation_.setIsHoisted(t)},o.prototype.setMenuSurfaceAnchorElement=function(t){this.anchorElement=t},o.prototype.setFixedPosition=function(t){t?this.root_.classList.add(qd.FIXED):this.root_.classList.remove(qd.FIXED),this.foundation_.setFixedPosition(t)},o.prototype.setAbsolutePosition=function(t,o){this.foundation_.setAbsolutePosition(t,o),this.setIsHoisted(!0)},o.prototype.setAnchorCorner=function(t){this.foundation_.setAnchorCorner(t)},o.prototype.setAnchorMargin=function(t){this.foundation_.setAnchorMargin(t)},o.prototype.getDefaultFoundation=function(){var t=this;return new Uc({addClass:function(o){return t.root_.classList.add(o)},removeClass:function(o){return t.root_.classList.remove(o)},hasClass:function(o){return t.root_.classList.contains(o)},hasAnchor:function(){return!!t.anchorElement},notifyClose:function(){return t.emit(Uc.strings.CLOSED_EVENT,{})},notifyOpen:function(){return t.emit(Uc.strings.OPENED_EVENT,{})},isElementInContainer:function(o){return t.root_.contains(o)},isRtl:function(){return"rtl"===getComputedStyle(t.root_).getPropertyValue("direction")},setTransformOrigin:function(o){var n=Lk(window)+"-origin";t.root_.style.setProperty(n,o)},isFocused:function(){return document.activeElement===t.root_},saveFocus:function(){t.previousFocus_=document.activeElement},restoreFocus:function(){t.root_.contains(document.activeElement)&&t.previousFocus_&&t.previousFocus_.focus&&t.previousFocus_.focus()},getInnerDimensions:function(){return{width:t.root_.offsetWidth,height:t.root_.offsetHeight}},getAnchorDimensions:function(){return t.anchorElement?t.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(o){t.root_.style.left="left"in o?o.left+"px":"",t.root_.style.right="right"in o?o.right+"px":"",t.root_.style.top="top"in o?o.top+"px":"",t.root_.style.bottom="bottom"in o?o.bottom+"px":""},setMaxHeight:function(o){t.root_.style.maxHeight=o}})},o}(tb);var Nk,sd,Vc={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Ub={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:"input[type=\"checkbox\"]",LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},Ok={FOCUS_ROOT_INDEX:-1};!function(e){e[e.NONE=0]="NONE",e[e.LIST_ROOT=1]="LIST_ROOT",e[e.FIRST_ITEM=2]="FIRST_ITEM",e[e.LAST_ITEM=3]="LAST_ITEM"}(sd||(Nk=sd={},Nk));var Pk=function(e){function t(n){var r=e.call(this,ta(ta({},t.defaultAdapter),n))||this;return r.closeAnimationEndTimerId_=0,r.defaultFocusState_=sd.LIST_ROOT,r}return da(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Vc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ub},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Ok},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter_.closeSurface()},t.prototype.handleKeydown=function(e){var t=e.key,n=e.keyCode;("Tab"===t||9===n)&&this.adapter_.closeSurface(!0)},t.prototype.handleItemAction=function(e){var t=this,n=this.adapter_.getElementIndex(e);n<0||(this.adapter_.notifySelected({index:n}),this.adapter_.closeSurface(),this.closeAnimationEndTimerId_=setTimeout(function(){var n=t.adapter_.getElementIndex(e);t.adapter_.isSelectableItemAtIndex(n)&&t.setSelectedIndex(n)},Uc.numbers.TRANSITION_CLOSE_DURATION))},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case sd.FIRST_ITEM:this.adapter_.focusItemAtIndex(0);break;case sd.LAST_ITEM:this.adapter_.focusItemAtIndex(this.adapter_.getMenuItemCount()-1);break;case sd.NONE:break;default:this.adapter_.focusListRoot();}},t.prototype.setDefaultFocusState=function(e){this.defaultFocusState_=e},t.prototype.setSelectedIndex=function(e){if(this.validatedIndex_(e),!this.adapter_.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var t=this.adapter_.getSelectedSiblingOfItemAtIndex(e);t>=0&&(this.adapter_.removeAttributeFromElementAtIndex(t,Ub.ARIA_CHECKED_ATTR),this.adapter_.removeClassFromElementAtIndex(t,Vc.MENU_SELECTED_LIST_ITEM)),this.adapter_.addClassToElementAtIndex(e,Vc.MENU_SELECTED_LIST_ITEM),this.adapter_.addAttributeToElementAtIndex(e,Ub.ARIA_CHECKED_ATTR,"true")},t.prototype.setEnabled=function(e,t){this.validatedIndex_(e),t?(this.adapter_.removeClassFromElementAtIndex(e,Ya.LIST_ITEM_DISABLED_CLASS),this.adapter_.addAttributeToElementAtIndex(e,Ub.ARIA_DISABLED_ATTR,"false")):(this.adapter_.addClassToElementAtIndex(e,Ya.LIST_ITEM_DISABLED_CLASS),this.adapter_.addAttributeToElementAtIndex(e,Ub.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex_=function(e){var t=this.adapter_.getMenuItemCount();if(!(e>=0&&e<t))throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(qb);var Qk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e){void 0===t&&(t=function(t){return new Mk(t)}),void 0===e&&(e=function(t){return new mh(t)}),this.menuSurfaceFactory_=t,this.listFactory_=e},e.prototype.initialSyncWithDOM=function(){var t=this;this.menuSurface_=this.menuSurfaceFactory_(this.root_);var e=this.root_.querySelector(Ub.LIST_SELECTOR);e?(this.list_=this.listFactory_(e),this.list_.wrapFocus=!0):this.list_=null,this.handleKeydown_=function(e){return t.foundation_.handleKeydown(e)},this.handleItemAction_=function(e){return t.foundation_.handleItemAction(t.items[e.detail.index])},this.handleMenuSurfaceOpened_=function(){return t.foundation_.handleMenuSurfaceOpened()},this.menuSurface_.listen(Uc.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.listen("keydown",this.handleKeydown_),this.listen(rd.strings.ACTION_EVENT,this.handleItemAction_)},e.prototype.destroy=function(){this.list_&&this.list_.destroy(),this.menuSurface_.destroy(),this.menuSurface_.unlisten(Uc.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.unlisten("keydown",this.handleKeydown_),this.unlisten(rd.strings.ACTION_EVENT,this.handleItemAction_),t.prototype.destroy.call(this)},Object.defineProperty(e.prototype,"open",{get:function(){return this.menuSurface_.isOpen()},set:function(t){t?this.menuSurface_.open():this.menuSurface_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrapFocus",{get:function(){return!!this.list_&&this.list_.wrapFocus},set:function(t){this.list_&&(this.list_.wrapFocus=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.list_?this.list_.listElements:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickOpen",{set:function(t){this.menuSurface_.quickOpen=t},enumerable:!0,configurable:!0}),e.prototype.setDefaultFocusState=function(t){this.foundation_.setDefaultFocusState(t)},e.prototype.setAnchorCorner=function(t){this.menuSurface_.setAnchorCorner(t)},e.prototype.setAnchorMargin=function(t){this.menuSurface_.setAnchorMargin(t)},e.prototype.setSelectedIndex=function(t){this.foundation_.setSelectedIndex(t)},e.prototype.setEnabled=function(t,e){this.foundation_.setEnabled(t,e)},e.prototype.getOptionByIndex=function(t){return t<this.items.length?this.items[t]:null},e.prototype.setFixedPosition=function(t){this.menuSurface_.setFixedPosition(t)},e.prototype.setIsHoisted=function(t){this.menuSurface_.setIsHoisted(t)},e.prototype.setAbsolutePosition=function(t,e){this.menuSurface_.setAbsolutePosition(t,e)},e.prototype.setAnchorElement=function(t){this.menuSurface_.anchorElement=t},e.prototype.getDefaultFoundation=function(){var t=this;return new Pk({addClassToElementAtIndex:function(e,n){t.items[e].classList.add(n)},removeClassFromElementAtIndex:function(e,n){t.items[e].classList.remove(n)},addAttributeToElementAtIndex:function(e,n,i){t.items[e].setAttribute(n,i)},removeAttributeFromElementAtIndex:function(e,n){t.items[e].removeAttribute(n)},elementContainsClass:function(t,e){return t.classList.contains(e)},closeSurface:function(e){return t.menuSurface_.close(e)},getElementIndex:function(e){return t.items.indexOf(e)},notifySelected:function(e){return t.emit(Ub.SELECTED_EVENT,{index:e.index,item:t.items[e.index]})},getMenuItemCount:function(){return t.items.length},focusItemAtIndex:function(e){return t.items[e].focus()},focusListRoot:function(){return t.root_.querySelector(Ub.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(e){return!!qf(t.items[e],"."+Vc.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(e){var n=qf(t.items[e],"."+Vc.MENU_SELECTION_GROUP).querySelector("."+Vc.MENU_SELECTED_LIST_ITEM);return n?t.items.indexOf(n):-1}})},e}(tb);var oh={NOTCH_ELEMENT_SELECTOR:".mdc-notched-outline__notch"},ph={NOTCH_ELEMENT_PADDING:8},rf={NO_LABEL:"mdc-notched-outline--no-label",OUTLINE_NOTCHED:"mdc-notched-outline--notched",OUTLINE_UPGRADED:"mdc-notched-outline--upgraded"};var Rk=function(e){function t(r){return e.call(this,ta(ta({},t.defaultAdapter),r))||this}return da(t,e),Object.defineProperty(t,"strings",{get:function(){return oh},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return rf},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return ph},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!0,configurable:!0}),t.prototype.notch=function(e){var r=t.cssClasses.OUTLINE_NOTCHED;e>0&&(e+=ph.NOTCH_ELEMENT_PADDING),this.adapter_.setNotchWidthProperty(e),this.adapter_.addClass(r)},t.prototype.closeNotch=function(){var e=t.cssClasses.OUTLINE_NOTCHED;this.adapter_.removeClass(e),this.adapter_.removeNotchWidthProperty()},t}(qb);var Sk=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return da(o,t),o.attachTo=function(t){return new o(t)},o.prototype.initialSyncWithDOM=function(){this.notchElement_=this.root_.querySelector(oh.NOTCH_ELEMENT_SELECTOR);var t=this.root_.querySelector("."+lh.cssClasses.ROOT);t?(t.style.transitionDuration="0s",this.root_.classList.add(rf.OUTLINE_UPGRADED),requestAnimationFrame(function(){t.style.transitionDuration=""})):this.root_.classList.add(rf.NO_LABEL)},o.prototype.notch=function(t){this.foundation_.notch(t)},o.prototype.closeNotch=function(){this.foundation_.closeNotch()},o.prototype.getDefaultFoundation=function(){var t=this;return new Rk({addClass:function(o){return t.root_.classList.add(o)},removeClass:function(o){return t.root_.classList.remove(o)},setNotchWidthProperty:function(o){return t.notchElement_.style.setProperty("width",o+"px")},removeNotchWidthProperty:function(){return t.notchElement_.style.removeProperty("width")}})},o}(tb);function xb(e){return void 0===e&&(e=window),!!Tk(e)&&{passive:!0}}function Tk(e){void 0===e&&(e=window);var t=!1;try{var s={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,s),e.document.removeEventListener("test",r,s)}catch(n){t=!1}return t}var Uk={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"};var Vk={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"};var qh={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300};var rh;function Wk(s,r){void 0===r&&(r=!1);var o,e=s.CSS;if("boolean"==typeof rh&&!r)return rh;if(!(e&&"function"==typeof e.supports))return!1;var t=e.supports("--css-vars","yes"),a=e.supports("(--css-vars: yes)")&&e.supports("color","#00000000");return o=t||a,r||(rh=o),o}function Xk(s,r,o){if(!s)return{x:0,y:0};var e,t,a=r.x,p=r.y,$=a+o.left,v=p+o.top;if("touchstart"===s.type){var u=s;e=u.changedTouches[0].pageX-$,t=u.changedTouches[0].pageY-v}else{var i=s;e=i.pageX-$,t=i.pageY-v}return{x:e,y:t}}var sh=["touchstart","pointerdown","mousedown","keydown"],th=["touchend","pointerup","mouseup","contextmenu"],sf=[],tf=function(t){function e(a){var i=t.call(this,ta(ta({},e.defaultAdapter),a))||this;return i.activationAnimationHasEnded_=!1,i.activationTimer_=0,i.fgDeactivationRemovalTimer_=0,i.fgScale_="0",i.frame_={width:0,height:0},i.initialSize_=0,i.layoutFrame_=0,i.maxRadius_=0,i.unboundedCoords_={left:0,top:0},i.activationState_=i.defaultActivationState_(),i.activationTimerCallback_=function(){i.activationAnimationHasEnded_=!0,i.runDeactivationUXLogicIfReady_()},i.activateHandler_=function(t){return i.activate_(t)},i.deactivateHandler_=function(){return i.deactivate_()},i.focusHandler_=function(){return i.handleFocus()},i.blurHandler_=function(){return i.handleBlur()},i.resizeHandler_=function(){return i.layout()},i}return da(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return Uk},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Vk},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return qh},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this,a=this.supportsPressRipple_();if(this.registerRootHandlers_(a),a){var i=e.cssClasses,n=i.ROOT,r=i.UNBOUNDED;requestAnimationFrame(function(){t.adapter_.addClass(n),t.adapter_.isUnbounded()&&(t.adapter_.addClass(r),t.layoutInternal_())})}},e.prototype.destroy=function(){var t=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(e.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(e.cssClasses.FG_DEACTIVATION));var a=e.cssClasses,i=a.ROOT,n=a.UNBOUNDED;requestAnimationFrame(function(){t.adapter_.removeClass(i),t.adapter_.removeClass(n),t.removeCssVars_()})}this.deregisterRootHandlers_(),this.deregisterDeactivationHandlers_()},e.prototype.activate=function(t){this.activate_(t)},e.prototype.deactivate=function(){this.deactivate_()},e.prototype.layout=function(){var t=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=requestAnimationFrame(function(){t.layoutInternal_(),t.layoutFrame_=0})},e.prototype.setUnbounded=function(t){var a=e.cssClasses.UNBOUNDED;t?this.adapter_.addClass(a):this.adapter_.removeClass(a)},e.prototype.handleFocus=function(){var t=this;requestAnimationFrame(function(){return t.adapter_.addClass(e.cssClasses.BG_FOCUSED)})},e.prototype.handleBlur=function(){var t=this;requestAnimationFrame(function(){return t.adapter_.removeClass(e.cssClasses.BG_FOCUSED)})},e.prototype.supportsPressRipple_=function(){return this.adapter_.browserSupportsCssVars()},e.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},e.prototype.registerRootHandlers_=function(t){var e=this;t&&(sh.forEach(function(t){e.adapter_.registerInteractionHandler(t,e.activateHandler_)}),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_)),this.adapter_.registerInteractionHandler("focus",this.focusHandler_),this.adapter_.registerInteractionHandler("blur",this.blurHandler_)},e.prototype.registerDeactivationHandlers_=function(t){var e=this;"keydown"===t.type?this.adapter_.registerInteractionHandler("keyup",this.deactivateHandler_):th.forEach(function(t){e.adapter_.registerDocumentInteractionHandler(t,e.deactivateHandler_)})},e.prototype.deregisterRootHandlers_=function(){var t=this;sh.forEach(function(e){t.adapter_.deregisterInteractionHandler(e,t.activateHandler_)}),this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_),this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_),this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)},e.prototype.deregisterDeactivationHandlers_=function(){var t=this;this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_),th.forEach(function(e){t.adapter_.deregisterDocumentInteractionHandler(e,t.deactivateHandler_)})},e.prototype.removeCssVars_=function(){var t=this,a=e.strings;Object.keys(a).forEach(function(e){0===e.indexOf("VAR_")&&t.adapter_.updateCssVariable(a[e],null)})},e.prototype.activate_=function(t){var e=this;if(!this.adapter_.isSurfaceDisabled()){var a=this.activationState_;if(!a.isActivated){var i=this.previousActivationEvent_;if(!(i&&void 0!==t&&i.type!==t.type))a.isActivated=!0,a.isProgrammatic=void 0===t,a.activationEvent=t,a.wasActivatedByPointer=!a.isProgrammatic&&void 0!==t&&("mousedown"===t.type||"touchstart"===t.type||"pointerdown"===t.type),void 0!==t&&sf.length>0&&sf.some(function(t){return e.adapter_.containsEventTarget(t)})?this.resetActivationState_():(void 0!==t&&(sf.push(t.target),this.registerDeactivationHandlers_(t)),a.wasElementMadeActive=this.checkElementMadeActive_(t),a.wasElementMadeActive&&this.animateActivation_(),requestAnimationFrame(function(){sf=[],a.wasElementMadeActive||void 0===t||" "!==t.key&&32!==t.keyCode||(a.wasElementMadeActive=e.checkElementMadeActive_(t),a.wasElementMadeActive&&e.animateActivation_()),a.wasElementMadeActive||(e.activationState_=e.defaultActivationState_())}))}}},e.prototype.checkElementMadeActive_=function(t){return void 0===t||"keydown"!==t.type||this.adapter_.isSurfaceActive()},e.prototype.animateActivation_=function(){var t=this,a=e.strings,i=a.VAR_FG_TRANSLATE_START,n=a.VAR_FG_TRANSLATE_END,r=e.cssClasses,s=r.FG_DEACTIVATION,o=r.FG_ACTIVATION,d=e.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var c="",u="";if(!this.adapter_.isUnbounded()){var _=this.getFgTranslationCoordinates_(),p=_.startPoint,l=_.endPoint;c=p.x+"px, "+p.y+"px",u=l.x+"px, "+l.y+"px"}this.adapter_.updateCssVariable(i,c),this.adapter_.updateCssVariable(n,u),clearTimeout(this.activationTimer_),clearTimeout(this.fgDeactivationRemovalTimer_),this.rmBoundedActivationClasses_(),this.adapter_.removeClass(s),this.adapter_.computeBoundingRect(),this.adapter_.addClass(o),this.activationTimer_=setTimeout(function(){return t.activationTimerCallback_()},d)},e.prototype.getFgTranslationCoordinates_=function(){var t,e=this.activationState_,a=e.activationEvent;return{startPoint:t={x:(t=e.wasActivatedByPointer?Xk(a,this.adapter_.getWindowPageOffset(),this.adapter_.computeBoundingRect()):{x:this.frame_.width/2,y:this.frame_.height/2}).x-this.initialSize_/2,y:t.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},e.prototype.runDeactivationUXLogicIfReady_=function(){var t=this,a=e.cssClasses.FG_DEACTIVATION,i=this.activationState_,n=i.hasDeactivationUXRun,r=i.isActivated;(n||!r)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(a),this.fgDeactivationRemovalTimer_=setTimeout(function(){t.adapter_.removeClass(a)},qh.FG_DEACTIVATION_MS))},e.prototype.rmBoundedActivationClasses_=function(){var t=e.cssClasses.FG_ACTIVATION;this.adapter_.removeClass(t),this.activationAnimationHasEnded_=!1,this.adapter_.computeBoundingRect()},e.prototype.resetActivationState_=function(){var t=this;this.previousActivationEvent_=this.activationState_.activationEvent,this.activationState_=this.defaultActivationState_(),setTimeout(function(){return t.previousActivationEvent_=void 0},e.numbers.TAP_DELAY_MS)},e.prototype.deactivate_=function(){var t=this,e=this.activationState_;if(e.isActivated){var a=ta({},e);e.isProgrammatic?(requestAnimationFrame(function(){return t.animateDeactivation_(a)}),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(function(){t.activationState_.hasDeactivationUXRun=!0,t.animateDeactivation_(a),t.resetActivationState_()}))}},e.prototype.animateDeactivation_=function(t){var e=t.wasActivatedByPointer,a=t.wasElementMadeActive;(e||a)&&this.runDeactivationUXLogicIfReady_()},e.prototype.layoutInternal_=function(){var t=this;this.frame_=this.adapter_.computeBoundingRect();var a=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter_.isUnbounded()?a:Math.sqrt(Math.pow(t.frame_.width,2)+Math.pow(t.frame_.height,2))+e.numbers.PADDING;var i=Math.floor(a*e.numbers.INITIAL_ORIGIN_SCALE);this.adapter_.isUnbounded()&&i%2!=0?this.initialSize_=i-1:this.initialSize_=i,this.fgScale_=""+this.maxRadius_/this.initialSize_,this.updateLayoutCssVars_()},e.prototype.updateLayoutCssVars_=function(){var t=e.strings,a=t.VAR_FG_SIZE,i=t.VAR_LEFT,n=t.VAR_TOP,r=t.VAR_FG_SCALE;this.adapter_.updateCssVariable(a,this.initialSize_+"px"),this.adapter_.updateCssVariable(r,this.fgScale_),this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(i,this.unboundedCoords_.left+"px"),this.adapter_.updateCssVariable(n,this.unboundedCoords_.top+"px"))},e}(qb);var Wc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!1,t}return da(t,e),t.attachTo=function(e,n){void 0===n&&(n={isUnbounded:void 0});var o=new t(e);return void 0!==n.isUnbounded&&(o.unbounded=n.isUnbounded),o},t.createAdapter=function(e){return{addClass:function(t){return e.root_.classList.add(t)},browserSupportsCssVars:function(){return Wk(window)},computeBoundingRect:function(){return e.root_.getBoundingClientRect()},containsEventTarget:function(t){return e.root_.contains(t)},deregisterDocumentInteractionHandler:function(e,t){return document.documentElement.removeEventListener(e,t,xb())},deregisterInteractionHandler:function(t,n){return e.root_.removeEventListener(t,n,xb())},deregisterResizeHandler:function(e){return window.removeEventListener("resize",e)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return od(e.root_,":active")},isSurfaceDisabled:function(){return Boolean(e.disabled)},isUnbounded:function(){return Boolean(e.unbounded)},registerDocumentInteractionHandler:function(e,t){return document.documentElement.addEventListener(e,t,xb())},registerInteractionHandler:function(t,n){return e.root_.addEventListener(t,n,xb())},registerResizeHandler:function(e){return window.addEventListener("resize",e)},removeClass:function(t){return e.root_.classList.remove(t)},updateCssVariable:function(t,n){return e.root_.style.setProperty(t,n)}}},Object.defineProperty(t.prototype,"unbounded",{get:function(){return Boolean(this.unbounded_)},set:function(e){this.unbounded_=Boolean(e),this.setUnbounded_()},enumerable:!0,configurable:!0}),t.prototype.activate=function(){this.foundation_.activate()},t.prototype.deactivate=function(){this.foundation_.deactivate()},t.prototype.layout=function(){this.foundation_.layout()},t.prototype.getDefaultFoundation=function(){return new tf(t.createAdapter(this))},t.prototype.initialSyncWithDOM=function(){var e=this.root_;this.unbounded="mdcRippleIsUnbounded"in e.dataset},t.prototype.setUnbounded_=function(){this.foundation_.setUnbounded(Boolean(this.unbounded_))},t}(tb);var $a={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",SELECTED_ITEM_CLASS:"mdc-list-item--selected",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},mb={ARIA_CONTROLS:"aria-controls",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_ITEM_SELECTOR:"."+$a.SELECTED_ITEM_CLASS,SELECTED_TEXT_SELECTOR:".mdc-select__selected-text",SELECT_ANCHOR_SELECTOR:".mdc-select__anchor",VALUE_ATTR:"data-value"},wc={LABEL_SCALE:.75,UNSET_INDEX:-1};var Yk=function(e){function t(s,n){void 0===n&&(n={});var i=e.call(this,ta(ta({},t.defaultAdapter),s))||this;return i.selectedIndex=wc.UNSET_INDEX,i.disabled=!1,i.isMenuOpen=!1,i.leadingIcon=n.leadingIcon,i.helperText=n.helperText,i.menuItemValues=i.adapter_.getMenuItemValues(),i.setDisabled(i.adapter_.hasClass($a.DISABLED)),i}return da(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return $a},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return wc},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return mb},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},getSelectedMenuItem:function(){return null},hasLabel:function(){return!1},floatLabel:function(){},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},setRippleCenter:function(){},notifyChange:function(){},setSelectedText:function(){},isSelectAnchorFocused:function(){return!1},getSelectAnchorAttr:function(){return""},setSelectAnchorAttr:function(){},openMenu:function(){},closeMenu:function(){},getAnchorElement:function(){return null},setMenuAnchorElement:function(){},setMenuAnchorCorner:function(){},setMenuWrapFocus:function(){},setAttributeAtIndex:function(){},removeAttributeAtIndex:function(){},focusMenuItemAtIndex:function(){},getMenuItemCount:function(){return 0},getMenuItemValues:function(){return[]},getMenuItemTextAtIndex:function(){return""},getMenuItemAttr:function(){return""},addClassAtIndex:function(){},removeClassAtIndex:function(){}}},enumerable:!0,configurable:!0}),t.prototype.getSelectedIndex=function(){return this.selectedIndex},t.prototype.setSelectedIndex=function(e,t){if(void 0===t&&(t=!1),!(e>=this.adapter_.getMenuItemCount())){var s=this.selectedIndex;this.selectedIndex=e,this.selectedIndex===wc.UNSET_INDEX?this.adapter_.setSelectedText(""):this.adapter_.setSelectedText(this.adapter_.getMenuItemTextAtIndex(this.selectedIndex).trim()),s!==wc.UNSET_INDEX&&(this.adapter_.removeClassAtIndex(s,$a.SELECTED_ITEM_CLASS),this.adapter_.removeAttributeAtIndex(s,mb.ARIA_SELECTED_ATTR)),this.selectedIndex!==wc.UNSET_INDEX&&(this.adapter_.addClassAtIndex(this.selectedIndex,$a.SELECTED_ITEM_CLASS),this.adapter_.setAttributeAtIndex(this.selectedIndex,mb.ARIA_SELECTED_ATTR,"true")),this.layout(),t&&this.adapter_.closeMenu(),this.handleChange()}},t.prototype.setValue=function(e){var t=this.menuItemValues.indexOf(e);this.setSelectedIndex(t)},t.prototype.getValue=function(){var e=this.adapter_.getSelectedMenuItem();return e&&this.adapter_.getMenuItemAttr(e,mb.VALUE_ATTR)||""},t.prototype.getDisabled=function(){return this.disabled},t.prototype.setDisabled=function(e){this.disabled=e,this.disabled?(this.adapter_.addClass($a.DISABLED),this.adapter_.closeMenu()):this.adapter_.removeClass($a.DISABLED),this.leadingIcon&&this.leadingIcon.setDisabled(this.disabled),this.adapter_.setSelectAnchorAttr("tabindex",this.disabled?"-1":"0"),this.adapter_.setSelectAnchorAttr("aria-disabled",this.disabled.toString())},t.prototype.setHelperTextContent=function(e){this.helperText&&this.helperText.setContent(e)},t.prototype.layout=function(){if(this.adapter_.hasLabel()){var e=this.getValue().length>0;this.notchOutline(e)}},t.prototype.handleMenuOpened=function(){if(0!==this.adapter_.getMenuItemValues().length){this.adapter_.addClass($a.ACTIVATED);var e=this.selectedIndex>=0?this.selectedIndex:0;this.adapter_.focusMenuItemAtIndex(e)}},t.prototype.handleMenuClosed=function(){this.adapter_.removeClass($a.ACTIVATED),this.isMenuOpen=!1,this.adapter_.setSelectAnchorAttr("aria-expanded","false"),this.adapter_.isSelectAnchorFocused()||this.blur()},t.prototype.handleChange=function(){this.updateLabel(),this.adapter_.notifyChange(this.getValue()),this.adapter_.hasClass($a.REQUIRED)&&(this.setValid(this.isValid()),this.helperText&&this.helperText.setValidity(this.isValid()))},t.prototype.handleMenuItemAction=function(e){this.setSelectedIndex(e,!0)},t.prototype.handleFocus=function(){this.adapter_.addClass($a.FOCUSED),this.adapter_.hasLabel()&&(this.notchOutline(!0),this.adapter_.floatLabel(!0)),this.adapter_.activateBottomLine(),this.helperText&&this.helperText.showToScreenReader()},t.prototype.handleBlur=function(){this.isMenuOpen||this.blur()},t.prototype.handleClick=function(e){this.isMenuOpen||(this.adapter_.setRippleCenter(e),this.adapter_.openMenu(),this.isMenuOpen=!0,this.adapter_.setSelectAnchorAttr("aria-expanded","true"))},t.prototype.handleKeydown=function(e){if(!this.isMenuOpen){var t="Enter"===e.key||13===e.keyCode,s="Space"===e.key||32===e.keyCode,n="ArrowUp"===e.key||38===e.keyCode,i="ArrowDown"===e.key||40===e.keyCode;this.adapter_.hasClass($a.FOCUSED)&&(t||s||n||i)&&(this.adapter_.openMenu(),this.isMenuOpen=!0,this.adapter_.setSelectAnchorAttr("aria-expanded","true"),e.preventDefault())}},t.prototype.notchOutline=function(e){if(this.adapter_.hasOutline()){var t=this.adapter_.hasClass($a.FOCUSED);if(e){var s=wc.LABEL_SCALE,n=this.adapter_.getLabelWidth()*s;this.adapter_.notchOutline(n)}else t||this.adapter_.closeOutline()}},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon&&this.leadingIcon.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon&&this.leadingIcon.setContent(e)},t.prototype.setValid=function(e){this.adapter_.setSelectAnchorAttr("aria-invalid",(!e).toString()),e?this.adapter_.removeClass($a.INVALID):this.adapter_.addClass($a.INVALID)},t.prototype.isValid=function(){return!(this.adapter_.hasClass($a.REQUIRED)&&!this.adapter_.hasClass($a.DISABLED))||this.selectedIndex!==wc.UNSET_INDEX&&(0!==this.selectedIndex||Boolean(this.getValue()))},t.prototype.setRequired=function(e){e?this.adapter_.addClass($a.REQUIRED):this.adapter_.removeClass($a.REQUIRED),this.adapter_.setSelectAnchorAttr("aria-required",e.toString())},t.prototype.getRequired=function(){return"true"===this.adapter_.getSelectAnchorAttr("aria-required")},t.prototype.init=function(){var e=this.adapter_.getAnchorElement();e&&(this.adapter_.setMenuAnchorElement(e),this.adapter_.setMenuAnchorCorner(pd.BOTTOM_START)),this.adapter_.setMenuWrapFocus(!1);var t=this.getValue();t&&this.setValue(t),this.updateLabel()},t.prototype.updateLabel=function(){var e=this.getValue().length>0;this.adapter_.hasLabel()&&(this.notchOutline(e),this.adapter_.hasClass($a.FOCUSED)||this.adapter_.floatLabel(e))},t.prototype.blur=function(){this.adapter_.removeClass($a.FOCUSED),this.updateLabel(),this.adapter_.deactivateBottomLine(),this.adapter_.hasClass($a.REQUIRED)&&(this.setValid(this.isValid()),this.helperText&&this.helperText.setValidity(this.isValid()))},t}(qb);var td={ARIA_HIDDEN:"aria-hidden",ROLE:"role"},xc={HELPER_TEXT_PERSISTENT:"mdc-select-helper-text--persistent",HELPER_TEXT_VALIDATION_MSG:"mdc-select-helper-text--validation-msg"};var Zk=function(t){function e(s){return t.call(this,ta(ta({},e.defaultAdapter),s))||this}return da(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return xc},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return td},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setContent=function(t){this.adapter_.setContent(t)},e.prototype.setPersistent=function(t){t?this.adapter_.addClass(xc.HELPER_TEXT_PERSISTENT):this.adapter_.removeClass(xc.HELPER_TEXT_PERSISTENT)},e.prototype.setValidation=function(t){t?this.adapter_.addClass(xc.HELPER_TEXT_VALIDATION_MSG):this.adapter_.removeClass(xc.HELPER_TEXT_VALIDATION_MSG)},e.prototype.showToScreenReader=function(){this.adapter_.removeAttr(td.ARIA_HIDDEN)},e.prototype.setValidity=function(t){var e=this.adapter_.hasClass(xc.HELPER_TEXT_PERSISTENT),s=this.adapter_.hasClass(xc.HELPER_TEXT_VALIDATION_MSG)&&!t;s?this.adapter_.setAttr(td.ROLE,"alert"):this.adapter_.removeAttr(td.ROLE),e||s||this.hide_()},e.prototype.hide_=function(){this.adapter_.setAttr(td.ARIA_HIDDEN,"true")},e}(qb);var $k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new Zk({addClass:function(e){return t.root_.classList.add(e)},removeClass:function(e){return t.root_.classList.remove(e)},hasClass:function(e){return t.root_.classList.contains(e)},setAttr:function(e,r){return t.root_.setAttribute(e,r)},removeAttr:function(e){return t.root_.removeAttribute(e)},setContent:function(e){t.root_.textContent=e}})},e}(tb);var uh={ICON_EVENT:"MDCSelect:icon",ICON_ROLE:"button"};var vh=["click","keydown"],wh=function(t){function e(n){var r=t.call(this,ta(ta({},e.defaultAdapter),n))||this;return r.savedTabIndex_=null,r.interactionHandler_=function(t){return r.handleInteraction(t)},r}return da(e,t),Object.defineProperty(e,"strings",{get:function(){return uh},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),e.prototype.init=function(){var t=this;this.savedTabIndex_=this.adapter_.getAttr("tabindex"),vh.forEach(function(e){t.adapter_.registerInteractionHandler(e,t.interactionHandler_)})},e.prototype.destroy=function(){var t=this;vh.forEach(function(e){t.adapter_.deregisterInteractionHandler(e,t.interactionHandler_)})},e.prototype.setDisabled=function(t){this.savedTabIndex_&&(t?(this.adapter_.setAttr("tabindex","-1"),this.adapter_.removeAttr("role")):(this.adapter_.setAttr("tabindex",this.savedTabIndex_),this.adapter_.setAttr("role",uh.ICON_ROLE)))},e.prototype.setAriaLabel=function(t){this.adapter_.setAttr("aria-label",t)},e.prototype.setContent=function(t){this.adapter_.setContent(t)},e.prototype.handleInteraction=function(t){var e="Enter"===t.key||13===t.keyCode;("click"===t.type||e)&&this.adapter_.notifyIconAction()},e}(qb);var _k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),e.prototype.getDefaultFoundation=function(){var t=this;return new wh({getAttr:function(e){return t.root_.getAttribute(e)},setAttr:function(e,n){return t.root_.setAttribute(e,n)},removeAttr:function(e){return t.root_.removeAttribute(e)},setContent:function(e){t.root_.textContent=e},registerInteractionHandler:function(e,n){return t.listen(e,n)},deregisterInteractionHandler:function(e,n){return t.unlisten(e,n)},notifyIconAction:function(){return t.emit(wh.strings.ICON_EVENT,{},!0)}})},e}(tb);var xh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return da(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,t,n,i,o,r){if(void 0===e&&(e=function(e){return new Ek(e)}),void 0===t&&(t=function(e){return new Gk(e)}),void 0===n&&(n=function(e){return new Sk(e)}),void 0===i&&(i=function(e){return new Qk(e)}),void 0===o&&(o=function(e){return new _k(e)}),void 0===r&&(r=function(e){return new $k(e)}),this.selectAnchor=this.root_.querySelector(mb.SELECT_ANCHOR_SELECTOR),this.selectedText=this.root_.querySelector(mb.SELECTED_TEXT_SELECTOR),!this.selectedText)throw new Error("MDCSelect: Missing required element: The following selector must be present: '"+mb.SELECTED_TEXT_SELECTOR+"'");if(this.selectAnchor.hasAttribute(mb.ARIA_CONTROLS)){var s=document.getElementById(this.selectAnchor.getAttribute(mb.ARIA_CONTROLS));s&&(this.helperText=r(s))}this.menuSetup(i);var u=this.root_.querySelector(mb.LABEL_SELECTOR);this.label=u?e(u):null;var l=this.root_.querySelector(mb.LINE_RIPPLE_SELECTOR);this.lineRipple=l?t(l):null;var c=this.root_.querySelector(mb.OUTLINE_SELECTOR);this.outline=c?n(c):null;var a=this.root_.querySelector(mb.LEADING_ICON_SELECTOR);a&&(this.leadingIcon=o(a)),this.root_.classList.contains($a.OUTLINED)||(this.ripple=this.createRipple())},t.prototype.initialSyncWithDOM=function(){var e=this;this.handleChange=function(){e.foundation_.handleChange()},this.handleFocus=function(){e.foundation_.handleFocus()},this.handleBlur=function(){e.foundation_.handleBlur()},this.handleClick=function(t){e.selectAnchor.focus(),e.foundation_.handleClick(e.getNormalizedXCoordinate(t))},this.handleKeydown=function(t){e.foundation_.handleKeydown(t)},this.handleMenuItemAction=function(t){e.foundation_.handleMenuItemAction(t.detail.index)},this.handleMenuOpened=function(){e.foundation_.handleMenuOpened()},this.handleMenuClosed=function(){e.foundation_.handleMenuClosed()},this.selectAnchor.addEventListener("focus",this.handleFocus),this.selectAnchor.addEventListener("blur",this.handleBlur),this.selectAnchor.addEventListener("click",this.handleClick),this.selectAnchor.addEventListener("keydown",this.handleKeydown),this.menu.listen(dc.CLOSED_EVENT,this.handleMenuClosed),this.menu.listen(dc.OPENED_EVENT,this.handleMenuOpened),this.menu.listen(Ub.SELECTED_EVENT,this.handleMenuItemAction),this.foundation_.init()},t.prototype.destroy=function(){this.selectAnchor.removeEventListener("change",this.handleChange),this.selectAnchor.removeEventListener("focus",this.handleFocus),this.selectAnchor.removeEventListener("blur",this.handleBlur),this.selectAnchor.removeEventListener("keydown",this.handleKeydown),this.selectAnchor.removeEventListener("click",this.handleClick),this.menu.unlisten(dc.CLOSED_EVENT,this.handleMenuClosed),this.menu.unlisten(dc.OPENED_EVENT,this.handleMenuOpened),this.menu.unlisten(Ub.SELECTED_EVENT,this.handleMenuItemAction),this.menu.destroy(),this.ripple&&this.ripple.destroy(),this.outline&&this.outline.destroy(),this.leadingIcon&&this.leadingIcon.destroy(),this.helperText&&this.helperText.destroy(),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this.foundation_.getValue()},set:function(e){this.foundation_.setValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.foundation_.getSelectedIndex()},set:function(e){this.foundation_.setSelectedIndex(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.foundation_.getDisabled()},set:function(e){this.foundation_.setDisabled(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconAriaLabel",{set:function(e){this.foundation_.setLeadingIconAriaLabel(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leadingIconContent",{set:function(e){this.foundation_.setLeadingIconContent(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"helperTextContent",{set:function(e){this.foundation_.setHelperTextContent(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.foundation_.isValid()},set:function(e){this.foundation_.setValid(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this.foundation_.getRequired()},set:function(e){this.foundation_.setRequired(e)},enumerable:!0,configurable:!0}),t.prototype.layout=function(){this.foundation_.layout()},t.prototype.getDefaultFoundation=function(){var e=ta(ta(ta(ta({},this.getSelectAdapterMethods()),this.getCommonAdapterMethods()),this.getOutlineAdapterMethods()),this.getLabelAdapterMethods());return new Yk(e,this.getFoundationMap())},t.prototype.menuSetup=function(e){this.menuElement=this.root_.querySelector(mb.MENU_SELECTOR),this.menu=e(this.menuElement)},t.prototype.createRipple=function(){var e=this,t=ta(ta({},Wc.createAdapter({root_:this.selectAnchor})),{registerInteractionHandler:function(t,n){e.selectAnchor.addEventListener(t,n)},deregisterInteractionHandler:function(t,n){e.selectAnchor.removeEventListener(t,n)}});return new Wc(this.selectAnchor,new tf(t))},t.prototype.getSelectAdapterMethods=function(){var e=this;return{getSelectedMenuItem:function(){return e.menuElement.querySelector(mb.SELECTED_ITEM_SELECTOR)},getMenuItemAttr:function(e,t){return e.getAttribute(t)},setSelectedText:function(t){e.selectedText.value=t},isSelectAnchorFocused:function(){return document.activeElement===e.selectAnchor},getSelectAnchorAttr:function(t){return e.selectAnchor.getAttribute(t)},setSelectAnchorAttr:function(t,n){e.selectAnchor.setAttribute(t,n)},openMenu:function(){e.menu.open=!0},closeMenu:function(){e.menu.open=!1},getAnchorElement:function(){return e.root_.querySelector(mb.SELECT_ANCHOR_SELECTOR)},setMenuAnchorElement:function(t){e.menu.setAnchorElement(t)},setMenuAnchorCorner:function(t){e.menu.setAnchorCorner(t)},setMenuWrapFocus:function(t){e.menu.wrapFocus=t},setAttributeAtIndex:function(t,n,i){e.menu.items[t].setAttribute(n,i)},removeAttributeAtIndex:function(t,n){e.menu.items[t].removeAttribute(n)},focusMenuItemAtIndex:function(t){e.menu.items[t].focus()},getMenuItemCount:function(){return e.menu.items.length},getMenuItemValues:function(){return e.menu.items.map(function(e){return e.getAttribute(mb.VALUE_ATTR)||""})},getMenuItemTextAtIndex:function(t){return e.menu.items[t].textContent},addClassAtIndex:function(t,n){e.menu.items[t].classList.add(n)},removeClassAtIndex:function(t,n){e.menu.items[t].classList.remove(n)}}},t.prototype.getCommonAdapterMethods=function(){var e=this;return{addClass:function(t){e.root_.classList.add(t)},removeClass:function(t){e.root_.classList.remove(t)},hasClass:function(t){return e.root_.classList.contains(t)},setRippleCenter:function(t){e.lineRipple&&e.lineRipple.setRippleCenter(t)},activateBottomLine:function(){e.lineRipple&&e.lineRipple.activate()},deactivateBottomLine:function(){e.lineRipple&&e.lineRipple.deactivate()},notifyChange:function(t){var n=e.selectedIndex;e.emit(mb.CHANGE_EVENT,{value:t,index:n},!0)}}},t.prototype.getOutlineAdapterMethods=function(){var e=this;return{hasOutline:function(){return Boolean(e.outline)},notchOutline:function(t){e.outline&&e.outline.notch(t)},closeOutline:function(){e.outline&&e.outline.closeNotch()}}},t.prototype.getLabelAdapterMethods=function(){var e=this;return{hasLabel:function(){return!!e.label},floatLabel:function(t){e.label&&e.label.float(t)},getLabelWidth:function(){return e.label?e.label.getWidth():0}}},t.prototype.getNormalizedXCoordinate=function(e){var t=e.target.getBoundingClientRect();return(this.isTouchEvent(e)?e.touches[0].clientX:e.clientX)-t.left},t.prototype.isTouchEvent=function(e){return Boolean(e.touches)},t.prototype.getFoundationMap=function(){return{helperText:this.helperText?this.helperText.foundation:void 0,leadingIcon:this.leadingIcon?this.leadingIcon.foundation:void 0}},t}(tb);var yh=function(){function t(t){this.resolved=!1,this.resolving=!1,this.resolutionListeners=[],t&&this.resolve().catch(function(t){return console.error("[@rds/sdk] AsyncResource: failed to resolve",t)})}return t.prototype.isResolved=function(){return this.resolved},t.prototype.isResolving=function(){return this.resolving},t.prototype.registerResolutionListener=function(t){this.resolutionListeners.push(t)},t.prototype.setResolved=function(t){var r;if(this.resolved=t,this.resolved)for(;this.resolutionListeners.length;)null===(r=this.resolutionListeners.pop())||void 0===r||r.resolved()},t.prototype.setResolving=function(t){this.resolving=t},t}(),al=function(){return function(t,r,e,o,n,i,a,s,p){void 0===o&&(o=""),void 0===i&&(i=[]),void 0===a&&(a=""),void 0===s&&(s={}),void 0===p&&(p=""),this.source=t,this.protocol=r,this.host=e,this.port=o,this.path=n,this.segments=i,this.query=a,this.params=s,this.hash=p}}(),bl=function(t,r){return(bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function zh(t,r){function e(){this.constructor=t}bl(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function Bb(t,r,e,o){return new(e||(e=Promise))(function(n,i){function a(t){try{p(o.next(t))}catch(r){i(r)}}function s(t){try{p(o.throw(t))}catch(r){i(r)}}function p(t){var r;t.done?n(t.value):(r=t.value,r instanceof e?r:new e(function(t){t(r)})).then(a,s)}p((o=o.apply(t,r||[])).next())})}function Cb(t,r){var e,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue;}i=r.call(t,a)}catch(s){i=[6,s],o=0}finally{e=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var ec=function(){function t(){}return t.request=function(t){return Bb(this,void 0,void 0,function(){var r,e;return Cb(this,function(o){switch(o.label){case 0:return[4,fetch(t)];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),e=r,[4,r.json()];case 3:return e.parsedBody=o.sent(),[3,5];case 4:throw o.sent(),new Error("[@rds/sdk](HttpUtil.request): Failed to parse response as JSON");case 5:if(!r.ok)throw new Error(r.statusText);return[2,r];}})})},t.get=function(t,r){return void 0===r&&(r={method:"get"}),Bb(this,void 0,void 0,function(){return Cb(this,function(e){return[2,this.request(new Request(t,r))]})})},t.post=function(t,r,e){return void 0===e&&(e={method:"post",body:JSON.stringify(r)}),Bb(this,void 0,void 0,function(){return Cb(this,function(r){return[2,this.request(new Request(t,e))]})})},t.put=function(t,r,e){return void 0===e&&(e={method:"put",body:JSON.stringify(r)}),Bb(this,void 0,void 0,function(){return Cb(this,function(r){return[2,this.request(new Request(t,e))]})})},t}();function cl(t,r){return t&&r&&r.length?t+"="+r.map(function(t){return encodeURIComponent(t)}).join(",")+"&":""}function dl(t,r){return t&&null!=r?t+"="+encodeURIComponent(r)+"&":""}function Ah(t){if(!t)return"";var r="";for(var e in t)if(t.hasOwnProperty(e)){var o=t[e];Array.isArray(o)?r+=cl(e,o):r+=dl(e,o)}return"&"===r[r.length-1]&&(r=r.substr(0,r.length-1)),r}var uf=function(t){function r(r,e,o){void 0===o&&(o=!1);var n=t.call(this,o)||this;return n.catalog=r,n.dataProductId=e,n}return zh(r,t),Object.defineProperty(r.prototype,"dataProductUrl",{get:function(){return this.catalog.catalogUrl+"/"+this.dataProductId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"queryUrl",{get:function(){return this.catalog.apiUrl+"/api/query/"+this.catalog.catalogId+"/"+this.dataProductId},enumerable:!0,configurable:!0}),r.prototype.resolve=function(){return Bb(this,void 0,void 0,function(){var t=this;return Cb(this,function(r){return this.setResolving(!0),[2,new Promise(function(r,e){ec.get(""+t.dataProductUrl).then(function(e){(null==e?void 0:e.parsedBody)&&Object.assign(t,e.parsedBody),t.setResolved(!0),r()}).finally(function(){return t.setResolving(!1)}).catch(function(t){return e(t)})})]})})},r.prototype.count=function(){return Bb(this,void 0,void 0,function(){return Cb(this,function(t){return[2,ec.get(this.queryUrl+"/count")]})})},r.prototype.select=function(t){return Bb(this,void 0,void 0,function(){return Cb(this,function(r){return[2,ec.get(this.queryUrl+"/select?"+Ah(t))]})})},r.prototype.tabulate=function(t){return Bb(this,void 0,void 0,function(){return Cb(this,function(r){return[2,ec.get(this.queryUrl+"/tabulate?"+Ah(t))]})})},r}(yh),vf=function(t){function r(r,e,o){void 0===o&&(o=!1);var n=t.call(this,o)||this;return n.server=r,n.catalogId=e,n}return zh(r,t),Object.defineProperty(r.prototype,"apiUrl",{get:function(){return this.server.apiUrl},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"catalogUrl",{get:function(){return this.server.apiUrl+"/api/catalog/"+this.catalogId},enumerable:!0,configurable:!0}),r.prototype.getDataProduct=function(t,r){return void 0===r&&(r=!1),new uf(this,t,r)},r.prototype.getMetadata=function(){return Bb(this,void 0,void 0,function(){return Cb(this,function(t){return[2,ec.get(this.catalogUrl+"/metadata")]})})},r.prototype.resolve=function(){return Bb(this,void 0,void 0,function(){var t=this;return Cb(this,function(r){return this.setResolving(!0),[2,new Promise(function(r,e){ec.get(""+t.catalogUrl).then(function(e){(null==e?void 0:e.parsedBody)&&Object.assign(t,e.parsedBody),t.setResolved(!0),r()}).finally(function(){return t.setResolving(!1)}).catch(function(t){return e(t)})})]})})},r}(yh);function el(t){var r=document.createElement("a");r.href=t;var e=new al(t,r.protocol.replace(":",""),r.hostname,r.port,r.pathname.replace(/^([^\/])/,"/$1"),r.pathname.replace(/^\//,"").split("/"),r.search,function(){for(var t={},e=r.search.replace(/^\?/,"").split("&"),o=0;o<e.length;o++)if(e[o]){var n=e[o].split("=");t[n[0]]=n[1]}return t}(),r.hash.replace("#",""));return r.remove(),e}var fl=function(){function t(t){this.parsedUrl=el(t.replace(/\/+$/,"")),this.apiUrl=this.parsedUrl.protocol+"://"+this.parsedUrl.host+(this.parsedUrl.port?":"+this.parsedUrl.port:"")+this.parsedUrl.path}return t.fromUrlParts=function(t,r,e,o){return void 0===t&&(t="https"),void 0===e&&(e="/rds"),new this(t+"://"+r+(o?":"+o:"")+e)},Object.defineProperty(t.prototype,"serverUrl",{get:function(){return this.apiUrl+"/api/server"},enumerable:!0,configurable:!0}),t.prototype.getCatalog=function(t,r){return void 0===r&&(r=!1),new vf(this,t,r)},t.prototype.getChangelog=function(){return Bb(this,void 0,void 0,function(){return Cb(this,function(t){return[2,ec.get(this.serverUrl+"/changelog")]})})},t.prototype.getInfo=function(){return Bb(this,void 0,void 0,function(){return Cb(this,function(t){return[2,ec.get(this.serverUrl+"/info")]})})},t.prototype.getRootCatalog=function(){return Bb(this,void 0,void 0,function(){return Cb(this,function(t){return[2,ec.get(this.apiUrl+"/api/catalog")]})})},t}();function Mb($,e){for(var r=$.length,x=0;x<r;++x)if($[x]===e)return x;return-1}function wf($,e){for(var r=$.length,x=0;x<r;++x)if(e($[x]))return!0;return!1}function ud($,e){for(var r=$.length,x=new Array(r),t=0;t<r;++t)x[t]=e($[t],t);return x}function la($,e){for(var r=$.length,x=0;x<r;++x)e($[x],x)}function gl($,e){for(var r=$.length;r--;)e($[r],r)}function xf($,e){for(var r=$.length,x=0;x<r&&e($[x],x);++x);}function hl($,e){for(var r=$.length,x=e;x<r;++x)$[x-e]=$[x];$.length=r-e}function il($,e){for(var r=e.length,x=0;x<r;++x)$.push(e[x])}function pa($,e){var r=!1,x=$.indexOf(e);if(-1!==x){r=!0,$.splice(x,1);for(var t=$.length;x<t;)$[x]===e?($.splice(x,1),--t):++x}return r}function Hb($,e,r){var x=Mb($,e);-1!==x&&Zc($,x),null==r?$.push(e):Yc($,r,e)}function Xc($,e,r){aa(r)?0===r?$.unshift(e):$.splice(r,0,e):$.push(e)}function jl($,e,r){var x=$.indexOf(e);-1!==x&&$.splice(x,1),aa(r)?$.splice(r,0,e):$.push(e)}function Bh($){return Array.isArray($)?$:[$]}function vd($){for(var e=$.length,r=new Array(e),x=0;x<e;++x)r[x]=$[x];return r}function Yc($,e,r){$.splice(e,0,r)}function Zc($,e){$.splice(e,1)}function be($,e,r){for(var x=0,t=$.length,o=!1;x<t;){var n=x+t>>1,p=e(r,$[n]);p<0?t=n:0===p?(o=!0,x=n+1):x=n+1}return{found:o,index:o?x-1:x}}function Ch($,e){for(var r=$.length,x=0;x<r;++x)if(e($[x],x))return x;return-1}function Dh($,e){for(var r=$.length,x=0;x<r;)e($[x])?++x:($.splice(x,1),--r)}function nb(e){return Number(e)!==e}function Eh(e){return{}.toString.call(e)}function yf(e){if("string"==typeof e)return e;if("number"==typeof e)return""+e;throw new Error("Expected a string or number but got "+Eh(e))}function Oa(e){return!!e}function La(e){if(ba(e)&&!aa(e)){var t=Number(e);return nb(t)&&wa(e)&&""!=e?La(e.replace(/[^0-9.\-]+/g,"")):t}return e}function kb(e){if(ba(e)&&!wa(e)){if(aa(e))return yf(e);if(Qa(e))return e.toString()}return e}function kl(e){return!ba(e)||aa(e)||ll(e)?e:wa(e)&&-1!=e.indexOf("%")?ha(La(e)):La(e)}function ba(e){return null!=e}function Ma(e){if(ba(e))return e;throw new Error("Value doesn't exist")}function zf(e,t){return ba(e)?e:t}function wd(e){return"[object Date]"===Eh(e)}function wa(e){return"string"==typeof e}function aa(e){return"number"==typeof e&&Number(e)==e}function Qa(e){return"object"==typeof e&&null!=e}function ab(e){return Array.isArray(e)}var za=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._value+"%"},e}();function ha(e){return new za(e)}function ll(e){return e instanceof za}var ce=Math.PI;var Fh=ce/2;var de=ce/180;var lc=180/ce;function Af(t,$,e){return ba(t)?ma(t=La(t),$,e):t}function ga(t,$,e){if(!aa($)||$<=0){var r=Math.round(t);return e&&r-t==.5&&r--,r}var o=Math.pow(10,$);return Math.round(t*o)/o}function Bf(t,$){if(!aa($)||$<=0)return Math.ceil(t);var e=Math.pow(10,$);return Math.ceil(t*e)/e}function ma(t,$,e){if(aa($)){if(aa(e)&&e<$){var r=e;e=$,$=r}t<$&&(t=$)}return aa(e)&&t>e&&(t=e),t}function ia(t){return ga(Math.sin(de*t),10)}function Gh(t){return ga(Math.tan(de*t),10)}function ja(t){return ga(Math.cos(de*t),10)}function ua(t,$){return aa(t)?aa($)&&$>t?$:t:aa($)?$:null}function ya(t,$){return aa(t)?aa($)&&$<t?$:t:aa($)?$:null}function ml(t,$){return t.reduce(function(t,e){return Math.abs(e-$)<Math.abs(t-$)?e:t})}function ee(t,$){var e=Ma(t.start),r=Ma($.start),o=Ma(t.end),n=Ma($.end);return Math.max(e,r)<=Math.min(o,n)}function Cf(t){var $=Ma(t.start);return{start:1-Ma(t.end),end:1-$}}function nl(t,$){var e=Ma(t.start),r=Ma($.start),o=Ma(t.end),n=Ma($.end),i=Math.max(e,r),x=Math.min(o,n);return x<i?void 0:{start:i,end:x}}function Ea(t,$){return t?($||($={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(t.x-$.x),2)+Math.pow(Math.abs(t.y-$.y),2))):0}function ol(t,$){return t?($||($={x:0,y:0}),Math.abs(t.x-$.x)):0}function pl(t,$){return t?($||($={x:0,y:0}),Math.abs(t.y-$.y)):0}function ql(t,$,e,r,o){if(!t)return 0;$||($={x:0,y:0});var n=0,i=t;if(o>0)for(var x=0;x<=o;x++){var A=Df(t,$,e,r,x/o);n+=Ea(i,A),i=A}return n}function rl(t,$,e,r){var o=Ea($,r),n=Ea(t,e);return Math.abs(n/o)}function fe(t,$,e){return aa(e)||(e=.5),{x:t.x+($.x-t.x)*e,y:t.y+($.y-t.y)*e}}function lb(t,$){$||($={x:2*t.x,y:2*t.y});var e=$.x-t.x,r=$.y-t.y,o=Math.atan2(r,e)*lc;return o<0&&(o+=360),yc(o)}function xd(t){if(t){var $=t.length;if(0!==$){for(var e,r=void 0,o=void 0,n=void 0,i=0;i<$;i++){var x=t[i];(!aa(o)||x.x>o)&&(o=x.x),(!aa(r)||x.x<r)&&(r=x.x),(!aa(e)||x.y<e)&&(e=x.y),(!aa(n)||x.y>n)&&(n=x.y)}return{x:r,y:e,width:o-r,height:n-e}}}return{x:0,y:0,width:0,height:0}}function yd(t){var $=t.length;if(0!==$){for(var e=void 0,r=void 0,o=void 0,n=void 0,i=0;i<$;i++){var x=t[i];e=ya(x.x,e),r=ya(x.y,r),o=ua(x.x+x.width,o),n=ua(x.y+x.height,n)}return{x:e,y:r,width:o-e,height:n-r}}}function Hh(t,$,e,r){return{x:(1-r)*(1-r)*t.x+2*(1-r)*r*e.x+r*r*$.x,y:(1-r)*(1-r)*t.y+2*(1-r)*r*e.y+r*r*$.y}}function Df(t,$,e,r,o){var n={x:0,y:0},i=1-o,x=i*i,A=x*i;return n.x=t.x*A+3*e.x*x*o+3*r.x*i*o*o+$.x*o*o*o,n.y=t.y*A+3*e.y*x*o+3*r.y*i*o*o+$.y*o*o*o,n}function Ih(t,$,e,r,o,n){return o=ge(o),n=ge(n),{x:(-t.x+$.x/o+e.x)*o,y:(-t.y+$.y/n+e.y)*n}}function Jh(t,$,e,r,o,n){return o=ge(o),n=ge(n),{x:($.x+e.x/o-r.x)*o,y:($.y+e.y/n-r.y)*n}}function ge(t){return 1-t+1e-5}function yc(t){return 360==t?360:t%360}function Vb(t,$,e){if($>e){var r=$;$=e,e=r}t=yc(t);var o=($-yc($))/360;return t<$&&(t+=360*(o+1)),t>e&&(t-360>$?t-=360:t=t<$+(e-$)/2+180?e:$),t<$&&(t=t>$+(e-$)/2-180?$:e),t}function Wb(t,$,e){var r=Number.MAX_VALUE,o=Number.MAX_VALUE,n=-Number.MAX_VALUE,i=-Number.MAX_VALUE,x=[];aa(e)||(e=1),x.push(Ef(e,t)),x.push(Ef(e,$));for(var A=Math.min(90*Math.floor(t/90),90*Math.floor($/90)),p=Math.max(90*Math.ceil(t/90),90*Math.ceil($/90)),S=A;S<=p;S+=90)S>=t&&S<=$&&x.push(Ef(e,S));for(var B=0;B<x.length;B++){var U=x[B];U.x<r&&(r=U.x),U.y<o&&(o=U.y),U.x>n&&(n=U.x),U.y>i&&(i=U.y)}return{x:r,y:o,width:n-r,height:i-o}}function Ef(t,$){return{x:t*ja($),y:t*ia($)}}function Kh(t,$){return t.x>=$.x&&t.x<=$.x+$.width&&t.y>$.y&&t.y<$.y+$.height}var Ga=function(){function e(e){this._disposed=!1,this._dispose=e}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose())},e}();var Pa=function(e){function t(t){return e.call(this,function(){la(t,function(e){e.dispose()})})||this}return da(t,e),t}(Ga);var bb=function(e){function t(){var t=e.call(this,function(){ba(t._disposer)&&(t._disposer.dispose(),t._disposer=void 0)})||this;return t}return da(t,e),t.prototype.get=function(){return this._value},t.prototype.set=function(e,t){ba(this._disposer)&&this._disposer.dispose(),this._disposer=t,this._value=e},t.prototype.reset=function(){this.set(void 0,void 0)},t}(Ga);var he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._counter=0,t}return da(t,e),t.prototype.increment=function(){var e=this;return++this._counter,new Ga(function(){--e._counter,0===e._counter&&e.dispose()})},t}(Ga);var sl=!1,ie=[],zd=[],je=[],Ff=[],tl=1e3/60,Gf="function"==typeof requestAnimationFrame?function($){requestAnimationFrame($)}:function($){setTimeout($,tl)};function Lh(){for(var $=Date.now(),e=ie.length,r=0;r<e;++r)ie[r]($);hl(ie,e);for(r=0;r<zd.length;++r)zd[r]($);zd.length=0;for(r=0;r<je.length;++r)je[r]($);je.length=0,0===ie.length&&0===zd.length?sl=!1:Gf(Lh)}function Mh(){sl||(sl=!0,Gf(Lh))}function ul($){zd.push($),Mh()}function Nh($){je.push($),Mh()}function vl($){Ff.push($)}function wl(){for(var $=Date.now(),e=Ff.length,r=0;r<e;++r)Ff.shift()($)}var mc=function(){function e(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{la(e,function(e){e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}},e.prototype.hasListeners=function(){return 0!==this._listeners.length},e.prototype.hasListenersByType=function(e){return wf(this._listeners,function(t){return(null===t.type||t.type===e)&&!t.killed})},e.prototype.enable=function(){this._enabled=!0},e.prototype.disable=function(){this._enabled=!1},e.prototype.enableType=function(e){delete this._disabled[e]},e.prototype.disableType=function(e,t){void 0===t&&(t=1/0),this._disabled[e]=t},e.prototype._removeListener=function(e){if(0===this._iterating){var t=this._listeners.indexOf(e);if(-1===t)throw new Error("Invalid state: could not remove listener");this._listeners.splice(t,1)}else this._killed.push(e)},e.prototype._removeExistingListener=function(e,t,i,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(n){n.once!==e||n.type!==t||null!=i&&n.callback!==i||n.context!==s||n.disposer.dispose()})},e.prototype.isEnabled=function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&null==this._disabled[e]},e.prototype.has=function(e,t,i){return-1!==Ch(this._listeners,function(s){return!0!==s.once&&s.type===e&&(null==t||s.callback===t)&&s.context===i})},e.prototype._shouldDispatch=function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");var t=this._disabled[e];return aa(t)?(t<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled},e.prototype._eachListener=function(e){var t=this;++this._iterating;try{la(this._listeners,e)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(la(this._killed,function(e){t._removeListener(e)}),this._killed.length=0)}},e.prototype.dispatchImmediately=function(e,t){this._shouldDispatch(e)&&this._eachListener(function(i){i.killed||null!==i.type&&i.type!==e||i.dispatch(e,t)})},e.prototype.dispatch=function(e,t){this._shouldDispatch(e)&&this._eachListener(function(i){i.killed||null!==i.type&&i.type!==e||vl(function(){i.killed||i.dispatch(e,t)})})},e.prototype._on=function(e,t,i,s,n,r){var o=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,t,i,s);var p={type:t,callback:i,context:s,shouldClone:n,dispatch:r,killed:!1,once:e,disposer:new Ga(function(){p.killed=!0,o._removeListener(p)})};return this._listeners.push(p),p},e.prototype.onAll=function(e,t,i){return void 0===i&&(i=!0),this._on(!1,null,e,t,i,function(i,s){return e.call(t,i,s)}).disposer},e.prototype.on=function(e,t,i,s){return void 0===s&&(s=!0),this._on(!1,e,t,i,s,function(e,s){return t.call(i,s)}).disposer},e.prototype.once=function(e,t,i,s){void 0===s&&(s=!0);var n=this._on(!0,e,t,i,s,function(e,s){n.disposer.dispose(),t.call(i,s)});return n.disposer},e.prototype.off=function(e,t,i){this._removeExistingListener(!1,e,t,i)},e.prototype.copyFrom=function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");la(e._listeners,function(e){!e.killed&&e.shouldClone&&(null===e.type?t.onAll(e.callback,e.context):e.once?t.once(e.type,e.callback,e.context):t.on(e.type,e.callback,e.context))})},e}();var Oh=function(e){function t(t){var i=e.call(this)||this;return i.target=t,i}return da(t,e),t.prototype.copyFrom=function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");la(e._listeners,function(i){i.context!==e.target&&!i.killed&&i.shouldClone&&(null===i.type?t.onAll(i.callback,i.context):i.once?t.once(i.type,i.callback,i.context):t.on(i.type,i.callback,i.context))})},t}(mc);function xl(e){return function($){for(var r in e)if(Xb(e,r)&&!$([r,e[r]]))break}}function Ph(e){var $=[];for(var r in e)Xb(e,r)&&$.push(r);return $}function yl(e,$){return Ph(e).sort($)}function Xb(e,$){return{}.hasOwnProperty.call(e,$)}function Qh(e,$){for(var r in e)if(Xb(e,r)&&!$(r,e[r]))break}function qa(e,$){Qh(e,function(e,r){return $(e,r),!0})}function fc(e,$,r){la(yl(e,r),function(r){$(r,e[r])})}function Hf(e,$){return Object.assign({},e,$)}function zl(e){return JSON.parse(JSON.stringify(e))}function Wa(e,$,r){la(r,function(r){ba(e[r])&&($[r]=e[r])})}function Al(e,$,r){la(r,function(r){$[r]=e[r]})}function Ad(e,$){Wa(e,$,Ph(e))}function zc(t){return function(r){for(var n=t.length,$=0;$<n&&r(t[$]);++$);}}function Bl(t){var r=0;return t(function(t){return++r,!0}),r}function Bd(t){var r=[];return t(function(t){return r.push(t),!0}),r}function Db(t,r){t(r)}function fa(t,r){t(function(t){return r(t),!0})}function $c(t,r){return zc(Bd(t).sort(r))}function Rh(t,r){return function(n){return t(function(t){return n(r(t))})}}function Cl(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(r){for(var n=!0,$=function(t){return n=r(t)},e=t.length,o=0;o<e&&(t[o]($),n);++o);}}function Dl(t){return function(r){var n=!0,$=function(t){return n=r(t)};t(function(t){return t($),n})}}function Ac(t){return function(r){var n=0;t(function(t){return r([n++,t])})}}function El(t,r){var n;return t(function(t){return!r(t)||(n=t,!1)}),n}function If(t,r){var n=!1;return t(function(t){return!r(t)||(n=!0,!1)}),n}var Jf=function(){function t(t,r){this.createNewItems=!1,this.list=t,this._create=r,this.reset()}return t.prototype.reset=function(){this._listCopy=Bd(this.list.iterator())},t.prototype.clear=function(){this._listCopy.length=0},t.prototype.getFirst=function(){return this.returnItem(0)},t.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},t.prototype.find=function(t){var r=Ch(this._listCopy,t);if(-1!==r){var n=this._listCopy[r];return pa(this._listCopy,n),n}return this.getLast()},t.prototype.removeItem=function(t){return pa(this._listCopy,t)},t.prototype.returnItem=function(t){if(t>=0&&t<this._listCopy.length){var r=this._listCopy[t];return pa(this._listCopy,r),r}if(this.createNewItems)return this._create()},t.prototype.iterator=function(){return zc(this._listCopy)},t}();function Kf(r,t){return r===t?0:r<t?-1:1}function Sh(r,t){return new Array(t+1).join(r)}function Fl(r){for(var t="",$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;e<r;e++)t+=$.charAt(Math.floor(Math.random()*$.length));return t}var Bc=function(e){function t(t){var i=t.events.on("removed",function(e){e.oldValue.dispose()},void 0,!1);return e.call(this,function(){i.dispose(),fa(t.iterator(),function(e){e[1].dispose()})})||this}return da(t,e),t}(Ga);var Ka=function(){function e(){this.events=new mc,this._dictionary={}}return e.prototype.hasKey=function(e){return Xb(this._dictionary,e)},e.prototype.getKey=function(e){return this._dictionary[e]},e.prototype.insertKey=function(e,t){if(Xb(this._dictionary,e))throw new Error("Key "+e+" already exists in dictionary");this._dictionary[e]=t,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:e,newValue:t})},e.prototype.setKey=function(e,t){if(Xb(this._dictionary,e)){var i=this._dictionary[e];i!==t&&(this._dictionary[e]=t,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:e,oldValue:i,newValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))}else this._dictionary[e]=t,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:e,newValue:t})},e.prototype.updateKey=function(e,t){if(!Xb(this._dictionary,e))throw new Error("Key "+e+" doesn't exist in dictionary");var i=this._dictionary[e],r=t(i);i!==r&&(this._dictionary[e]=r,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:e,oldValue:i,newValue:r}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}))},e.prototype.removeKey=function(e){if(Xb(this._dictionary,e)){var t=this._dictionary[e];delete this._dictionary[e],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:e,oldValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t})}},e.prototype.insertKeyIfEmpty=function(e,t){return this.hasKey(e)||this.insertKey(e,t()),this.getKey(e)},e.prototype.clear=function(){var e=this;this.events.isEnabled("removed")&&qa(this._dictionary,function(t,i){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:i})}),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this})},e.prototype.copyFrom=function(e){var t=this;fa(e.iterator(),function(e){t.setKey(e[0],e[1])})},e.prototype.iterator=function(){return xl(this._dictionary)},e.prototype[Symbol.iterator]=function(){var e,t,i,r;return Da(this,function(o){switch(o.label){case 0:for(t in e=[],this._dictionary)e.push(t);i=0,o.label=1;case 1:return i<e.length?(r=e[i],Xb(this._dictionary,r)?[4,[r,this._dictionary[r]]]:[3,3]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2];}})},e.prototype.each=function(e){fa(this.iterator(),function(t){var i=pf(t,2),r=i[0],o=i[1];return e(r,o)})},e.prototype.sortedIterator=function(){return $c(this.iterator(),function(e,t){return Kf(e[0],t[0])})},e}();var Cd=function(e){function t(t){var i=e.call(this)||this;return i.template=t,i}return da(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;fa(e.iterator(),function(e){t.setKey(e[0],e[1].clone())})},t.prototype.create=function(e){var t=this;return this.insertKeyIfEmpty(e,function(){return t.template.clone()})},t}(Ka);var Gl=function(){function e(){this._storage=new Ka,this.ttl=1e3}return e.prototype.set=function(e,t,r,o){var i=this._storage.insertKeyIfEmpty(e,function(){return new Ka}),$={touched:new Date().getTime(),ttl:aa(o)?o:this.ttl,value:r};i.setKey(t,$)},e.prototype.get=function(e,t,r){if(void 0===r&&(r=void 0),this._storage.hasKey(e)){var o=this._storage.getKey(e);if(o.hasKey(t)){var i=o.getKey(t);return i.ttl&&i.touched+i.ttl<new Date().getTime()&&(i.expired=!0),i.expired?(o.removeKey(t),r):i.value}return r}return r},e.prototype.clear=function(e){e?this._storage.removeKey(e):this._storage.clear()},e}();var Dd=new Gl;var Hl=function(){function t(){this.events=new mc,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[]}return t.prototype.getUniqueId=function(){var t=this._uidCount;return this._uidCount+=1,"id-"+t},Object.defineProperty(t.prototype,"map",{get:function(){return this._map||(this._map=new Ka),this._map},enumerable:!0,configurable:!0}),t.prototype.setCache=function(t,i,e){Dd.set(this.uid,t,i,e)},t.prototype.getCache=function(t,i){return void 0===i&&(i=void 0),Dd.get(this.uid,t,i)},t.prototype.dispatch=function(t,i){this.events.isEnabled(t)&&(i?(i.type=t,i.target=i.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},t.prototype.dispatchImmediately=function(t,i){this.events.isEnabled(t)&&(i?(i.type=t,i.target=i.target||this,this.events.dispatchImmediately(t,i)):this.events.dispatchImmediately(t,{type:t,target:this}))},t.prototype.getPlaceholder=function(t){return ba(this._placeholders[t])?this._placeholders[t]:(this._placeholders[t]="__amcharts_"+t+"_"+Fl(8)+"__",this._placeholders[t])},t.prototype.addToInvalidComponents=function(t){t.baseId?Hb(this.invalidDatas[t.baseId],t):Hb(this.invalidDatas.noBase,t)},t.prototype.removeFromInvalidComponents=function(t){t.baseId&&pa(this.invalidDatas[t.baseId],t),pa(this.invalidDatas.noBase,t)},t.prototype.addToInvalidSprites=function(t){t.baseId?Xc(this.invalidSprites[t.baseId],t):Xc(this.invalidSprites.noBase,t)},t.prototype.removeFromInvalidSprites=function(t){t.baseId&&pa(this.invalidSprites[t.baseId],t),pa(this.invalidSprites.noBase,t)},t.prototype.addToInvalidPositions=function(t){t.baseId?Xc(this.invalidPositions[t.baseId],t):Xc(this.invalidPositions.noBase,t)},t.prototype.removeFromInvalidPositions=function(t){t.baseId&&pa(this.invalidPositions[t.baseId],t),pa(this.invalidPositions.noBase,t)},t.prototype.addToInvalidLayouts=function(t){t.baseId?Xc(this.invalidLayouts[t.baseId],t):Xc(this.invalidLayouts.noBase,t)},t.prototype.removeFromInvalidLayouts=function(t){t.baseId&&pa(this.invalidLayouts[t.baseId],t),pa(this.invalidLayouts.noBase,t)},t}();var ca=new Hl;function Il(t,i){var e=ca.registeredClasses[i];return null!=e&&t instanceof e}var Th=function(){function e(e,t,r){this._array=e,this._start=t,this._end=r}return e.prototype.iterator=function(){var e=this;return function(t){if(e._start!==e._end)if(e._start<e._end)for(var r=e._start;r<e._end&&t(e._array[r]);++r);else for(r=e._start-1;r>=e._end&&t(e._array[r]);--r);}},e.prototype.backwards=function(){return new e(this._array,this._end,this._start)},e.prototype.range=function(t,r){if(t<=r){if(this._start===this._end)return this;if(this._start<this._end){var i=r-t;return t=Math.max(this._start+t,this._start),r=Math.min(t+i,this._end),new e(this._array,t,r)}i=r-t;return t=Math.max(this._start-t,this._end),r=Math.max(t-i,this._end),new e(this._array,t,r)}throw new Error("Start index must be lower than end index")},e}();var b=function(e){function t(t,r,i){var s=e.call(this,[t.events.on("inserted",function(e){var r=e.newValue,i=s._getKey(r),n=0;Db(t.iterator(),function(e){return e!==r&&(s._getKey(e)===i&&++n,!0)}),s._insert(r,i,n)},void 0,!1),t.events.on("removed",function(e){s._remove(e.oldValue)},void 0,!1)])||this;return s._keys=[],s._groups={},s._getKey=r,s._sort=i,fa(t.iterator(),function(e){s._insert(e,r(e))}),s}return da(t,e),t.prototype._insert=function(e,t,r){if(null==this._groups[t]){this._groups[t]=[];var i=be(this._keys,this._sort,t),s=i.found,n=i.index;if(s)throw new Error("Key already exists: "+t);Yc(this._keys,n,t)}null==r?this._groups[t].push(e):Yc(this._groups[t],r,e)},t.prototype._remove=function(e){var t=this._getKey(e),r=this._groups[t];if(null!=r&&(pa(r,e),0===r.length)){delete this._groups[t];var i=be(this._keys,this._sort,t),s=i.found,n=i.index;if(!s)throw new Error("Key doesn't exist: "+t);Zc(this._keys,n)}},t.prototype.iterator=function(){var e=this;return Dl(Rh(zc(this._keys),function(t){return zc(e._groups[t])}))},t}(Pa);var Ja=function(e){function t(t,r){void 0===r&&(r=!0);var i=this;if(r){var s=t.events.on("removed",function(e){e.oldValue.dispose()},void 0,!1);i=e.call(this,function(){s.dispose(),fa(t.iterator(),function(e){e.dispose()})})||this}else i=e.call(this,function(){fa(t.iterator(),function(e){e.dispose()})})||this;return i}return da(t,e),t}(Ga);function Ed(e,t){if(!(e>=0&&e<t))throw new Error("Index out of bounds: "+e)}var Aa=function(){function e(e){void 0===e&&(e=[]),this.events=new mc,this._values=e}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){return-1!==this._values.indexOf(e)},e.prototype.removeValue=function(e){for(var t=0,r=this._values.length;t<r;)this._values[t]===e?(this.removeIndex(t),--r):++t},e.prototype.indexOf=function(e){return Mb(this._values,e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.hasIndex=function(e){return e>=0&&e<this._values.length},e.prototype.getIndex=function(e){return this._values[e]},e.prototype.setIndex=function(e,t){Ed(e,this._values.length);var r=this._values[e];return r!==t&&(this._values[e]=t,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:r,newValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:r}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})),r},e.prototype.insertIndex=function(e,t){Ed(e,this._values.length+1),Yc(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})},e.prototype._sortQuicksort=function(e,t,r){if(e<t){var i=this._sortPartition(e,t,r);this._sortQuicksort(e,i,r),this._sortQuicksort(i+1,t,r)}},e.prototype._sortPartition=function(e,t,r){for(var i=this._values,s=i[e],n=e-1,o=t+1;;){do{++n}while(r(i[n],s)<0);do{--o}while(r(i[o],s)>0);if(n>=o)return o;this.swap(n,o)}},e.prototype.sort=function(e){this._sortQuicksort(0,this._values.length-1,e)},e.prototype.swap=function(e,t){var r=this._values.length;if(Ed(e,r),Ed(t,r),e!==t){var i=this._values[e],s=this._values[t];this._values[e]=s,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:i,newValue:s}),this._values[t]=i,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:s,newValue:i})}},e.prototype.removeIndex=function(e){Ed(e,this._values.length);var t=this._values[e];return Zc(this._values,e),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t}),t},e.prototype.moveValue=function(e,t){var r=this.indexOf(e);if(-1!==r){var i=this._values[r];Zc(this._values,r),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:r,oldValue:i})}null==t?(t=this._values.length,this._values.push(e)):Yc(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),-1===r&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e})},e.prototype.push=function(e){var t=this._values.push(e)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e}),e},e.prototype.unshift=function(e){this.insertIndex(0,e)},e.prototype.pushAll=function(e){var t=this;la(e,function(e){t.push(e)})},e.prototype.copyFrom=function(e){this.pushAll(e._values)},e.prototype.pop=function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)},e.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},e.prototype.setAll=function(e){var t=this,r=vd(this._values);this._values.length=0,la(e,function(e){t._values.push(e)}),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:r,newArray:this._values}),this.events.isEnabled("removed")&&la(r,function(e){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:e})}),this.events.isEnabled("inserted")&&la(this._values,function(e){t.events.dispatchImmediately("inserted",{type:"inserted",target:t,newValue:e})})},e.prototype.clear=function(){this.setAll([])},e.prototype.iterator=function(){return zc(this._values)},e.prototype[Symbol.iterator]=function(){var e,t;return Da(this,function(r){switch(r.label){case 0:e=this._values.length,t=0,r.label=1;case 1:return t<e?[4,this._values[t]]:[3,4];case 2:r.sent(),r.label=3;case 3:return++t,[3,1];case 4:return[2];}})},e.prototype.each=function(e){la(this._values,e)},e.prototype.range=function(e,t){if(e<=t){var r=t-e;return e=Math.max(e,0),t=Math.min(e+r,this._values.length),new Th(this._values,e,t)}throw new Error("Start index must be lower than end index")},e.prototype.backwards=function(){return new Th(this._values,this._values.length,0)},e}();var Ra=function(e){function t(t){var r=e.call(this)||this;return r.template=t,r}return da(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;fa(e.iterator(),function(e){t.push(e.clone())})},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.push(t),t},t.prototype.clone=function(){for(var e=new t(this.template),r=this.values,i=r.length,s=0;s<i;++s)e.push(r[s].clone());return e},t}(Aa);var Uh=function(){function e(e){this._values=[],this.events=new mc,null!=e&&this.setAll(e)}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),e.prototype._insert=function(e){return this._values.push(e),this._values.length-1},Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return Mb(this._values,e)},e.prototype.contains=function(e){return-1!==this.indexOf(e)},e.prototype.getIndex=function(e){return this._values[e]},Object.defineProperty(e.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),e.prototype.insert=function(e){var t=this._insert(e);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:t,newValue:e})},e.prototype.remove=function(e){var t=this.indexOf(e);if(-1!==t){var r=this._values[t];Zc(this._values,t),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:t,oldValue:r})}},e.prototype.setAll=function(e){var t=this;gl(this._values,function(e,r){t._values.pop(),t.events.isEnabled("removed")&&t.events.dispatchImmediately("removed",{type:"removed",target:t,index:r,oldValue:e})}),la(e,function(e){t.insert(e)})},e.prototype.clear=function(){this.setAll([])},e.prototype.slice=function(t,r){var i=new e;return i._values=this._values.slice(t,r),i},e.prototype.findClosestIndex=function(e,t,r){void 0===r&&(r="any");var i,n,o=-1,s=0;return Db(this.iterator(),function(a){var p=t(a);if("any"===r){if(p===e)return o=s,!1;var $=Math.abs(e-p);(!ba(n)||n>$)&&(o=s,i=p,n=$)}else"left"===r&&p<e?(!ba(i)||i<p)&&(o=s,i=p):"right"===r&&p>=e&&(!ba(i)||i>=p)&&(o=s,i=p);return++s,!0}),-1===o&&("left"===r?o=0:"right"===r&&(o=this.length-1)),o},e.prototype.iterator=function(){return zc(this._values)},e.prototype[Symbol.iterator]=function(){var e,t;return Da(this,function(r){switch(r.label){case 0:e=this._values.length,t=0,r.label=1;case 1:return t<e?[4,this._values[t]]:[3,4];case 2:r.sent(),r.label=3;case 3:return++t,[3,1];case 4:return[2];}})},e.prototype.each=function(e){la(this._values,e)},e}();var Lf=function(e){function t(t){var r=e.call(this)||this;return r._ordering=t,r}return da(t,e),t.prototype._insert=function(e){var t=be(this._values,this._ordering,e).index;return Yc(this._values,t,e),t},t.prototype.indexOf=function(e){var t=be(this._values,this._ordering,e),r=t.found,i=t.index;return r?i:-1},t.prototype.update=function(e){var t=Mb(this._values,e);if(-1!==t){var r=this._values.length-1;(0===t||this._ordering(this._values[t-1],e)<0)&&(t===r||this._ordering(e,this._values[t+1])<0)||(Zc(this._values,t),this._insert(e))}},t}(Uh);var ke=function(e){function t(t){var r=e.call(this)||this;return r.template=t,r}return da(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;fa(e.iterator(),function(e){t.insert(e.clone())})},t.prototype.slice=function(e,r){var i=new t(this.template);return i._values=this._values.slice(e,r),i},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.insert(t),t},t}(Uh);var Vh=function(e){function t(t,r){var i=e.call(this,r)||this;return i.template=t,i}return da(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;fa(e.iterator(),function(e){t.insert(e.clone())})},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.insert(t),t},t}(Lf);function Yb(r,$){return r===$?0:r<$?-1:1}function Mf(r){switch(r){case 0:return 0;case-1:return 1;case 1:return-1;}}function Wh(r,e){return 0===r?e:r}var Jl=function(){function t(){this._callbackId=0,this._callbacks=new Lf(function(t,r){return Wh(Yb(t.priority,r.priority),Yb(t.id,r.id))})}return t.prototype.addAll=function(t,r,e,i,o){void 0===i&&(i=0),this._callbacks.insert({id:++this._callbackId,key:r,callback:e,priority:i,scope:o,type:t})},t.prototype.isEnabled=function(t,r){return wf(this._callbacks.values,function(e){return e.key===r&&t instanceof e.type})},t.prototype.applyAll=function(t,r,e){var i=this._callbacks.values,o=i.length;if(0==o)return e;for(var a=0;a<o;++a){var $=i[a];$.key===r&&t instanceof $.type&&(e=$.callback.call($.scope,e,t,r))}return e},t}();var Xh=new Jl;var yb=function(){function t(t){this._callbackId=0,this._callbacks=new Lf(function(t,r){return Wh(Yb(t.priority,r.priority),Yb(t.id,r.id))}),this._disabled={},this.object=t,this.events=this._callbacks.events}return t.prototype.add=function(t,r,e,i){void 0===e&&(e=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:r,priority:e,scope:i})},t.prototype.has=function(t,r,e,i){return void 0===e&&(e=0),If(this._callbacks.iterator(),function(o){return o.key===t&&o.callback===r&&o.priority===e&&o.scope===i})},t.prototype.remove=function(t,r){var e=this;la(Bd(this._callbacks.iterator()),function(i){i.key!==t||aa(r)&&r!==i.priority||e._callbacks.remove(i)})},t.prototype.enableKey=function(t){delete this._disabled[t]},t.prototype.disableKey=function(t,r){void 0===r&&(r=1/0),this._disabled[t]=r},t.prototype._hasListenersByType=function(t){return wf(this._callbacks.values,function(r){return r.key===t})},t.prototype.isEnabled=function(t){return null==this._disabled[t]&&(this._hasListenersByType(t)||Xh.isEnabled(this.object,t))},t.prototype._shouldDispatch=function(t){var r=this._disabled[t];return!aa(r)||(r<=1?delete this._disabled[t]:--this._disabled[t],!1)},t.prototype.apply=function(t,r){if(this._shouldDispatch(t)){var e=this._callbacks.values,i=e.length;if(i>0)for(var o=0;o<i;++o){var a=e[o];a.key===t&&(r=a.callback.call(a.scope,r,this.object,t))}return r=Xh.applyAll(this.object,t,r)}return r},t.prototype.keys=function(){return Bd(Rh(this._callbacks.iterator(),function(t){return t.key}))},t.prototype.copyFrom=function(t){var r=this;fa(t._callbacks.iterator(),function(t){r.add(t.key,t.callback,t.priority,t.scope)})},t.prototype.clear=function(){this._callbacks.clear()},t}();var Yh={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function Kl(r,e){var g;return Yh[r]?g=Yh[r]:"#"===r.charAt(0)?g=Ll(r):r.match(/^rgba?\(/)&&(g=Ml(r)),g||(g={r:0,g:0,b:0,a:1}),ba(e)&&(g.a=e),g}function Ll(r){r=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(r,e,g,t){return e+e+g+g+t+t});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:void 0}function Ml(r){var e=(r=r.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(!(e=r.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return;return{r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3]),a:parseFloat(e[4])}}function Nl(r){return"#"+Nf(r.r.toString(16))+Nf(r.g.toString(16))+Nf(r.b.toString(16))}function Ol(r){return ba(r.a)&&1!==r.a?"rgba("+r.r+","+r.g+","+r.b+","+r.a+")":"rgb("+r.r+","+r.g+","+r.b+")"}function Nf(r){return 1==r.length?"0"+r:""+r}function le(r,e,g){return g=ma(g,0,1),r?e?{r:r.r+Math.round((e.r-r.r)*g),g:r.g+Math.round((e.g-r.g)*g),b:r.b+Math.round((e.b-r.b)*g),a:(r.a||1)+Math.round(((e.a||1)-(r.a||1))*g)}:r:e||r}function Pl(r,e){return r?{r:Math.max(0,Math.min(255,r.r+me(r.r,e))),g:Math.max(0,Math.min(255,r.g+me(r.g,e))),b:Math.max(0,Math.min(255,r.b+me(r.b,e))),a:r.a}:r}function me(r,e){var g=e>0?255-r:r;return Math.round(g*e)}function Ql(r,e){if(r){var g=me(Math.min(Math.max(r.r,r.g,r.b),230),e);return{r:Math.max(0,Math.min(255,Math.round(r.r+g))),g:Math.max(0,Math.min(255,Math.round(r.g+g))),b:Math.max(0,Math.min(255,Math.round(r.b+g))),a:r.a}}return r}function Rl(r,e){if(null==r||1==e)return r;var g=ne(r);return g.s=e,Zh(g)}function Zh(r){var e,g,t,a=r.h,b=r.s,o=r.l;if(0==b)e=g=t=o;else{var $=function(r,e,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?r+6*(e-r)*g:g<.5?e:g<2/3?r+(e-r)*(2/3-g)*6:r},n=o<.5?o*(1+b):o+b-o*b,i=2*o-n;e=$(i,n,a+1/3),g=$(i,n,a),t=$(i,n,a-1/3)}return{r:Math.round(255*e),g:Math.round(255*g),b:Math.round(255*t)}}function ne(r){var e=r.r/255,g=r.g/255,t=r.b/255,a=Math.max(e,g,t),b=Math.min(e,g,t),o=0,$=0,n=(a+b)/2;if(a===b)o=$=0;else{var i=a-b;switch($=n>.5?i/(2-a-b):i/(a+b),a){case e:o=(g-t)/i+(g<t?6:0);break;case g:o=(t-e)/i+2;break;case t:o=(e-g)/i+4;}o/=6}return{h:o,s:$,l:n}}function Sl(r){return(299*r.r+587*r.g+114*r.b)/1e3>=128}var Ca=function(){function r(r){this._value=r}return Object.defineProperty(r.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hex",{get:function(){return this._value?Nl(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rgba",{get:function(){return this._value?Ol(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(r){this._value&&(this._value.a=r)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new r({r:255,g:255,b:255})),this._lightColor},set:function(r){this._lightColor=r},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new r({r:0,g:0,b:0})),this._darkColor},set:function(r){this._darkColor=r},enumerable:!0,configurable:!0}),r.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},r.prototype.lighten=function(o){return new r(Pl(this.rgb,o))},r.prototype.brighten=function(o){return new r(Ql(this.rgb,o))},r.prototype.saturate=function(o){return new r(Rl(this.rgb,o))},Object.defineProperty(r.prototype,"alternative",{get:function(){if(null!=this.rgb)return Sl(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),r}();function oa(r,o){if(!ba(r))return new Ca(void 0);if("string"==typeof r){var t="_color_"+r+"_"+(o||"1"),e=ca.getCache(t);if(e)return new Ca({r:e.r,g:e.g,b:e.b,a:e.a});var $=Kl(r,o);return ca.setCache(t,$),new Ca($)}return r instanceof Ca?(ba(o)&&(r.alpha=o),r):new Ca(r)}function Tl(r){return r instanceof Ca}function Ul(r){return oa(r)}function Ib(r){return ba(r)&&!Tl(r)?Ul(r):r}var rb=function(){function t(){this._disposed=!1,this._disposers=[],this.className="BaseObject"}return t.prototype.debug=function(){},Object.defineProperty(t.prototype,"uid",{get:function(){return this._uid||(this._uid=ca.getUniqueId(),ca.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"map",{get:function(){return this._map||(this._map=new Ka),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new Ka),this._delayedMap},enumerable:!0,configurable:!0}),t.prototype.addDelayedMap=function(t,e){var r=this.delayedMap;r.hasKey(e)||r.setKey(e,[]),r.getKey(e).push({property:t,target:this})},t.prototype.processDelayedMap=function(){var t=this;this.delayedMap.each(function(e,r){if(t.map.hasKey(e)){var i=t.map.getKey(e);la(r,function(t){t.target[t.property]=i}),t.delayedMap.removeKey(e)}})},t.prototype.applyTheme=function(){var t=this;if(ca){var e=this.getCurrentThemes();e&&la(e,function(e,r){e(t)})}},Object.defineProperty(t.prototype,"themes",{get:function(){return this._themes},set:function(t){this._themes=t},enumerable:!0,configurable:!0}),t.prototype.getCurrentThemes=function(){return this.themes||ca.themes},t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this._disposers;for(this._disposers=null;0!==t.length;){t.shift().dispose()}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var e=this._uid;null!=e&&ca.map.removeKey(e)}},t.prototype.addDisposer=function(t){this._disposers.push(t)},t.prototype.removeDispose=function(t){if(!this._disposed){var e=Mb(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()},t.prototype.clone=function(t){t||(t="clone-"+ca.getUniqueId());var e=new this.constructor;return e.cloneId=t,e.copyFrom(this),e},Object.defineProperty(t.prototype,"clones",{get:function(){return this._clones||(this._clones=new Aa),this._clones},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){t.clones.push(this),this.clonedFrom=t},Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(t){this._className=t},enumerable:!0,configurable:!0}),t.prototype.setCache=function(t,e,r){Dd.set(this.uid,t,e,r)},t.prototype.getCache=function(t,e){return void 0===e&&(e=void 0),Dd.get(this.uid,t,e)},t.prototype.clearCache=function(){Dd.clear(this.uid)},t.prototype.setTimeout=function(t,e){var r=this,i=setTimeout(function(){r.removeDispose(o),t()},e),o=new Ga(function(){clearTimeout(i)});return this._disposers.push(o),o},t.prototype.setInterval=function(t,e){var r=this,i=setInterval(function(){r.removeDispose(o),t()},e),o=new Ga(function(){clearTimeout(i)});return this._disposers.push(o),o},Object.defineProperty(t.prototype,"config",{set:function(t){try{this.processConfig(t)}catch(e){this.raiseCriticalError(e)}},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(e){var r=this;if(e){var i=this;if(fc(e,function(e,o){var s,c=o;if("callback"==e&&"function"==typeof o&&o.call(i),r.hasProperty(e)){if(!Qa(c)||!ba(c.type)||Qa(i[e])&&ba(i[e].className)&&!c.forceCreate&&i[e].className==c.type||r.asIs(e)?s=i[e]:(s=r.createClassInstance(c.type))?i[e]=s:s=i[e],s instanceof yb)r.processAdapters(s,c);else if(s instanceof mc)r.processEvents(s,c);else if("locale"==e&&wa(c))window["am4lang_"+c]&&(i[e]=window["am4lang_"+c]);else if("parent"==e&&wa(c)){var p=r.map.getKey(c);p?i[e]=p:r.addDelayedMap("parent",c)}else if(r.asIs(e))i[e]=c;else if(r.asFunction(e)&&wa(c)){if(!ba(ca.registeredClasses[c]))throw Error("Invalid easing function: "+c);i[e]=ca.registeredClasses[c]}else if(c instanceof t)i[e]=c;else if(s instanceof t)s.config=c;else if(s instanceof Ra||s instanceof ke||s instanceof Vh){if(ab(c))s instanceof Ra?r.processListTemplate(c,s):r.processOrderedTemplate(c,s);else if(Qa(c))if(c instanceof t)s.template=c;else{var n=void 0;n=ba(c.template)?c.template:c,s.template instanceof t?s.template.config=n:qa(n,function(e,i){var o=s.template[e];o instanceof yb?r.processAdapters(o,i):o instanceof mc?r.processEvents(o,i):o instanceof Cd?r.processDictionaryTemplate(o,i):s.template[e]instanceof t?s.template[e].config=i:Qa(i)&&ba(i.type)?(o=r.createClassInstance(i.type))?(o instanceof t&&(o.config=i),s.template[e]=o):s.template[e]=i:o instanceof Aa?r.processList(i,o):s.template[e]=r.maybeColorOrPercent(i)}),ba(c.values)&&(s instanceof Ra?r.processListTemplate(c.values,s):r.processOrderedTemplate(c.values,s))}}else s instanceof Aa?"children"==e?r.processList(c,s,r):r.processList(c,s):s instanceof Cd?r.processDictionaryTemplate(s,c):s instanceof Ka?r.processDictionary(s,c):s instanceof Ca||s instanceof za?i[e]=r.maybeColorOrPercent(c):Qa(s)&&Qa(c)?Ad(c,s):(c=r.maybeColorOrPercent(c),i[e]=c);}else r.isReserved(e)||(i[e]=c)},this.configOrder),this.processingErrors.length){var o=this.processingErrors.join("\n");throw this._processingErrors=[],Error(o)}}},t.prototype.maybeColorOrPercent=function(t){if(wa(t)){if(t.match(/^[\-]?[0-9.]+\%$/))return ha(La(t));if(t.match(/^\#[0-9abcdef]{3,}$/i))return oa(t)}return t},t.prototype.processAdapters=function(t,e){var r=this;ab(e)?la(e,function(e,i){t.add(e.key,e.callback,e.priority||0,r)}):Qa(e)&&qa(e,function(e,r){t.has(e,r)||t.add(e,r)})},t.prototype.processEvents=function(t,e){var r=this;Qa(e)?qa(e,function(e,r){t.has(e,r)||t.on(e,r)}):ab(e)&&la(e,function(e,i){t.on(e.type,e.callback,r)})},t.prototype.processDictionaryTemplate=function(e,r){Qa(r)&&qa(r,function(r,i){var o;(o="template"==r?e.template:e.hasKey(r)?e.getKey(r):e.create(r))instanceof t?o.config=i:Qa(o)&&Qa(i)?Ad(i,o):o.setKey(r,i)})},t.prototype.processDictionary=function(t,e){Qa(e)&&qa(e,function(e,r){t.setKey(e,r)})},t.prototype.processListTemplate=function(e,r){var i=this;for(la(e,function(e,o){var s,c=i.getConfigEntryType(e);if(r.hasIndex(o)&&!e.forceCreate)s=r.getIndex(o);else{if(e instanceof t)return void r.push(e);s=c?r.create(c):r.create()}e===s||Qa(e)&&(s instanceof t?s.config=e:Qa(s)&&Qa(e)?Ad(e,s):r.setIndex(r.indexOf(s),e))});e.length>r.length;)r.pop()},t.prototype.processOrderedTemplate=function(e,r){var i=this;la(e,function(e,o){var s,c=i.getConfigEntryType(e);s=c?r.create(c):r.create(),Qa(e)&&(s instanceof t?s.config=e:Qa(s)&&Qa(e)?Ad(e,s):r.insert(e))})},t.prototype.processList=function(e,r,i){var o=this;ab(e)||(e=[e]);var s=r.length;for(la(e,function(e,c){if(Qa(e)){var p=void 0;if(c<s&&!e.forceCreate)p=r.getIndex(c);else{if(e instanceof t)return void r.push(e);p=o.createEntryInstance(e),i?p.parent=i:r.push(p)}p instanceof t?p.config=e:Qa(p)&&Qa(e)&&Ad(e,p)}else r.hasIndex(c)?r.setIndex(c,e):r.push(e)});e.length>r.length;)r.pop()},t.prototype.configOrder=function(t,e){return t==e?0:"language"==t?-1:"language"==e?1:0},t.prototype.asIs=function(t){return-1!=Mb(["locale"],t)},t.prototype.asFunction=function(t){return!1},t.prototype.createClassInstance=function(t){if(ba(ca.registeredClasses[t]))return new ca.registeredClasses[t];throw Error("Invalid type: \""+t+"\".")},t.prototype.createEntryInstance=function(t){var e;return ba(t.type)&&(e=this.createClassInstance(t.type)),e||t},t.prototype.getConfigEntryType=function(t){if(ba(t.type)){if(ba(ca.registeredClasses[t.type]))return ca.registeredClasses[t.type];throw Error("Invalid type: \""+t.type+"\".")}},t.prototype.hasProperty=function(t){return t in this},t.prototype.isReserved=function(t){return-1!==["type","forceCreate"].indexOf(t)},Object.defineProperty(t.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),t}();var Zb=function(t){function e(){var e=t.call(this)||this;return e.className="BaseObjectEvents",e}return da(e,t),Object.defineProperty(e.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new mc,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),e.prototype.dispatch=function(t,e){this._eventDispatcher&&this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatch(t,{type:t,target:this})):this.events.dispatch(t,{type:t,target:this}))},e.prototype.dispatchImmediately=function(t,e){this._eventDispatcher&&this.events.isEnabled(t)&&(e?(e.type=t,e.target=e.target||this,this.events.dispatchImmediately(t,e)):this.events.dispatchImmediately(t,{type:t,target:this}))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e._eventDispatcher&&this.events.copyFrom(e._eventDispatcher)},e}(rb);function ub(t){}function gc(t,e){return qa(t,function(t,r){ba(r)&&(e[t]=r)}),e}function $h(t){return /^[^#]*/.exec(t)[0]}function Fd(){var t="#";if(em()){var e=document.baseURI;if(e){e=$h(e);var r=$h(location.href);e!==r&&(t=r+t)}}return t}function Vl(t,e){return qa(t,function(t,r){e[t]=r}),e}function oe(t){return ba(t)&&""!==t.toString()}function Na(t,e){return aa(t)?t:null!=t&&aa(t.value)&&aa(e)?e*t.value:0}function db(t,e,r){var $;return aa(t)?($=t)<0&&($=r?e+$:e-$):null!=t&&aa(t.value)&&($=e*t.value),$}function Wl(){return window.devicePixelRatio||1}function pe(t){var e=t.split("");return e[0]=e[0].toUpperCase(),e.join("")}function _h(t){return JSON.stringify(t)}function Of(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Pf(t,e,r,$){if(t.length<=e)return[t];var a=[];if(r)for(var o=-1,i=t.replace(/([,;:!?\\\/\.]+[\s]+|[\s])/g,Eb+"$1"+Eb).split(Eb),p=0;p<i.length;p++){var n=i[p],h=n.length;if(0!==h){var s;if(h>e){if($&&(n=Rf(n)),s=n.match(new RegExp(".{1,"+e+"}","g"))){if($)for(var C=0;C<s.length;C++)s[C]=Rf(s[C]);a=a.concat(s)}}else-1===o&&(a.push(""),o=0),a[o].length+h+1>e&&""!==a[o]&&(a.push(""),o++),a[o]+=n;o=a.length-1}}else if(s=t.match(new RegExp(".{1,"+e+"}","g"))){if($)for(C=0;C<s.length;C++)s[C]=Rf(s[C]);a=s}return 1==a.length&&r&&a[0].length>e&&(a=[]),a}function Qf(t,e,r,$,a){return t.length<=e?t:((e-=r.length)<1&&(e=1),(Pf(t,e,$,a)[0]||"")+r)}function ai(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Xl(t){return t.replace(/[\s\uFEFF\xA0]+$/g,"")}function Yl(t){return t.replace(/^[\s\uFEFF\xA0]+/g,"")}function Rf(t){return t.split("").reverse().join("")}function ob(t,e,r){return void 0===e&&(e=0),void 0===r&&(r="0"),"string"!=typeof t&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(r)+t:t}function Zl(t){if(void 0===t)return ei;var e=(t=(t=(t=t.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return e?e[1]:t===te?te:t===ue?ue:t===Zf?Zf:t.match(/[#0]/)?te:t.match(/[ymwdhnsqaxkzgtei]/)?ue:ei}function qe(t){return t.replace(/\/(date|number|duration)$/i,"")}function bi(t){return t?t.replace(/<[^>]*>/g,""):t}function Sf(t){return t?bi(t.replace(/[\n\r]+/g,". ")):t}function $l(t){if(nb(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(0===t&&1/t==-1/0)return"-0";var e=t<0;t=Math.abs(t);var r,$=Ma(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t)),a=$[1],o=$[2]||"";if(null==$[3])r=""===o?a:a+"."+o;else{var i=+$[3];if(t<1){var p=i-1;r="0."+Sh("0",p)+a+o}else{r=0===(p=i-o.length)?a+o:p<0?a+o.slice(0,p)+"."+o.slice(p):a+o+Sh("0",p)}}return e?"-"+r:r}function ci(t){if(wd(t))return new Date(t);if(aa(t))return new Date(t);var e=Number(t);return aa(e)?new Date(e):new Date(t)}function Tf(t){if(wd(t))return t.getTime();if(aa(t))return t;if(wa(t)){var e=Number(t);return aa(e)?e:void 0}}function Uf(t,e){void 0===e&&(e=!1);var r=new Date(t.getFullYear(),0,0),$=t.getTime()-r.getTime()+60*(r.getTimezoneOffset()-t.getTimezoneOffset())*1e3;return Math.floor($/864e5)}function Gd(t,e){void 0===e&&(e=!1);var r=Uf(t,e)-1,$=Math.floor((r-(t.getDay()||7)+10)/7);return 0===$?$=53:53===$&&($=1),$}function _l(t,e){void 0===e&&(e=!1);var r=Gd(new Date(t.getFullYear(),t.getMonth(),1),e),$=Gd(t,e);return 1==$&&($=53),$-r+1}function am(t,e,r,$){void 0===r&&(r=1),void 0===$&&($=!1);var a=new Date(e,0,4,0,0,0,0);return $&&a.setUTCFullYear(e),7*t+r-((a.getDay()||7)+3)}function re(t,e){return t>12?t-=12:0===t&&(t=12),ba(e)?t+(e-1):t}function se(t,e,r,$){if(void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===$&&($=!1),$)return e?"Coordinated Universal Time":"UTC";var a=t.toLocaleString("UTC"),o=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(a.length);return!1===r&&(o=o.replace(/ (standard|daylight|summer|winter) /i," ")),o}function Vf(t,e,r){return t>r?r:t<e?e:t}function Wf(t,e,r){var $=r-e;return t>r?t=e+(t-$*Math.floor(t/$)):t<e&&(t=e+(t-$*Math.floor(t/$))),t}function Nb(t,e){var r=t.x,$=t.y,a=[];if(e){for(;ba(e.parent);)a.push(e),e=e.parent;a.reverse();for(var o=0;o<a.length;o++){var i=a[o],p=i.rotation,n=r-i.pixelX-i.ex,h=$-i.pixelY-i.ey;i.dx&&(r-=i.dx),i.dy&&($-=i.dy);var s=i.scale;i.group&&(s=i.group.scale),r=(ja(-p)*n-ia(-p)*h)/s-i.pixelPaddingLeft,$=(ja(-p)*h+ia(-p)*n)/s-i.pixelPaddingTop}}return{x:r,y:$}}function Jb(t,e){var r=t.x,$=t.y;if(e)for(;ba(e.parent);){var a=e.rotation;r+=e.pixelPaddingLeft+e.ex,$+=e.pixelPaddingTop+e.ey;var o=e.scale;e.group&&(o=e.group.scale);var i=e.pixelX+(r*ja(a)-$*ia(a))*o,p=e.pixelY+(r*ia(a)+$*ja(a))*o;e.dx&&(i+=e.dx),e.dy&&(p+=e.dy),r=i,$=p,e=e.parent}return{x:r,y:$}}function wb(t,e,r){return Nb(Jb(t,e),r)}function Xf(t,e){var r=Jb(t,e),$=Jb({x:t.x+t.width,y:t.y+t.height},e);return{x:r.x,y:r.y,width:$.x-r.x,height:$.y-r.y}}function nc(t,e,r){try{var $=e.getBoundingClientRect();return aa(r)||(r=1),{x:(t.x-$.left)/r,y:(t.y-$.top)/r}}catch(a){return t}}function di(t,e){try{var r=e.getBoundingClientRect();return{x:t.x+r.left,y:t.y+r.top}}catch($){return t}}function _c(t,e){return e&&e.htmlContainer?Nb(nc(t,Ma(e.htmlContainer),e.svgContainer.cssScale),e):t}function Yf(t,e){return e&&e.htmlContainer?di(Jb(t,e),Ma(e.htmlContainer)):t}function bm(t){var e=getComputedStyle(t),r=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),$=parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth);return t.clientWidth-r-$}function cm(t){var e=getComputedStyle(t),r=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),$=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);return t.clientHeight-r-$}function dm(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function em(){return /apple/i.test(navigator.vendor)}function fm(){return /MSIE |Trident\//.test(navigator.userAgent)}var ei="string";var te="number";var ue="date";var Zf="duration";var Eb="__\xA7\xA7\xA7__";var ad="__\xA7\xA7\xA7\xA7__";var gm=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function fi(t){var e=gm.exec(t);return{protocol:e&&e[1]||"",separator:e&&e[2]||"",authority:e&&e[3]||"",domain:e&&e[4]||"",port:e&&e[5]||"",path:e&&e[6]||"",query:e&&e[7]||"",hash:e&&e[8]||""}}function gi(t){return t.protocol+t.separator+t.authority+t.domain+t.port+t.path+t.query+t.hash}function hi(t){return""===t.protocol&&""===t.separator&&""===t.authority&&""===t.domain&&""===t.port}function $f(t,e){var r=fi(t),$=fi(e);if(hi(r))throw new Error("Left URL is not absolute");if(hi($)){if(""!==$.path)if("/"===$.path[0])r.path=$.path;else{var a=r.path.split(/\//),o=$.path.split(/\//);if(0===a.length?0!==o.length&&a.push(""):a.length>1&&a.pop(),il(a,o),r.path=a.join("/"),""!==r.path&&"/"!==r.path[0])throw new Error("URL path must start with /")}return r.query=$.query,r.hash=$.hash,gi(r)}return gi($)}function Hd(){return!!window.MSInputMethodContext&&!!document.documentMode}function ii(e){return+e}function hm(e){return e*e}function im(e){return e*(2-e)}function jm(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function ji(e,$){return Math.pow(e,$)}function ki(e,$){return 1-Math.pow(1-e,$)}function li(e,$){return((e*=2)<=1?Math.pow(e,$):2-Math.pow(2-e,$))/2}function km(e){return ji(e,3)}function _f(e){return ki(e,3)}function lm(e){return li(e,3)}function mm(e){return Math.pow(2,10*e-10)}function nm(e){return 1-Math.pow(2,-10*e)}function om(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function pm(e){return 1-Math.cos(e*Fh)}function mi(e){return Math.sin(e*Fh)}function qm(e){return(1-Math.cos(ce*e))/2}function ni(e){return e*e*e}function Cc(e){return--e*e*e+1}function rm(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function sm(e){return 1-Math.sqrt(1-e*e)}function tm(e){return Math.sqrt(1- --e*e)}function um(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}ca.registeredClasses["ease.linear"]=ii,ca.registeredClasses["ease.quadIn"]=hm,ca.registeredClasses["ease.quadOut"]=im,ca.registeredClasses["ease.quadInOut"]=jm,ca.registeredClasses["ease.polyIn"]=ji,ca.registeredClasses["ease.polyOut"]=ki,ca.registeredClasses["ease.polyInOut"]=li,ca.registeredClasses["ease.polyIn3"]=km,ca.registeredClasses["ease.polyOut3"]=_f,ca.registeredClasses["ease.polyInOut3"]=lm,ca.registeredClasses["ease.expIn"]=mm,ca.registeredClasses["ease.expOut"]=nm,ca.registeredClasses["ease.expInOut"]=om,ca.registeredClasses["ease.sinIn"]=pm,ca.registeredClasses["ease.sinOut"]=mi,ca.registeredClasses["ease.sinInOut"]=qm,ca.registeredClasses["ease.cubicIn"]=ni,ca.registeredClasses["ease.cubicOut"]=Cc,ca.registeredClasses["ease.cubicInOut"]=rm,ca.registeredClasses["ease.circleIn"]=sm,ca.registeredClasses["ease.circleOut"]=tm,ca.registeredClasses["ease.circleInOut"]=um;var ag=4/11,vm=6/11,wm=8/11,xm=.75,ym=9/11,zm=10/11,Am=.9375,Bm=21/22,Cm=63/64,ve=1/ag/ag;function Dm(e){return 1-we(1-e)}function we(e){return(e=+e)<ag?ve*e*e:e<wm?ve*(e-=vm)*e+xm:e<zm?ve*(e-=ym)*e+Am:ve*(e-=Bm)*e+Cm}function Em(e){return((e*=2)<=1?1-we(1-e):we(e-1)+1)/2}ca.registeredClasses["ease.bounceIn"]=Dm,ca.registeredClasses["ease.bounceOut"]=we,ca.registeredClasses["ease.bounceInOut"]=Em;var Fm=2*Math.PI,Id=1,Jd=.3/Fm,xe=Math.asin(1/Id)*Jd;function Gm(e){return Id*Math.pow(2,10*--e)*Math.sin((xe-e)/Jd)}function Hm(e){return 1-Id*Math.pow(2,-10*(e=+e))*Math.sin((e+xe)/Jd)}function Im(e){return((e=2*e-1)<0?Id*Math.pow(2,10*e)*Math.sin((xe-e)/Jd):2-Id*Math.pow(2,-10*e)*Math.sin((xe+e)/Jd))/2}ca.registeredClasses["ease.elasticIn"]=Gm,ca.registeredClasses["ease.elasticOut"]=Hm,ca.registeredClasses["ease.elasticInOut"]=Im;var ye=function(t){function e(){var e=t.call(this)||this;return e.transitionDuration=0,e.transitionEasing=Cc,e.properties={},e.propertyFields={},e.filters=new Aa,e.isTemplate=!1,e.className="SpriteState",e._disposers.push(new Ja(e.filters)),e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"adapter",{get:function(){var t=this;return this._adapterO||(this._adapterO=new yb(this),this._adapterO.events.on("inserted",function(e){t[e.newValue.key]=t[e.newValue.key]},void 0,!1),this._adapterO.events.on("removed",function(e){t[e.newValue.key]=t[e.newValue.key]},void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),e.prototype.getPropertyValue=function(t){var e=this.properties[t],r=this.sprite;if(r){var i=this.propertyFields[t];if(ba(i)&&(r.dataItem&&(e=r.dataItem.dataContext[i]),null==e&&(e="__unset")),ba(e))this._adapterO&&(e=this._adapterO.apply(t,e));else{var p=r.getPropertyValue(t);(e=this._adapterO?this._adapterO.apply(t,p):p)==p&&(e=void 0)}}return e},e.prototype.copyFrom=function(t){t&&t!=this&&(this.transitionDuration=t.transitionDuration,this.transitionEasing=t.transitionEasing,gc(t.properties,this.properties),gc(t.propertyFields,this.propertyFields),this.filters.copyFrom(t.filters),t._adapterO&&this.adapter.copyFrom(t._adapterO))},Object.defineProperty(e.prototype,"allValues",{get:function(){var t=this,e={};if(qa(this.properties,function(r,i){e[r]=t.getPropertyValue(r)}),this._adapterO){var r=this._adapterO.keys();qa(r,function(r,i){var p=t.getPropertyValue(i);e[i]=p})}var i=this.propertyFields;return qa(i,function(r){var i=t.getPropertyValue(r);e[r]=i}),e},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.properties={},this.filters.clear()},e.prototype.processConfig=function(e){ba(e)&&ba(e.properties)&&qa(e.properties,function(t,r){wa(r)&&(r.match(/^[0-9.\-]+\%$/)?e.properties[t]=ha(La(r)):r.match(/^\#[0-9abcdef]{3,}$/i)&&(e.properties[t]=Ib(r)))}),t.prototype.processConfig.call(this,e)},e.prototype.asFunction=function(e){return"transitionEasing"==e||t.prototype.asIs.call(this,e)},e}(rb);ca.registeredClasses.SpriteState=ye;var Jm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._interactionEvents=new Ka,t}return da(t,e),t.prototype._dispatchSpriteEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var t=Hf(e,{target:this.target});this.target.events.dispatchImmediately(t.type,t)}},t.prototype._dispatchSpritePointEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var t=Hf(e,{target:this.target,spritePoint:_c(e.point,this.target),svgPoint:this.target.getSvgPoint(e.point)});this.target.events.dispatchImmediately(t.type,t)}},t.prototype._addInteractionObjectEvent=function(e,t,s,a){var i=this,r=a+"-"+e;return this._interactionEvents.insertKeyIfEmpty(r,function(){var c=i.target.interactions.events.on(e,t,s,a);return new he(function(){i._interactionEvents.removeKey(r),c.dispose()})}).increment()},t.prototype._on=function(t,s,a,i,r,c){var n=e.prototype._on.call(this,t,s,a,i,r,c),o=[n.disposer];switch(s){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":o.push(this._addInteractionObjectEvent(s,this._dispatchSpritePointEvent,this,r));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":o.push(this._addInteractionObjectEvent(s,this._dispatchSpriteEvent,this,r));}switch(s){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0;}return n.disposer=new Pa(o),n},t}(Oh);function oi(t,e,i){return e+(i-e)*t}function Km(t,e,i){return new za(oi(t,e.percent,i.percent))}function Lm(t,e,i){var r=new Ca(le(e.rgb,i.rgb,t));return e.alpha!=i.alpha&&(r.alpha=e.alpha+(i.alpha-e.alpha)*t),r}function pi(t,e){return e+t.charAt(0).toUpperCase()+t.substr(1)}var Mm=function(){function t(){}return t.opacity=1,t.strokeOpacity=1,t.strokeWidth=1,t.fillOpacity=1,t.fill=oa("#000000"),t.stroke=oa("#000000"),t.focusable=void 0,t.tabindex=0,t}();var Fa={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,licenses:[],suppressErrors:!1,animationsEnabled:!0,nonce:""};var bd=function(){function t(t){this._disposer=new Ga(function(){for(;0!==t.length;)t[0].dispose()})}return t.prototype.isDisposed=function(){return this._disposer.isDisposed()},t.prototype.dispose=function(){this._disposer.dispose()},t}();var Ob=function(t){function e(e,i,r,o){var s=t.call(this)||this;return s.duration=0,s.easing=ii,s.progress=0,s._loop=0,s._pause=!1,s._delayTimeout=null,s._time=0,s._isFinished=!1,s.className="Animation",!1===Fa.animationsEnabled&&(r=0),s.object=e,s.animationOptions=Bh(i),s.duration=r,o&&(s.easing=o),s.applyTheme(),s}return da(e,t),e.prototype.debug=function(){},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.pause()},e.prototype.delay=function(t){var e=this;if(t>0){this.pause(),Hb(this.object.animations,this);var i=setTimeout(function(){e._delayTimeout=null,e.start()},t);this._delayTimeout=new Ga(function(){clearTimeout(i)})}return this},e.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,Hb(xa.animations,this),Hb(this.object.animations,this),xa.requestFrame()},e.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var t=this.animationOptions.length-1;t>=0;t--){var e=this.animationOptions[t];if(ba(e.from)||(e.childObject?e.from=e.childObject[e.property]:(e.from=this.object[e.property],ba(e.from)||(e.from=Mm[e.property]))),e.from==e.to)pa(this.animationOptions,e);else if(!ba(e.from)||!(e.from instanceof za)&&e.to instanceof za||e.from instanceof za&&!(e.to instanceof za))this.staticOptions.push(e),pa(this.animationOptions,e);else if(aa(e.to)){if(e.updateMethod=oi,e.from instanceof za){var i=this.object[pi(e.property,"pixel")];isNaN(i)?(this.staticOptions.push(e),pa(this.animationOptions,e)):e.from=i}else isNaN(e.from)&&(this.staticOptions.push(e),pa(this.animationOptions,e));}else if(e.to instanceof Ca)e.from?e.updateMethod=Lm:(this.staticOptions.push(e),pa(this.animationOptions,e));else if(e.to instanceof za){if(e.updateMethod=Km,!isNaN(e.from)){i=this.object[pi(e.property,"relative")];isNaN(i)||(e.from=ha(100*i))}}else this.staticOptions.push(e),pa(this.animationOptions,e)}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var r={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",r)}return this.update(),0===this.duration&&this.end(),this},e.prototype.loop=function(t){return aa(t)||(t=1/0),this._loop=t,this},e.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),pa(xa.animations,this),pa(this.object.animations,this),this},e.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},e.prototype.end=function(){if(0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var t={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",t)}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},e.prototype.kill=function(){this.pause(),this._isFinished=!0},e.prototype.isFinished=function(){return this._isFinished},e.prototype.applyStaticOptions=function(){var t=this;la(this.staticOptions,function(e){e.childObject?e.childObject[e.property]=1==t.progress?e.to:e.from:t.object[e.property]=1==t.progress?e.to:e.from})},e.prototype.stop=function(t){if(this.pause(),!t&&this.events.isEnabled("animationstopped")){var e={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",e)}return this},e.prototype.setProgress=function(t){var e=this;if(this._time=this.duration*t,la(this.animationOptions,function(i){if(i.updateMethod&&ba(i.from)){var r=i.updateMethod(t,i.from,i.to);i.childObject?i.childObject[i.property]=r:e.object[i.property]=r}}),this.progress=t,this.events.isEnabled("animationprogress")){var i={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",i)}xa.requestFrame()},e.prototype.update=function(){if(!this._pause){var t=void 0;this._time=ma(Date.now()-this._startTime,0,this.duration);var e=this._time/this.duration;t=this.easing(e),(0==this.duration||!aa(t)||e>=1)&&(t=1),this.setProgress(t),1==ga(this._time/this.duration,6)&&this.end()}return this},Object.defineProperty(e.prototype,"delayed",{get:function(){return!!this._delayTimeout},enumerable:!0,configurable:!0}),e.prototype.stopSameAnimations=function(){var t=this;la(vd(this.object.animations),function(e){if(e!==t&&!e.delayed){var i=[];la(t.animationOptions,function(t){la(e.animationOptions,function(r){t.property==r.property&&t.childObject==r.childObject&&(i.push(r),0==e.animationOptions.length&&e.kill())})}),la(i,function(t){pa(e.animationOptions,t)})}})},e.prototype.asFunction=function(e){return"easing"==e||t.prototype.asIs.call(this,e)},e}(Zb);var ze="http://www.w3.org/2000/svg";var qi="http://www.w3.org/2000/xmlns/";var ri,bg="http://www.w3.org/1999/xlink";function Sa(e,t,r,o){return e.addEventListener(t,r,o||!1),new Ga(function(){e.removeEventListener(t,r,o||!1)})}function Nm(e){if(wa(e)){var t=document.getElementById(e);if(null==t&&(t=document.getElementsByClassName(e)[0]),t instanceof HTMLElement)return t}else if(e instanceof HTMLElement)return e}function cg(e,t){if(e)if(e.classList)e.classList.add(t);else{var r=e.getAttribute("class");r?e.setAttribute("class",r.split(" ").filter(function(e){return e!==t}).join(" ")+" "+t):e.setAttribute("class",t)}}function dg(e,t){if(e)if(e.classList)e.classList.remove(t);else{var r=e.getAttribute("class");r&&e.setAttribute("class",r.split(" ").filter(function(e){return e!==t}).join(" "))}}function si(e,t,r){e.style[t]=r}function eg(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function fg(){var e=document.createElement("input");e.style.position="fixed",e.style.top="0px",e.style.left="-10000px",document.body.appendChild(e),e.focus(),e.blur(),document.body.removeChild(e)}function ti(e,t){for(var r=t;;){if(e===r)return!0;if(null==r.parentNode){if(null==r.host)return!1;r=r.host}else r=r.parentNode}}function gg(e){for(var t=e;;){if(null==t.parentNode)return null!=t.host?t:null;t=t.parentNode}}function ui(e){for(var t=e.ownerDocument,r=e;;){if(null==r.parentNode)return r===t||null!=r.host?r:null;r=r.parentNode}}function Om(e){return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}function Pm(e){ul(function(){try{var t=e.getBoundingClientRect(),r=t.left-Math.round(t.left),o=t.top-Math.round(t.top);0!==r&&Nh(function(){e.style.left=r+"px"}),0!==o&&Nh(function(){e.style.top=o+"px"})}catch(n){}})}function Qm(e){if(null==e){if(!ba(ri))(t=document.createElement("style")).type="text/css",""!=Fa.nonce&&t.setAttribute("nonce",Fa.nonce),document.head.appendChild(t),ri=t.sheet;return ri}var t;return(t=document.createElement("style")).type="text/css",""!=Fa.nonce&&t.setAttribute("nonce",Fa.nonce),e.appendChild(t),t.sheet}function Rm(e,t){var r=e.cssRules.length;return e.insertRule(t+"{}",r),e.cssRules[r]}var Ia=function(e){function t(t,r,o){var n=this,$=Qm(t);return(n=e.call(this,function(){var e=Mb($.cssRules,n._rule);if(-1===e)throw new Error("Could not dispose StyleRule");$.deleteRule(e)})||this)._rule=Rm($,r),qa(o,function(e,t){n.setStyle(e,t)}),n}return da(t,e),Object.defineProperty(t.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!0,configurable:!0}),t.prototype._setVendorPrefixName=function(e,t){var r=this._rule.style;r.setProperty("-webkit-"+e,t,""),r.setProperty("-moz-"+e,t,""),r.setProperty("-ms-"+e,t,""),r.setProperty("-o-"+e,t,""),r.setProperty(e,t,"")},t.prototype.setStyle=function(e,t){"transition"===e?this._setVendorPrefixName(e,t):this._rule.style.setProperty(e,t,"")},t}(Ga);var Sm=0,c=function(e){function t(t,r,o){var n=this,$=ba(o)?o:"__style_"+ ++Sm+"__";return(n=e.call(this,t,"."+$,r)||this)._className=$,n}return da(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e,this.selector="."+e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._className},t}(Ia);function Ae(e){var t=eg(e,"font-family");if(t)return t;var r=e.parentElement||e.parentNode;return r?Ae(r):void 0}function Be(e){var t=eg(e,"font-size");if(t)return t;var r=e.parentElement||e.parentNode;return r?Be(r):void 0}function hg(e,t){var r=e.getBoundingClientRect(),o=ab(t)?t:t?[t]:[];if(o.length){for(var n=0;n<o.length;n++){var $=o[n];if(!hg($))return!1;var u=$.getBoundingClientRect();if(r.top>=0&&r.left>=0&&r.top<=u.top+u.height&&r.left<=u.left+u.width)return!0}return!1}return r.top>=0&&r.left>=0&&r.top<=(window.innerHeight||document.documentElement.clientHeight)&&r.left<=(window.innerWidth||document.documentElement.clientWidth)}var Ce=function(){function t(t){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,this.node="string"==typeof t?document.createElementNS(ze,t):t}return t.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node)},Object.defineProperty(t.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),t.prototype.transform=function(){var t="translate("+this._x+","+this._y+")";if(1!=this._scale&&(t+=(t?" ":"")+"scale("+this._scale+")"),0!=this._rotation){var e="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(e="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),t+=(t?" ":"")+e}this._transformString=t,this.node.setAttribute("transform",t)},t.prototype.getBBox=function(){var t={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var e=this.node.getBBox();t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height}catch(o){}return t},t.prototype.moveTo=function(t){if(t){var e=t.x,o=t.y;this._x==e&&this._y==o||(this._x=e,this._y=o,this.transform())}},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(t){this.node.innerHTML=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(t){this.node.textContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!=t&&(this._x=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!=t&&(this._y=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!=t&&(this._rotation=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationX",{get:function(){return this._rotationX},set:function(t){this._rotationX!=t&&(this._rotationX=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationY",{get:function(){return this._rotationY},set:function(t){this._rotationY!=t&&(this._rotationY=t,this.transform())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale!=t&&(this._scale=t,this.transform())},enumerable:!0,configurable:!0}),t.prototype.removeAttr=function(t){this.node.removeAttribute(t)},t.prototype.attr=function(t){var e=this;return qa(t,function(t,o){ba(o)?e.node.setAttribute(t,o):e.node.removeAttribute(t)}),this},t.prototype.getAttr=function(t){return this.node.getAttribute(t)},t.prototype.attrNS=function(t,e,o){return this.node.setAttributeNS(t,e,o),this},t.prototype.getAttrNS=function(t,e){return this.node.getAttributeNS(t,e)},t.prototype.removeStyle=function(t){this.node.style[t]=null,delete this.node.style[t]},t.prototype.getStyle=function(t){return this.node.style[t]},t.prototype.addStyle=function(t){var e=this;return qa(t,function(t,o){ba(o)?e.node.style[t]=o:e.removeStyle(t)}),this},t.prototype.addClass=function(t){cg(this.node,t)},t.prototype.removeClass=function(t){dg(this.node,t)},t.prototype.setClass=function(t){this.node.setAttribute("class",t)},t.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.removeNode()},t}();var Tm=function(e){function o(o){return e.call(this,o)||this}return da(o,e),o.prototype.add=function(e){e&&this.node.appendChild(e.node)},o.prototype.addToBack=function(e){if(e){var o=this.node.childNodes[0];o?o!=e.node&&this.node.insertBefore(e.node,o):this.node.appendChild(e.node)}},o.prototype.removeElement=function(e){if(e)try{e.node&&e.node.parentNode==this.node&&this.node.removeChild(e.node)}catch(o){}},o.prototype.hasChild=function(e){for(var o=0;o<this.node.childNodes.length;o++)if(this.node.childNodes[o]==e.node)return!0;return!1},Object.defineProperty(o.prototype,"content",{get:function(){return this.node.innerHTML},set:function(e){this.node.innerHTML=e},enumerable:!0,configurable:!0}),o.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var e=this.node.firstChild;e&&e.parentNode&&e.parentNode.removeChild(e)}},o}(Ce);var Ba=function(o){function r(){var r=o.call(this)||this;return r._purposes={stroke:oa("#e5e5e5"),fill:oa("#f3f3f3"),primaryButton:oa("#6794dc"),primaryButtonHover:oa("#6771dc"),primaryButtonDown:oa("#68dc75"),primaryButtonActive:oa("#68dc75"),primaryButtonText:oa("#FFFFFF"),primaryButtonStroke:oa("#FFFFFF"),secondaryButton:oa("#d9d9d9"),secondaryButtonHover:oa("#d9d9d9").brighten(-.25),secondaryButtonDown:oa("#d9d9d9").brighten(-.35),secondaryButtonActive:oa("#d9d9d9").brighten(.35),secondaryButtonText:oa("#000000"),secondaryButtonStroke:oa("#FFFFFF"),grid:oa("#000000"),background:oa("#ffffff"),alternativeBackground:oa("#000000"),text:oa("#000000"),alternativeText:oa("#FFFFFF"),disabledBackground:oa("#999999"),positive:oa("#67dc75"),negative:oa("#dc6788")},r.className="InterfaceColorSet",r.applyTheme(),r}return da(r,o),r.prototype.debug=function(){},r.prototype.getFor=function(o){return this._purposes[o]},r.prototype.setFor=function(o,r){this._purposes[o]=r},r}(rb);ca.registeredClasses.InterfaceColorSet=Ba;var vi=new Ka,Um=function(e,i){i||(i="ampopup");var t=new Ba,r=t.getFor("text"),o=t.getFor("background");o.alpha=.8;var l=t.getFor("alternativeBackground");return l.alpha=.05,vi.insertKeyIfEmpty(i,function(){var t=new Pa([new Ia(e,"."+i,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new Ia(e,"."+i+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":o.hex,opacity:"0.5"}),new Ia(e,"."+i+"-header",{display:"block",width:"100%","min-height":"1.8em",background:l.rgba}),new Ia(e,"."+i+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new Ia(e,"."+i+"-content",{background:o.hex,"background-color":o.rgba,color:r.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new Ia(e,"."+i+"-inside",{padding:"1em"}),new Ia(e,"."+i+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new he(function(){vi.removeKey(i),t.dispose()})}).increment()};var Vm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._domEvents={},t}return da(t,e),t.prototype._addDOMEvent=function(e,t,s,a){var r=this;if(!this._domEvents[e]){var i=function(e){s.call(a,t,e)};this.target.element.addEventListener(e,i,!1),this._domEvents[e]=new he(function(){delete r._domEvents[e],r.target.element.removeEventListener(e,i,!1)})}return this._domEvents[e].increment()},t.prototype._dispatchKeyboardEvent=function(e,t){this.target.events.isEnabled(e)&&this.target.events.dispatchImmediately(e,{type:e,target:this.target,event:t})},t.prototype._on=function(t,s,a,r,i,c){var n=e.prototype._on.call(this,t,s,a,r,i,c),o=[n.disposer];switch(s){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":case"keyup":case"keypress":case"input":o.push(this._addDOMEvent(s,s,this._dispatchKeyboardEvent,this));}return n.disposer=new Pa(o),n},t}(Oh);var Wm=function(e){function t(t){var i=e.call(this)||this;return i._eventDispatcher=new Vm(i),i.eventDisposers=new Ka,i.replacedStyles=new Ka,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new Ka,i.inertias=new Ka,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=t,i.className="InteractionObject",i._disposers.push(new Bc(i.inertias)),i._disposers.push(new Bc(i.eventDisposers)),i.applyTheme(),i}return da(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHover",{get:function(){return this._isHover},set:function(e){this.isHover!=e&&(this._isHover=e,e?ra().overObjects.moveValue(this):(this.isRealHover=!1,ra().overObjects.removeValue(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(e){this.isHoverByTouch!=e&&(this._isHoverByTouch=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new Aa),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},set:function(e){this.isDown!=e&&(this._isDown=e,e?ra().downObjects.moveValue(this):ra().downObjects.removeValue(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new Aa),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.isFocused!=e&&(this._isFocused=e,ra().focusedObject=e?this:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(e){this._isTouchProtected!=e&&(this._isTouchProtected=e,e?ra().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&ra().prepElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(e){this._clickable!==e&&(this._clickable=e,ra().processClickable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(e){this._contextMenuDisabled!==e&&(this._contextMenuDisabled=e,ra().processContextMenu(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this._hoverable},set:function(e){this._hoverable!==e&&(this._hoverable=e,ra().processHoverable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this._trackable},set:function(e){this._trackable!==e&&(this._trackable=e,ra().processTrackable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable!==e&&(this._draggable=e,ra().processDraggable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this._swipeable},set:function(e){this._swipeable!==e&&(this._swipeable=e,ra().processSwipeable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable!==e&&(this._resizable=e,ra().processResizable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this._wheelable},set:function(e){this._wheelable!==e&&(this._wheelable=e,ra().processWheelable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inert",{get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this._focusable&&-1==this.tabindex&&(this._tabindex=1),ra().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return zf(this._tabindex,-1)},set:function(e){this._tabindex!==e&&(this._tabindex=e,e>-1&&(this.focusable=!0),ra().processFocusable(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(e){this._originalPosition=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalScale",{get:function(){return zf(this._originalScale,1)},set:function(e){this._originalScale!==e&&(this._originalScale=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalAngle",{get:function(){return zf(this._originalAngle,0)},set:function(e){this._originalAngle!==e&&(this._originalAngle=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(e){this._inertiaOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(e){this._hitOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(e){this._hoverOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(e){this._swipeOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(e){this._keyboardOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(e){this._mouseOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(e){this._cursorOptions=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.inertiaOptions=t.inertiaOptions,this.hitOptions=t.hitOptions,this.hoverOptions=t.hoverOptions,this.swipeOptions=t.swipeOptions,this.keyboardOptions=t.keyboardOptions,this.cursorOptions=t.cursorOptions,this.contextMenuDisabled=t.contextMenuDisabled,ra().applyCursorOverStyle(this)},t.prototype.setEventDisposer=function(e,t,i){var n=this.eventDisposers.getKey(e);t?null==n&&this.eventDisposers.setKey(e,i()):null!=n&&(n.dispose(),this.eventDisposers.removeKey(e))},t.prototype.dispose=function(){e.prototype.dispose.call(this);var t=ra();t.overObjects.removeValue(this),t.downObjects.removeValue(this),t.trackedObjects.removeValue(this),t.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&t.unlockWheel(),t.focusedObject===this&&(t.focusedObject=void 0)},t}(Zb);var Xm=function(){function t(t,e){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=t,this.keyboardEvent=e,this._startedOn=new Date().getTime(),ra().processDragStart(t),xa.animations.push(this),this.update()}return t.prototype.update=function(){var t=this.interaction,e=ra().getKeyboardOption(t,"speed"),i=ra().getKeyboardOption(t,"accelleration"),r=ra().getKeyboardOption(t,"accellerationDelay"),o={x:0,y:0};this.keyboardEvent.shiftKey?(e*=.5,i=1):this.keyboardEvent.ctrlKey&&(e*=2);var n=new Date().getTime()-this._startedOn,a=n-r;if(i>0&&a>0){var s=n/r;n=r,o.x+=this.directionX*(e*i*s*a),o.y+=this.directionY*(e*i*s*a)}o.x+=this.directionX*(e*n),o.y+=this.directionY*(e*n),ra().handleTransformMove(t,o,{x:0,y:0},this.keyboardEvent,!0,!1)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.dispose=function(){this._disposed||(ra().processDragStop(this.interaction),pa(xa.animations,this))},t}();var Ym=function(t){function i(i,e,r,n){var o=t.call(this)||this;return o.animations=[],o.className="Inertia",o.interaction=i,o.type=e,o.point=r,o.startPoint=n,o._disposers.push(new bd(o.animations)),o}return da(i,t),Object.defineProperty(i.prototype,"x",{get:function(){return this.point.x},set:function(t){aa(t)&&(this.point.x=t,this.handleMove())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.point.y},set:function(t){aa(t)&&(this.point.y=t,this.handleMove())},enumerable:!0,configurable:!0}),i.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var t={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",t)}},i.prototype.done=function(){this.interaction.inertias.removeKey(this.type),"move"===this.type&&ra().processDragStop(this.interaction),this.dispose()},i}(rb);var Zm=function(){function e(){}return e.prototype.getEventKey=function(e){var r;switch(e.keyCode||e.which){case 38:r="up";break;case 40:r="down";break;case 37:r="left";break;case 39:r="right";break;case 13:r="enter";break;case 27:r="esc";break;case 36:r="home";break;case 35:r="end";break;case 9:r="tab";break;case 17:r="ctrl";break;case 18:r="alt";break;case 16:r="shift";break;case 32:r="space";break;case 36:r="home";break;case 35:r="end";break;case 33:r="pgup";break;case 34:r="pgdn";break;case 45:r="ins";break;case 46:r="del";break;case 107:r="plus";break;case 109:r="minus";break;default:r="other";}return r},e.prototype.isKey=function(e,r){var a=this.getEventKey(e);return wa(r)&&(r=[r]),-1!==r.indexOf(a)},e.prototype.shiftKey=function(e){return e.shiftKey},e.prototype.ctrlKey=function(e){return e.ctrlKey},e.prototype.altKey=function(e){return e.altKey},e.prototype.metaKey=function(e){return e.metaKey},e}();var hc=new Zm;var $m={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function wi(e){switch(e){case"year":return;case"month":return"year";case"week":case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second";}}function Ta(e,t){return ba(t)||(t=1),$m[e]*t}function _m(){return new Date}function $b(){return _m().getTime()}function cd(e){return new Date(e.getTime())}function ig(e,t,r,s){e=new Date(e.getTime()),t=new Date(t.getTime());var n=0,a=0;s||"millisecond"==r||(n=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-n),a=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-a));var o=!1;switch(r){case"year":e.getUTCFullYear()!=t.getUTCFullYear()&&(o=!0);break;case"month":e.getUTCFullYear()!=t.getUTCFullYear()?o=!0:e.getUTCMonth()!=t.getUTCMonth()&&(o=!0);break;case"day":e.getUTCMonth()!=t.getUTCMonth()?o=!0:e.getUTCDate()!=t.getUTCDate()&&(o=!0);break;case"hour":e.getUTCHours()!=t.getUTCHours()&&(o=!0);break;case"minute":e.getUTCMinutes()!=t.getUTCMinutes()&&(o=!0);break;case"second":e.getUTCSeconds()!=t.getUTCSeconds()&&(o=!0);break;case"millisecond":e.getTime()!=t.getTime()&&(o=!0);}if(o)return!0;var i=wi(r);return!!i&&(e.setUTCMinutes(e.getUTCMinutes()+n),t.setUTCMinutes(t.getUTCMinutes()+a),ig(e,t,i,s))}function sb(e,t,r,s){var n=0;switch(s||"millisecond"==t||(n=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-n)),t){case"day":var a=e.getUTCDate();e.setUTCDate(a+r);break;case"second":var o=e.getUTCSeconds();e.setUTCSeconds(o+r);break;case"millisecond":var i=e.getUTCMilliseconds();e.setUTCMilliseconds(i+r);break;case"hour":var g=e.getUTCHours();e.setUTCHours(g+r);break;case"minute":var $=e.getUTCMinutes();e.setUTCMinutes($+r);break;case"year":var u=e.getUTCFullYear();e.setUTCFullYear(u+r);break;case"month":var T=e.getUTCMonth();e.setUTCMonth(T+r);break;case"week":var U=e.getUTCDate();e.setUTCDate(U+7*r);}if(!s&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+n),"day"==t||"week"==t||"month"==t||"year"==t)){var c=e.getTimezoneOffset();if(c!=n){var C=c-n;e.setUTCMinutes(e.getUTCMinutes()+C),e.getTimezoneOffset()!=c&&e.setUTCMinutes(e.getUTCMinutes()-C)}}return e}function eb(e,t,r,s,n,a){aa(r)||(r=1);var o=0;switch(n||"millisecond"==t||(o=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-o)),t){case"day":var i=e.getUTCDate();if(r>1){if(a){a=eb(a,"day",1);var g=e.getTime()-a.getTime(),$=Math.floor(g/Ta("day")/r),u=Ta("day",$*r);e.setTime(a.getTime()+u-o*Ta("minute"))}}else e.setUTCDate(i);e.setUTCHours(0,0,0,0);break;case"second":var T=e.getUTCSeconds();r>1&&(T=Math.floor(T/r)*r),e.setUTCSeconds(T,0);break;case"millisecond":if(1==r)return e;var U=e.getUTCMilliseconds();U=Math.floor(U/r)*r,e.setUTCMilliseconds(U);break;case"hour":var c=e.getUTCHours();r>1&&(c=Math.floor(c/r)*r),e.setUTCHours(c,0,0,0);break;case"minute":var C=e.getUTCMinutes();U=e.getUTCMilliseconds(),r>1&&(C=Math.floor(C/r)*r),e.setUTCMinutes(C,0,0);break;case"month":var l=e.getUTCMonth();r>1&&(l=Math.floor(l/r)*r),e.setUTCMonth(l,1),e.setUTCHours(0,0,0,0);break;case"year":var m=e.getUTCFullYear();r>1&&(m=Math.floor(m/r)*r),e.setUTCFullYear(m,0,1),e.setUTCHours(0,0,0,0);break;case"week":var d=e.getUTCDate(),M=e.getUTCDay();aa(s)||(s=1),d=M>=s?d-M+s:d-(7+M)+s,e.setUTCDate(d),e.setUTCHours(0,0,0,0);}if(!n&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+o),"day"==t||"week"==t||"month"==t||"year"==t)){var p=e.getTimezoneOffset();if(p!=o){var S=p-o;e.setUTCMinutes(e.getUTCMinutes()+S)}}return e}var an=function(e){function t(){var o=e.call(this)||this;return o._globalEventsAdded=!1,o._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},o._usePointerEventsOnly=!1,o._useTouchEventsOnly=!1,o._addHoverEvents=!0,o._passiveSupported=!1,o._delayedEvents={out:[]},o.overObjects=new Aa,o.downObjects=new Aa,o.trackedObjects=new Aa,o.transformedObjects=new Aa,o.pointers=new Ka,o.inertiaOptions=new Ka,o.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},o.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},o.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},o.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},o.mouseOptions={sensitivity:1},o.className="Interaction",o.body=o.getInteraction(document.body),o._disposers.push(o.body),window.hasOwnProperty("PointerEvent")?(o._pointerEvents.pointerdown="pointerdown",o._pointerEvents.pointerup="pointerup",o._pointerEvents.pointermove="pointermove",o._pointerEvents.pointercancel="pointercancel",o._pointerEvents.pointerover="pointerover",o._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(o._pointerEvents.pointerdown="MSPointerDown",o._pointerEvents.pointerup="MSPointerUp",o._pointerEvents.pointermove="MSPointerMove",o._pointerEvents.pointercancel="MSPointerUp",o._pointerEvents.pointerover="MSPointerOver",o._pointerEvents.pointerout="MSPointerOut"):"undefined"!=typeof matchMedia&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(o._addHoverEvents=!1,o._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)?o._usePointerEventsOnly=!0:o.fullFF()?o._usePointerEventsOnly=!0:o._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?o._pointerEvents.wheel="wheel":ba(document.onmousewheel)&&(o._pointerEvents.wheel="mousewheel"),o.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:_f}),o.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:_f}),o._passiveSupported=t.passiveSupported,o.applyTheme(),o}return da(t,e),t.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},t.prototype.debug=function(){},t.prototype.addGlobalEvents=function(){var e=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(Sa(document,this._pointerEvents.pointerdown,function(t){e.handleGlobalPointerDown(t)})),this._disposers.push(Sa(document,this._pointerEvents.pointermove,function(t){e.handleGlobalPointerMove(t)})),this._disposers.push(Sa(document,this._pointerEvents.pointerup,function(t){e.handleGlobalPointerUp(t)})),this._disposers.push(Sa(document,this._pointerEvents.pointercancel,function(t){e.handleGlobalPointerUp(t,!0)})),this._disposers.push(Sa(document,"mouseenter",function(t){ba(t.relatedTarget)||0!=t.buttons&&0!=t.which||e.handleDocumentLeave(t)}))),this._usePointerEventsOnly||(this._disposers.push(Sa(document,"touchstart",function(t){e.handleGlobalTouchStart(t)})),this._disposers.push(Sa(document,"touchmove",function(t){e.handleGlobalTouchMove(t)})),this._disposers.push(Sa(document,"touchend",function(t){e.handleGlobalTouchEnd(t)}))),this._disposers.push(Sa(document,"keydown",function(t){e.handleGlobalKeyDown(t)})),this._disposers.push(Sa(document,"keyup",function(t){e.handleGlobalKeyUp(t)})),this._globalEventsAdded=!0)},t.prototype.processClickable=function(e){this.processTouchable(e)},t.prototype.processContextMenu=function(e){e.contextMenuDisabled?e.eventDisposers.hasKey("contextMenuDisabled")||e.eventDisposers.setKey("contextMenuDisabled",Sa(e.element,"contextmenu",function(e){e.preventDefault()})):e.eventDisposers.hasKey("contextMenuDisabled")&&e.eventDisposers.getKey("contextMenuDisabled").dispose()},t.prototype.processHoverable=function(e){var t=this;if(e.hoverable||e.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(e),!e.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&e.eventDisposers.setKey("hoverable",new Pa([Sa(e.element,this._pointerEvents.pointerout,function(o){return t.handlePointerOut(e,o)}),Sa(e.element,this._pointerEvents.pointerover,function(o){return t.handlePointerOver(e,o)})])),e.trackable;else{var o=e.eventDisposers.getKey("hoverable");null!=o&&(o.dispose(),e.eventDisposers.removeKey("hoverable"))}this.processTouchable(e)},t.prototype.processMovable=function(e){(e.draggable||e.swipeable||e.trackable||e.resizable)&&(this.isGlobalElement(e)||e.isTouchProtected||this.prepElement(e),this.applyCursorOverStyle(e)),this.processTouchable(e)},t.prototype.processTrackable=function(e){this.processHoverable(e),this.processMovable(e),e.trackable?this.trackedObjects.moveValue(e):this.trackedObjects.removeValue(e)},t.prototype.processDraggable=function(e){this.processMovable(e)},t.prototype.processSwipeable=function(e){this.processMovable(e)},t.prototype.processResizable=function(e){this.processMovable(e)},t.prototype.processWheelable=function(e){var t=this;if(e.wheelable)e.eventDisposers.hasKey("wheelable")||e.eventDisposers.setKey("wheelable",new Pa([Sa(e.element,this._pointerEvents.wheel,function(o){return t.handleMouseWheel(e,o)},!!this._passiveSupported&&{passive:!1}),e.events.on("out",function(o){e.wheelable&&t.unlockWheel()}),e.events.on("over",function(o){e.wheelable&&t.lockWheel()})]));else{var o=e.eventDisposers.getKey("wheelable");null!=o&&(o.dispose(),e.eventDisposers.removeKey("wheelable"))}},t.prototype.processFocusable=function(e){var t=this;if(!0===e.focusable&&e.tabindex>-1&&!this._useTouchEventsOnly)e.eventDisposers.hasKey("focusable")||e.eventDisposers.setKey("focusable",new Pa([Sa(e.element,"focus",function(o){return t.handleFocus(e,o)}),Sa(e.element,"blur",function(o){return t.handleBlur(e,o)}),Sa(e.element,this._pointerEvents.pointerdown,function(o){return t.handleFocusBlur(e,o)}),Sa(e.element,"touchstart",function(o){return t.handleFocusBlur(e,o)},!!this._passiveSupported&&{passive:!1})]));else{var o=e.eventDisposers.getKey("focusable");null!=o&&(o.dispose(),e.eventDisposers.removeKey("focusable"))}},t.prototype.processTouchable=function(e){var t=this;if(e.clickable||e.hoverable||e.trackable||e.draggable||e.swipeable||e.resizable)this.addGlobalEvents(),e.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||e.eventDisposers.setKey("touchable",Sa(e.element,"touchstart",function(o){return t.handleTouchDown(e,o)},!!this._passiveSupported&&{passive:!1})):e.eventDisposers.setKey("touchable",Sa(e.element,this._pointerEvents.pointerdown,function(o){return t.handlePointerDown(e,o)})):e.eventDisposers.setKey("touchable",new Pa([Sa(e.element,this._pointerEvents.pointerdown,function(o){return t.handlePointerDown(e,o)}),Sa(e.element,"touchstart",function(o){return t.handleTouchDown(e,o)},!!this._passiveSupported&&{passive:!1})])));else{var o=e.eventDisposers.getKey("touchable");null!=o&&(o.dispose(),e.eventDisposers.removeKey("touchable"))}},t.prototype.handleFocus=function(e,t){if(e.focusable){if(e.isFocused=!0,e.events.isEnabled("focus")&&!xa.isPaused){var o={type:"focus",target:e,event:t};e.events.dispatchImmediately("focus",o)}}else t.preventDefault()},t.prototype.handleFocusBlur=function(e,t){!1!==e.focusable&&this.getHitOption(e,"noFocus")&&e.events.once("focus",function(){e.events.disableType("blur"),fg(),e.sprite&&e.sprite.handleBlur(),e.events.enableType("blur")})},t.prototype.handleBlur=function(e,t){if(e.focusable){if(e.isFocused=!1,e.events.isEnabled("blur")&&!xa.isPaused){var o={type:"blur",target:e,event:t};e.events.dispatchImmediately("blur",o)}}else t.preventDefault()},t.prototype.handleGlobalKeyDown=function(e){if(this.focusedObject)if(hc.isKey(e,"esc"))fg();else if(this.focusedObject.draggable&&hc.isKey(e,["up","down","left","right"])){e.preventDefault();var t=this.focusedObject;if(t.eventDisposers.hasKey("interactionKeyboardObject"))return;var o=new Xm(t,e);switch(t.eventDisposers.setKey("interactionKeyboardObject",o),hc.getEventKey(e)){case"up":o.directionY=-1;break;case"down":o.directionY=1;break;case"left":o.directionX=-1;break;case"right":o.directionX=1;}}},t.prototype.handleGlobalKeyUp=function(e){if(this.focusedObject){var t=this.focusedObject.eventDisposers.getKey("interactionKeyboardObject");null!=t&&(e.preventDefault(),t.dispose(),this.focusedObject.eventDisposers.removeKey("interactionKeyboardObject"))}},t.prototype.handleGlobalPointerMove=function(e){var t=this.getPointer(e);if(t.point=this.getPointerPoint(e),this.events.isEnabled("track")&&!xa.isPaused){var o={type:"track",target:this,event:e,pointer:t,touch:t.touch};this.events.dispatchImmediately("track",o)}this.addBreadCrumb(t,t.point),this.handleGlobalMove(t,e)},t.prototype.handleGlobalPointerDown=function(e){this.processDelayed();var t=this.getPointer(e);if(this.events.isEnabled("down")&&!xa.isPaused){var o={type:"down",target:this,event:e,pointer:t,touch:t.touch};this.events.dispatchImmediately("down",o)}},t.prototype.preventTouchAction=function(e){e.defaultPrevented||e.preventDefault()},t.prototype.handleGlobalPointerUp=function(e,t){void 0===t&&(t=!1);var o=this.getPointer(e);if(this.events.isEnabled("up")&&!xa.isPaused){var i={type:"up",target:this,event:e,pointer:o,touch:o.touch};this.events.dispatchImmediately("up",i)}this.handleGlobalUp(o,e,t)},t.prototype.handleGlobalTouchMove=function(e){for(var t=0;t<e.changedTouches.length;t++){var o=this.getPointer(e.changedTouches[t]);if(o.point=this.getPointerPoint(e.changedTouches[t]),this.events.isEnabled("track")&&!xa.isPaused){var i={type:"track",target:this,event:e,pointer:o,touch:o.touch};this.events.dispatchImmediately("track",i)}this.addBreadCrumb(o,o.point),this.handleGlobalMove(o,e)}},t.prototype.handleGlobalTouchStart=function(e){this.processDelayed();for(var t=0;t<e.changedTouches.length;t++){var o=this.getPointer(e.changedTouches[t]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!xa.isPaused){var i={type:"down",target:this,event:e,pointer:o,touch:o.touch};this.events.dispatchImmediately("down",i)}}},t.prototype.handleGlobalTouchEnd=function(e){for(var t=0;t<e.changedTouches.length;t++){var o=this.getPointer(e.changedTouches[t]);if(this.events.isEnabled("up")&&!xa.isPaused){var i={type:"up",target:this,event:e,pointer:o,touch:o.touch};this.events.dispatchImmediately("up",i)}this.handleGlobalUp(o,e)}},t.prototype.handlePointerDown=function(e,t){var o=this.getPointer(t);(o.touch||1==t.which||3==t.which)&&(o.button=t.which,this.resetPointer(o,t),this.handleDown(e,o,t))},t.prototype.handlePointerOver=function(e,t){var o=this.getPointer(t);this.handleOver(e,o,t)},t.prototype.handlePointerOut=function(e,t){var o=this.getPointer(t);this.handleOut(e,o,t)},t.prototype.handleMouseWheel=function(e,t){var o=this.getPointer(t);o.point=this.getPointerPoint(t);var i=0,n=0,r=1;if(1==t.deltaMode&&(r=50),r*=this.getMouseOption(e,"sensitivity"),!(t instanceof WheelEvent))throw new Error("Invalid event type");i=Math.round(-1*t.wheelDeltaX||t.deltaX)*r,n=Math.round(-1*t.wheelDeltaY||t.deltaY)*r,this.handleWheel(e,o,i,n,t)},t.prototype.handleTouchDown=function(e,t){for(var o=0;o<t.changedTouches.length;o++){var i=this.getPointer(t.changedTouches[o]);this.maybePreventDefault(e,t,i),this.resetPointer(i,t.changedTouches[o]),this.handleDown(e,i,t)}},t.prototype.handleHit=function(e,t,o){var i=$b();if(e.lastHit&&e.lastHit>=i-this.getHitOption(e,"doubleHitTime")){if(i-e.lastHit<100)return;if(e.lastHit=void 0,e.lastHitPointer=void 0,e.events.isEnabled("doublehit")&&!xa.isPaused){var n={type:"doublehit",target:e,point:t.point,event:o,touch:t.touch};e.events.dispatchImmediately("doublehit",n)}}else if(e.lastHit=i,e.lastHitPointer=t,3===t.button){if(e.events.isEnabled("rightclick")&&!xa.isPaused){n={type:"rightclick",target:e,event:o};e.events.dispatchImmediately("rightclick",n)}}else if(e.events.isEnabled("hit")&&!xa.isPaused){n={type:"hit",target:e,event:o,point:t.point,touch:t.touch};e.events.dispatchImmediately("hit",n)}},t.prototype.handleOver=function(e,t,o,i){if(void 0===i&&(i=!1),e.hoverable&&(this.processDelayed(),e.overPointers.moveValue(t),!e.isRealHover&&(e.isHover=!0,e.isRealHover=!0,this.overObjects.moveValue(e),this.handleTrack(this.body,t,o,!0),e.events.isEnabled("over")&&!xa.isPaused))){var n={type:"over",target:e,event:o,pointer:t,touch:t.touch};e.events.dispatchImmediately("over",n)}},t.prototype.handleOut=function(e,t,o,i,n){var r=this;if(void 0===i&&(i=!1),void 0===n&&(n=!1),e.hoverable&&(e.overPointers.removeValue(t),e.isHover&&(!e.hasDelayedOut||n))){if(i&&e.overPointers.length)return;if(t.touch&&!n&&!this.old(t)){var s=this.getHoverOption(e,"touchOutBehavior");if("leave"==s)return this._delayedEvents.out.push({type:"out",io:e,pointer:t,event:o,keepUntil:$b()+500}),void(e.hasDelayedOut=!0);if("delay"==s&&this.getHoverOption(e,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:e,pointer:t,event:o,keepUntil:$b()+500,timeout:this.setTimeout(function(){r.handleOut(e,t,o,!0)},this.getHoverOption(e,"touchOutDelay"))})}if(e.isHover=!1,this.overObjects.removeValue(e),e.events.isEnabled("out")&&!xa.isPaused){var a={type:"out",target:e,event:o,pointer:t,touch:t.touch};e.events.dispatchImmediately("out",a)}e.overPointers.clear(),e.hasDelayedOut=!1}},t.prototype.processDelayed=function(){for(var e;e=this._delayedEvents.out.pop();)e.timeout&&e.timeout.dispose(),this.handleOut(e.io,e.pointer,e.event,!1,!0)},t.prototype.handleDown=function(e,t,o){if(this.maybePreventDefault(e,o,t),e.inert&&this.stopInertia(e),this.handleOver(e,t,o,!0),e.downPointers.moveValue(t),this.applyCursorDownStyle(e,t),e.isDown||(!1!==e.focusable&&this.getHitOption(e,"noFocus")&&this.focusedObject&&fg(),e.isDown=!0,this.downObjects.moveValue(e),e.draggable&&this.processDragStart(e,t,o),e.resizable&&this.processResizeStart(e,t,o)),e.events.isEnabled("down")&&!xa.isPaused){var i={type:"down",target:e,event:o,pointer:t,touch:t.touch};e.events.dispatchImmediately("down",i)}},t.prototype.handleGlobalUp=function(e,t,o){var i=this;void 0===o&&(o=!1);var n=this.downObjects.values.slice();n.sort(function(e,t){if(e&&t){var o=e.element.compareDocumentPosition(t.element);return o&Node.DOCUMENT_POSITION_CONTAINED_BY?1:o&Node.DOCUMENT_POSITION_CONTAINS?-1:0}return 0}),la(n,function(n){n&&n.downPointers.contains(e)&&i.handleUp(n,e,t,o)})},t.prototype.handleDocumentLeave=function(e){var t=this;fa(this.downObjects.backwards().iterator(),function(o){o.downPointers.each(function(i){t.handleUp(o,i,e)})})},t.prototype.handleUp=function(e,t,o,i){if(void 0===i&&(i=!1),this.restoreCursorDownStyle(e,t),e.downPointers.removeValue(t),(t.touch||this._useTouchEventsOnly)&&this.handleOut(e,t,o,!0),e.isDown){if(0==e.downPointers.length&&(e.isDown=!1,this.downObjects.removeValue(e)),e.events.isEnabled("up")&&!xa.isPaused){var n={type:"up",target:e,event:o,pointer:t,touch:t.touch};e.events.dispatchImmediately("up",n)}i||(e.swipeable&&this.swiped(e,t)?this.handleSwipe(e,t,o):(e.clickable&&!this.moved(t,this.getHitOption(e,"hitTolerance"))&&this.handleHit(e,t,o),e.inert&&this.moved(t,this.getHitOption(e,"hitTolerance"))?this.handleInertia(e,t):e.draggable&&this.processDragStop(e,t,o),e.resizable&&this.processResizeStop(e,t,o)))}},t.prototype.maybePreventDefault=function(e,t,o){!ba(t)||!(e.draggable||e.swipeable||e.trackable||e.resizable)||this.isGlobalElement(e)||!1===t.cancelable||e.isTouchProtected&&o&&o.touch||t.preventDefault()},t.prototype.handleGlobalMove=function(e,t){var o=this;if(!e.touch){var i=Om(e.lastEvent);fa(this.overObjects.backwards().iterator(),function(n){if(n&&n.overPointers.contains(e)&&n.hoverable){var r=!1;n.element&&e.lastEvent&&ti(n.element,i)||(r=!0),r&&o.handleOut(n,e,t,!0)}})}fa(this.transformedObjects.backwards().iterator(),function(i){!i.downPointers.contains(e)||i.swipeable&&o.swiping(i,e)||!i.draggable&&!i.resizable||o.handleTransform(i,t)}),fa(this.trackedObjects.backwards().iterator(),function(i){i.overPointers.contains(e)||o.handleTrack(i,e,t)})},t.prototype.handleTrack=function(e,t,o,i){if(void 0===i&&(i=!1),(i||this.moved(t,0))&&e.events.isEnabled("track")&&!xa.isPaused){var n={type:"track",target:e,event:o,point:t.point,pointer:t,touch:t.touch};e.events.dispatchImmediately("track",n)}},t.prototype.handleSwipe=function(e,t,o){if(e.events.isEnabled("swipe")&&!xa.isPaused){var i={type:"swipe",target:e,event:o,touch:t.touch};e.events.dispatchImmediately("swipe",i)}if(t.startPoint.x<t.point.x){if(e.events.isEnabled("swiperight")&&!xa.isPaused){i={type:"swiperight",target:e,event:o,touch:t.touch};e.events.dispatchImmediately("swiperight",i)}}else if(e.events.isEnabled("swipeleft")&&!xa.isPaused){i={type:"swipeleft",target:e,event:o,touch:t.touch};e.events.dispatchImmediately("swipeleft",i)}},t.prototype.handleWheel=function(e,t,o,i,n){var r={x:o,y:i};e.events.isEnabled("wheel")&&!xa.isPaused&&e.events.dispatchImmediately("wheel",{type:"wheel",target:e,event:n,point:t.point,shift:r}),o<0?e.events.isEnabled("wheelleft")&&!xa.isPaused&&e.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:e,event:n,point:t.point,shift:r}):o>0?e.events.isEnabled("swiperight")&&!xa.isPaused&&e.events.dispatchImmediately("wheelright",{type:"wheelright",target:e,event:n,point:t.point,shift:r}):i<0?e.events.isEnabled("wheelup")&&!xa.isPaused&&e.events.dispatchImmediately("wheelup",{type:"wheelup",target:e,event:n,point:t.point,shift:r}):i>0&&e.events.isEnabled("wheeldown")&&!xa.isPaused&&e.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:e,event:n,point:t.point,shift:r})},t.prototype.handleInertia=function(e,t){e.draggable&&0===e.downPointers.length&&this.handleMoveInertia(e,t),e.resizable&&e.downPointers.length>1&&this.handleResizeInertia(e,t)},t.prototype.handleMoveInertia=function(e,t){var o=e,i={x:t.point.x,y:t.point.y},n={x:t.startPoint.x,y:t.startPoint.y},r=new Ym(o,"move",i,n),s=this.getTrailPoint(t,$b()-this.getInertiaOption(e,"move","time"));if(void 0!==s){var a=this.getInertiaOption(e,"move","factor"),p=[{to:t.point.x+(t.point.x-s.point.x)*a,property:"x"},{to:t.point.y+(t.point.y-s.point.y)*a,property:"y"}],l=new Ob(r,p,this.getInertiaOption(e,"move","duration"),this.getInertiaOption(e,"move","easing")).start();this._disposers.push(l.events.on("animationended",function(e){r.done()})),e.inertias.setKey("move",r)}else this.processDragStop(e,t,t.lastUpEvent)},t.prototype.handleResizeInertia=function(e,t){},t.prototype.handleTransform=function(e,t){var o,i,n,r=e.downPointers.getIndex(0),s=null,a=null;r&&(s=r.point,a=r.startPoint),n=i={x:e.originalPosition.x,y:e.originalPosition.y};for(var p=!0,l=1;l<e.downPointers.length;l++){var h=e.downPointers.getIndex(l);if(a.x!=h.startPoint.x&&a.y!=h.startPoint.y){p=!1,i=(o=h).point,n=o.startPoint;break}}var u=r&&this.moved(r,0);if(e.draggable&&r&&r.dragStartEvents&&r.dragStartEvents.length&&u&&e.events.isEnabled("dragstart")&&!xa.isPaused&&e.events.dispatchImmediately("dragstart",r.dragStartEvents.shift()),p&&e.draggable)this.handleTransformMove(e,s,a,t,u,r.touch);else{var c=o&&this.moved(o,0);e.draggable&&e.resizable?(this.handleTransformMove(e,s,a,t,u&&c,r.touch),this.handleTransformResize(e,s,a,i,n,t,u&&c,r.touch)):(e.draggable&&this.handleTransformMove(e,s,a,t,u,r.touch),!e.resizable||p&&!t.ctrlKey||this.handleTransformResize(e,s,a,i,n,t,u&&c,r.touch))}},t.prototype.handleTransformMove=function(e,t,o,i,n,r){if(n&&e.events.isEnabled("drag")&&!xa.isPaused&&(!e.isTouchProtected||!r)){var s={type:"drag",target:e,event:i,shift:{x:t.x-o.x,y:t.y-o.y},startPoint:o,point:t,touch:r};e.events.dispatchImmediately("drag",s)}},t.prototype.handleTransformResize=function(e,t,o,i,n,r,s,a){if(e.events.isEnabled("resize")&&!xa.isPaused&&(!e.isTouchProtected||!a)){var p={type:"resize",target:e,event:r,scale:rl(t,o,i,n),startPoint1:o,point1:t,startPoint2:n,point2:i,touch:a};e.events.dispatchImmediately("resize",p)}},t.prototype.processDragStart=function(e,t,o){this.transformedObjects.moveValue(e);var i={type:"dragstart",target:e,event:o,touch:!!t&&t.touch};t&&(t.dragTarget=e),t&&t.dragStartEvents?t.dragStartEvents.push(i):xa.isPaused||e.dispatchImmediately("dragstart",i)},t.prototype.processDragStop=function(e,t,o){if(t||(t=this.getDragPointer(e)),t&&(t.dragTarget=void 0),this.transformedObjects.removeValue(e),(!t||this.moved(t,0))&&e.events.isEnabled("dragstop")&&!xa.isPaused){var i={type:"dragstop",target:e,touch:!!t&&t.touch};e.events.dispatchImmediately("dragstop",i)}},t.prototype.processResizeStart=function(e,t,o){this.transformedObjects.moveValue(e)},t.prototype.processResizeStop=function(e,t,o){this.transformedObjects.removeValue(e)},t.prototype.dragStart=function(e,t){t||(t=this.getDragPointer(e)),t&&this.handleDown(e,t,t.lastDownEvent)},t.prototype.dragStop=function(e,t,o){t||(t=this.getDragPointer(e)),t&&!o&&this.handleGlobalUp(t,t.lastUpEvent,o)},t.prototype.getDragPointer=function(e){return e?e.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},t.prototype.getPointerId=function(e){return(ba(e.identifier)?""+e.identifier:ba(e.pointerId)?""+e.pointerId:"m").replace("-","")},t.prototype.getPointerPoint=function(e){return{x:e.clientX,y:e.clientY}},t.prototype.getPointer=function(e){var t,o=this.getPointerId(e),i=this.getPointerPoint(e);return this.pointers.hasKey(o)?(t=this.pointers.getKey(o)).touch=this.isPointerTouch(e):(t={id:o,touch:this.isPointerTouch(e),startPoint:i,startTime:$b(),point:i,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(t,i),this.pointers.setKey(o,t)),t.lastEvent=e,this.lastPointer=t,t},t.prototype.isPointerTouch=function(e){if("undefined"!=typeof Touch&&e instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&e instanceof PointerEvent&&ba(e.pointerType))switch(e.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(e instanceof MouseEvent);}else if(ba(e.type)&&e.type.match(/^mouse/))return!1;return!0},t.prototype.resetPointer=function(e,t){var o=this.getPointerPoint(t);e.startTime=$b(),e.startPoint={x:o.x,y:o.y},e.point={x:o.x,y:o.y},e.track=[],e.swipeCanceled=!1},t.prototype.addBreadCrumb=function(e,t){e.track.push({timestamp:$b(),point:t})},t.prototype.lockDocument=function(){this.prepElement(this.body)},t.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body)},t.prototype.lockElement=function(e){this.prepElement(e)},t.prototype.unlockElement=function(e){this.restoreAllStyles(e)},t.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1})},t.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent)},t.prototype.isLocalElement=function(e,t,o){var i=this.getCache("local_pointer_"+e.id);if(ba(i))return i;var n=ui(t)||document;if(n.elementFromPoint){var r=n.elementFromPoint(e.point.x,e.point.y),s=r&&ti(t,r);return this.setCache("local_pointer_"+e.id+"_"+o,s,100),s}return!1},t.prototype.wheelLockEvent=function(e){return e.preventDefault(),!1},t.prototype.prepElement=function(e){var t=e.element;if(t){for(var o=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],i=0;i<o.length;i++)o[i]in t.style&&this.setTemporaryStyle(e,o[i],"none");this.setTemporaryStyle(e,"tapHighlightColor","rgba(0, 0, 0, 0)")}},t.prototype.unprepElement=function(e){var t=e.element;if(t){for(var o=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],i=0;i<o.length;i++)o[i]in t.style&&this.restoreStyle(e,o[i]);this.restoreStyle(e,"tapHighlightColor")}},t.prototype.getHitOption=function(e,t){var o=e.hitOptions[t];return void 0===o&&(o=this.hitOptions[t]),o},t.prototype.getHoverOption=function(e,t){var o=e.hoverOptions[t];return void 0===o&&(o=this.hoverOptions[t]),o},t.prototype.getSwipeOption=function(e,t){var o=e.swipeOptions[t];return void 0===o&&(o=this.swipeOptions[t]),o},t.prototype.getKeyboardOption=function(e,t){var o=e.keyboardOptions[t];return void 0===o&&(o=this.keyboardOptions[t]),o},t.prototype.getMouseOption=function(e,t){var o=e.mouseOptions[t];return void 0===o&&(o=this.mouseOptions[t]),o},t.prototype.getInertiaOption=function(e,t,o){var i=e.inertiaOptions.getKey(t);return i&&ba(i[o])?i[o]:this.inertiaOptions.getKey(t)[o]},t.prototype.stopInertia=function(e){for(var t,o=["move","resize"],i=0;i<o.length;i++)if(t=o[i],e.inertias.hasKey(t)){var n=e.inertias.getKey(t);if(n){n.dispose();continue}}},t.prototype.swiping=function(e,t){var o=$b();return!(t.swipeCanceled||!e.swipeable)&&Math.abs(t.startPoint.y-t.point.y)<this.getSwipeOption(e,"verticalThreshold")&&t.startTime>o-this.getSwipeOption(e,"time")},t.prototype.swiped=function(e,t){var o=$b();return!t.swipeCanceled&&Math.abs(t.startPoint.x-t.point.x)>this.getSwipeOption(e,"horizontalThreshold")&&Math.abs(t.startPoint.y-t.point.y)<this.getSwipeOption(e,"verticalThreshold")&&t.startTime>o-this.getSwipeOption(e,"time")},t.prototype.applyCursorOverStyle=function(e){var t=e.cursorOptions;if(ba(t.overStyle))for(var o=0;o<t.overStyle.length;o++)si(e.element,t.overStyle[o].property,t.overStyle[o].value)},t.prototype.applyCursorDownStyle=function(e,t){if(!t.touch){var o=e.cursorOptions.downStyle;if(e.downPointers.contains(t)&&ba(o))for(var i=0;i<o.length;i++)this.setTemporaryStyle(this.body,o[i].property,o[i].value),this.setTemporaryStyle(e,o[i].property,o[i].value)}},t.prototype.restoreCursorDownStyle=function(e,t){if(!t.touch){var o=e.cursorOptions.downStyle;if(e.downPointers.contains(t)&&ba(o))for(var i=0;i<o.length;i++)this.restoreStyle(this.body,o[i].property),this.restoreStyle(e,o[i].property)}},t.prototype.setGlobalStyle=function(e){for(var t=ra().body,o=ab(e)?e:[e],i=0;i<o.length;i++)this.setTemporaryStyle(t,o[i].property,o[i].value)},t.prototype.restoreGlobalStyle=function(e){for(var t=ra().body,o=ab(e)?e:[e],i=0;i<o.length;i++)this.restoreStyle(t,o[i].property)},t.prototype.isGlobalElement=function(e){return document.body===e.element},t.prototype.moved=function(e,t,o){void 0===o&&(o=300);var i=this.getShift(e);return Math.abs(i.x)>t||Math.abs(i.y)>t},t.prototype.old=function(e,t){return void 0===t&&(t=300),$b()-e.startTime>t},t.prototype.getShift=function(e){return{x:e.startPoint.x-e.point.x,y:e.startPoint.y-e.point.y}},t.prototype.getTrailPoint=function(e,t){for(var o,i=0;i<e.track.length;i++)if(e.track[i].timestamp>=t){o=e.track[i];break}return o},t.prototype.pointerExists=function(e,t){var o=!1;return e.each(function(e){e!=t&&(o=e.point.x==t.point.x&&e.point.y==t.point.y)}),o},t.prototype.getInteraction=function(e){return new Wm(e)},t.prototype.setTemporaryStyle=function(e,t,o){var i=e.element;ba(i.style[t])&&!e.replacedStyles.hasKey(t)&&e.replacedStyles.setKey(t,i.style[t]),si(i,t,o)},t.prototype.restoreStyle=function(e,t){e.replacedStyles.hasKey(t)?(e.element.style[t]=e.replacedStyles.getKey(t),e.replacedStyles.removeKey(t)):delete e.element.style[t]},t.prototype.restoreAllStyles=function(e){fa(e.replacedStyles.iterator(),function(t){var o=t[0],i=t[1];e.element.style[o]=i,e.replacedStyles.removeKey(o)})},t.prototype.dispose=function(){this.isDisposed()||(e.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel())},t.prototype.log=function(e,t,o){if(t.changedTouches)for(var i=0;i<t.changedTouches.length;i++)this.logTouch(e,t.type,t.changedTouches[i]);else{var n="";if(t.pointerType)switch(t.pointerType){case 2:n="touch";break;case 4:n="mouse";break;default:n=t.pointerType;}else n="undefined"!=typeof TouchEvent&&t instanceof TouchEvent?"touch":t.type.match(/^mouse/)?"mouse":"???";var r="";r=ba(t.identifier)?t.identifier:ba(t.pointerId)?t.pointerId:"???",o?console.log(e+" ("+o.uid+")  "+t.type+"  "+n+"  "+r):console.log(e+"  "+t.type+"  "+n+"  "+r)}},t.prototype.areTransformed=function(e){var t=this.transformedObjects.length;if(e)for(var o=ab(e)?e:[e],i=0;i<o.length;i++)this.transformedObjects.contains(o[i])&&t--;return t>0},t.prototype.logTouch=function(e,t,o){console.log(e+"  "+t+"  touch  "+o.identifier)},Object.defineProperty(t,"passiveSupported",{get:function(){var e=this;if(null==this._passiveSupported)try{var t=Object.defineProperty({},"passive",{get:function(){e._passiveSupported=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(o){this._passiveSupported=!1}return this._passiveSupported},enumerable:!0,configurable:!0}),t}(Zb);var xi=null;function ra(){return null==xi&&(xi=new an),xi}var yi=function(e){function t(){var t=e.call(this)||this;return t.adapter=new yb(t),t._elements={},t._IOs={},t._content="",t._title="",t._classPrefix="ampopup",t._defaultStyles=!0,t._showCurtain=!1,t._draggable=!0,t._align="center",t._dynamicResize=!0,t._verticalAlign="middle",t._shift={x:0,y:0},t._tempShift={x:0,y:0},t._readerTitle="",t._closable=!0,t._cssLoaded=!1,t._fitTo="window",t.isTemplate=!1,t._sized=!1,t.className="Popup",t}return da(t,e),t.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"))},t.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers()},t.prototype.dispose=function(){this.close(),e.prototype.dispose.call(this)},t.prototype.positionElement=function(e){var t=this;void 0===e&&(e=!0),this._elements.wrapper&&setTimeout(function(){if(t._elements.wrapper){if(e||!t._sized){t._elements.wrapper.style.opacity="0.01",t._elements.wrapper.style.left="0",t._elements.wrapper.style.top="0",t._elements.wrapper.style.margin="0 0 0 0",t._elements.wrapper.style.width="",t._elements.wrapper.style.height="";var i=t._elements.wrapper.getBoundingClientRect();t._elements.wrapper.style.width=i.width+"px",t._elements.wrapper.style.height=i.height+"px",t._sized=!0}if(t.dynamicResize)for(var s=t._elements.wrapper.getElementsByTagName("img"),n=0;n<s.length;n++){var r=s[n];if(!r.complete){r.addEventListener("load",function(){t.positionElement(!0)});break}}setTimeout(function(){if(t._elements.wrapper){var i;switch(!e&&t._sized||!t._bbox?(i=t._elements.wrapper.getBoundingClientRect(),t._elements.wrapper.style.opacity=""):i=t._bbox,t.align){case"left":t._elements.wrapper.style.left="0",t._elements.wrapper.style.right="auto",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);break;case"center":t._elements.wrapper.style.left="50%",t._elements.wrapper.style.right="auto",t._elements.wrapper.style.marginLeft=t.toStyle(Math.round(-i.width/2)+(t._shift.x+t._tempShift.x));break;case"right":t._elements.wrapper.style.left="auto",t._elements.wrapper.style.right="0",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);break;default:t._elements.wrapper.style.left=t.toStyle(t.left)||"auto",t._elements.wrapper.style.right=t.toStyle(t.right)||"auto",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);}switch(t.verticalAlign){case"top":t._elements.wrapper.style.top="0",t._elements.wrapper.style.bottom="auto",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);break;case"middle":t._elements.wrapper.style.top="50%",t._elements.wrapper.style.bottom="auto",t._elements.wrapper.style.marginTop=t.toStyle(Math.round(-i.height/2)+(t._shift.y+t._tempShift.y));break;case"bottom":t._elements.wrapper.style.top="auto",t._elements.wrapper.style.bottom="0",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);break;default:t._elements.wrapper.style.top=t.toStyle(t.top)||"auto",t._elements.wrapper.style.bottom=t.toStyle(t.bottom)||"auto",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);}}},1)}},1)},t.prototype.setupDragging=function(){var e=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",function(t){e._tempShift.x=t.shift.x,e._tempShift.y=t.shift.y,e.positionElement(!1)}),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",function(t){e._shift.x+=e._tempShift.x,e._shift.y+=e._tempShift.y,e._tempShift.x=0,e._tempShift.y=0,e.positionElement(!1)})):this._IOs.header&&(ra().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"))},t.prototype.toStyle=function(e){return ba(e)?aa(e)?e+"px":e.toString():null},Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(e){this._classPrefix=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(e){this._content!=e&&(this._content=e,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=e,this.positionElement())},enumerable:!0,configurable:!0}),t.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},t.prototype.createContentElement=function(){if(!this._elements.wrapper){var e=this.getClassNames(),t=document.createElement("div");t.className=e.contentClass,t.style.opacity="0.01";var i=document.createElement("a");i.className=e.closeClass;var s=document.createElement("div");s.className=e.headerClass;var n=document.createElement("div");n.innerHTML=this.title,n.className=e.titleClass,this.title||(n.style.display="none");var r=document.createElement("div");r.className=e.insideClass,r.innerHTML=this.content,this._IOs.wrapper=ra().getInteraction(t),this._IOs.header=ra().getInteraction(s),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=ra().getInteraction(i),this._disposers.push(this._IOs.close),i.style.visibility="hidden",t.setAttribute("role","dialog"),s.appendChild(i),s.appendChild(n),t.appendChild(s),t.appendChild(r),this.container.appendChild(t),this._elements.wrapper=t,this._elements.header=s,this._elements.content=r,this._elements.title=n,this._elements.close=i,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging()}},Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(e){this._title!=e&&(this._title=e,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=e,this.positionElement(),this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(e){this._readerTitle!=e&&(this._readerTitle=e,this.applyReaderSettings())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(e){e!==this._closable&&(this._closable=e,this.applyEvents())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(e){e!=this._fitTo&&(this._fitTo=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(e){this._showCurtain!=e&&(this._showCurtain=e,this._elements.curtain&&(this._elements.curtain.style.display=e?"block":"none"))},enumerable:!0,configurable:!0}),t.prototype.createCurtainElement=function(){var e=this.getClassNames(),t=document.createElement("div");t.className=e.curtainClass,this.container.appendChild(t),this._IOs.curtain=ra().getInteraction(t),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),t.style.display=this.showCurtain?"block":"none",this._elements.curtain=t},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(e){this._draggable!=e&&(this._draggable=e,this.setupDragging())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(e){this._dynamicResize!=e&&(this._dynamicResize=e,this.positionElement(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(e){this._align!=e&&(this._align=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(e){this._verticalAlign!=e&&(this._verticalAlign=e,this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(e){this.left!=e&&(this._left=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(e){this.right!=e&&(this._right=e,this._align="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(e){this.top!=e&&(this._top=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(e){this.bottom!=e&&(this._bottom=e,this._verticalAlign="none",this.positionElement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(Um(gg(this.container),this.classPrefix)),qa(this._elements,function(e,t){t.style.display=""}),this._cssLoaded=!0)},t.prototype.applyEvents=function(){var e=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var t=[ra().body.events.on("keyup",function(t){hc.isKey(t.event,"esc")&&e.closable&&e.close()}),this._IOs.close.events.on("hit",function(t){e.close()})];t.push(this._IOs.curtain.events.on("hit",function(t){e.showCurtain&&e.closable&&e.close()})),this._disposers.push(new Pa(t))}else this._IOs.close.element.style.visibility="hidden"},t.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1)},t.prototype.releasePointers=function(){ba(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0)},t.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle)},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.container=t.container,this.sprite=t.sprite,this.classPrefix=t.classPrefixRaw,this.content=t.content,this.title=t.title,this.readerTitle=t.readerTitle,this.defaultStyles=t.defaultStyles,this.showCurtain=t.showCurtain,this.align=t.align,this.verticalAlign=t.verticalAlign,this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.adapter.copyFrom(t.adapter)},t}(Zb);var zi=function(r){function $(){var $=r.call(this)||this;return $.adapter=new yb($),$.className="Modal",$.showCurtain=!0,$.draggable=!1,$}return da($,r),$}(yi);var bn=function(){function e(){var e=this;this._targets=[],this._observer=new ResizeObserver(function(t){la(t,function(t){la(e._targets,function(e){e.target===t.target&&e.callback()})})})}return e.prototype.addTarget=function(e,t){this._observer.observe(e,{box:"content-box"}),this._targets.push({target:e,callback:t})},e.prototype.removeTarget=function(e){this._observer.unobserve(e),Dh(this._targets,function(t){return t.target!==e})},e}(),cn=function(){function e(){this._targets=[]}return e.prototype.addTarget=function(t,r){var n=this;if(0===this._targets.length){var i=null,s=function(){var t=Date.now();(null===i||t>i+e.delay)&&(i=t,la(n._targets,function(e){var t=e.target.getBoundingClientRect();t.width===e.size.width&&t.height===e.size.height||(e.size=t,e.callback())})),n._timer=requestAnimationFrame(s)};this._timer=requestAnimationFrame(s)}var a=t.getBoundingClientRect();this._targets.push({target:t,callback:r,size:a})},e.prototype.removeTarget=function(e){Dh(this._targets,function(t){return t.target!==e}),0===this._targets.length&&cancelAnimationFrame(this._timer)},e.delay=200,e}(),Ai=null;function dn(){return null===Ai&&(Ai="undefined"!=typeof ResizeObserver?new bn:new cn),Ai}var en=function(){function e(e,t){this._disposed=!1,this._sensor=dn(),this._element=e,this._sensor.addTarget(e,t)}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))},e.prototype.reset=function(){console.warn("resizeSensor.reset() is no longer needed and can be removed")},e}();var jg=[];var Bi=function(){function e(e,t){var r=this;if(this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this.htmlElement=e,!t){this.resizeSensor=new en(e,function(){r.autoResize&&r.measure()}),this._disposers.push(this.resizeSensor)}jg.push(this);var i=document.createElement("div"),o=i.style;o.width="100%",o.height="100%",o.position="relative",e.appendChild(i),this.SVGContainer=i}return e.prototype.measure=function(){var e=bm(this.htmlElement),t=cm(this.htmlElement),r=this.container;r&&(this.width==e&&this.height==t||(this.width=e,this.height=t,e>0&&(r.maxWidth=e),t>0&&(r.maxHeight=t),Pm(this.SVGContainer)),r.maxWidth||(r.maxWidth=0),r.maxHeight||(r.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement))},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.measure()},enumerable:!0,configurable:!0}),e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||pa(jg,this),la(this._disposers,function(e){e.dispose()})},Object.defineProperty(e.prototype,"hideOverflow",{set:function(e){this.SVGContainer.style.overflow=e?"hidden":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return ba(this._modal)||(this._modal=new zi,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),e.prototype.openModal=function(e,t){this.closeModal();var r=this.modal;return r.content=e,r.readerTitle=t||"",r.title=t||"",r.open(),r},e.prototype.closeModal=function(){this._modal&&this.modal.close()},Object.defineProperty(e.prototype,"popups",{get:function(){if(!ba(this._popups)){var e=new yi;e.container=this.SVGContainer,this._popups=new Ra(e),this._disposers.push(new Ja(this._popups)),this._disposers.push(this._popups.template)}return this._popups},enumerable:!0,configurable:!0}),e.prototype.openPopup=function(e,t){var r=this.popups.create();return r.content=e,ba(t)&&(r.title=t),r.open(),r},e.prototype.closeAllPopups=function(){this.popups.each(function(e){e.close()})},Object.defineProperty(e.prototype,"readerAlertElement",{get:function(){if(!ba(this._readerAlertElement)){var e=document.createElement("div");e.setAttribute("role","alert"),e.style.zIndex="-100000",e.style.opacity="0",this.SVGContainer.appendChild(e),this._readerAlertElement=e}return this._readerAlertElement},enumerable:!0,configurable:!0}),e.prototype.readerAlert=function(e){this.readerAlertElement.innerHTML=e},e.prototype.checkTransform=function(e){if(window.getComputedStyle){if(e&&e.style){var t=window.getComputedStyle(e,null);if(t){var r=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");if(r&&"none"!==r){var i=r.split("(")[1].split(")")[0].split(","),o=Number(i[0]),s=Number(i[1]),n=Math.sqrt(o*o+s*s);isNaN(n)||(this.cssScale*=n)}}}e.parentNode&&e.parentNode instanceof HTMLElement&&this.checkTransform(e.parentNode)}},e}();var Ci=function(){function e(e,t){this.container=e,this.id=t;var r=document.createElementNS(ze,"svg");r.setAttribute("version","1.1"),r.setAttributeNS(qi,"xmlns",ze),r.setAttributeNS(qi,"xmlns:xlink",bg),r.setAttribute("role","group"),this.container.appendChild(r),this.defs=document.createElementNS(ze,"defs"),r.appendChild(this.defs),r.style.width="100%",r.style.height="100%",r.style.overflow="visible",this.svg=r}return e.prototype.add=function(e){return new Ce(e)},e.prototype.addGroup=function(e){return new Tm(e)},e.prototype.append=function(e){e&&this.svg.appendChild(e.node)},e.prototype.appendDef=function(e){e&&this.defs.appendChild(e.node)},e.prototype.foreignObject=function(){return new Ce("foreignObject")},e.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},e}();var Di=null;function Kd(){if(null===Di){var e=document.createElement("div");e.hidden=!0,document.body.appendChild(e);var t=new Bi(e,!0);Di=new Ci(t.SVGContainer,"ghost")}return Di}var dd=function(e){function t(){var t=e.call(this)||this;t._elements=new Aa,t.properties={},t.className="Pattern",t.width=10,t.height=10,t.x=0,t.y=0,t.patternUnits="userSpaceOnUse";var r=new Ba;return t.backgroundFill=r.getFor("background"),t.backgroundOpacity=0,t.fillOpacity=1,t.fill=r.getFor("alternativeBackground"),t.stroke=r.getFor("alternativeBackground"),t.strokeOpacity=1,t.strokeWidth=1,t.shapeRendering="crispEdges",t.rotation=0,t.element=t.paper.addGroup("pattern"),t.id="pattern-"+ca.getUniqueId(),t.element.attr({id:t.id}),t._disposers.push(t.element),t._disposers.push(new Ja(t._elements)),t.patternUnits=t.patternUnits,t.width=t.width,t.height=t.height,t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){var e=this,t=this.element;if(t){t.removeChildNodes();var r=this.paper.add("rect");r.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":this.backgroundOpacity}),t.add(r),t.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),fa(this._elements.iterator(),function(t){t.rotation=e.rotation,t.rotationX=e.properties.rotationX,t.rotationY=e.properties.rotationY,e.element.add(t)})}},t.prototype.animate=function(e,t,r){return new Ob(this,e,t,r).start()},t.prototype.addElement=function(e){this._elements.push(e),this._disposers.push(e)},t.prototype.removeElement=function(e){this._elements.removeValue(e),this.removeDispose(e)},Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(e){this.properties.fillOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.properties.fill},set:function(e){this.properties.fill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(e){this.properties.backgroundFill=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(e){this.properties.backgroundOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(e){this.properties.strokeOpacity=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(e){this.properties.shapeRendering=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(e){this.properties.rotation=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(e){this.properties.patternUnits=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.properties.x},set:function(e){this.properties.x=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.properties.y},set:function(e){this.properties.y=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Kd()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){var r=this;e.prototype.copyFrom.call(this,t),qa(t.properties,function(e,t){r[e]=t})},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new bd(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(e){this.properties.strokeDashArray=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){if(t&&ba(t.elements)&&ab(t.elements))for(var r=0,i=t.elements.length;r<i;r++){var o=t.elements[r];if(ba(o.type)){var n=this.createEntryInstance(o);n instanceof rb&&(n.config=o),this.addElement(ba(o.typeProperty)?n[o.typeProperty]:n.element)}}e.prototype.processConfig.call(this,t)},t}(rb);ca.registeredClasses.Pattern=dd;var Kb=function(t){function e(){var e=t.call(this)||this;return e._stops=new Aa,e._rotation=0,e.className="LinearGradient",e._stops.events.on("setIndex",e.validate,e),e._stops.events.on("inserted",e.validate,e),e.element=e.paper.addGroup("linearGradient"),e.id="gradient-"+ca.getUniqueId(),e.element.attr({id:e.id}),e._disposers.push(e.element),e.applyTheme(),e}return da(e,t),e.prototype.validate=function(){var t=this,e=(this._rotation+90)*de,r=Math.round(50+50*Math.sin(e+Math.PI))+"%",i=Math.round(50+50*Math.cos(e))+"%",o=Math.round(50+50*Math.sin(e))+"%",a=Math.round(50+50*Math.cos(e+Math.PI))+"%",p=this.element;p.removeChildNodes(),p.attr({x1:r,x2:o,y1:i,y2:a}),fa(Ac(this._stops.iterator()),function(e){var r=e[0],i=e[1],o=i.offset;aa(o)||(o=r/(t._stops.length-1));var a=t.paper.add("stop");ba(i.color)&&a.attr({"stop-color":i.color.toString()}),aa(i.opacity)&&a.attr({"stop-opacity":i.opacity}),aa(o)&&a.attr({offset:o}),p.add(a)})},e.prototype.clear=function(){this._stops.clear()},e.prototype.addColor=function(t,e,r){this._stops.push({color:t,opacity:e,offset:r})},Object.defineProperty(e.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paper",{get:function(){return this._paper?this._paper:Kd()},set:function(t){this._paper!=t&&(this._paper=t,this.validate(),t.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t,this.validate()},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.stops.copyFrom(e.stops),this._rotation=e.rotation},Object.defineProperty(e.prototype,"gradientUnits",{set:function(t){this.element.attr({gradientUnits:t})},enumerable:!0,configurable:!0}),e}(rb);ca.registeredClasses.LinearGradient=Kb;var oc=function(e){function t(){var t=e.call(this)||this;return t._stops=new Aa,t.element=t.paper.addGroup("radialGradient"),t.id="gradient-"+ca.getUniqueId(),t.element.attr({id:t.id}),t._disposers.push(t.element),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){var e,t=this,r=this.element;aa(this.cx)&&((e=this.cx)instanceof za&&(e=e.percent+"%"),r.attr({cx:e}));aa(this.cy)&&((e=this.cy)instanceof za&&(e=e.percent+"%"),r.attr({cy:e}));this.fx&&((e=this.fx)instanceof za&&(e=e.percent+"%"),r.attr({fx:e}));this.fy&&((e=this.fy)instanceof za&&(e=e.percent+"%"),r.attr({fy:e}));r.removeChildNodes(),fa(Ac(this._stops.iterator()),function(e){var o=e[0],i=e[1],c=i.offset;aa(c)||(c=o/(t._stops.length-1));var p=t.paper.add("stop");ba(i.color)&&p.attr({"stop-color":i.color.toString()}),aa(i.opacity)&&p.attr({"stop-opacity":i.opacity}),aa(c)&&p.attr({offset:c}),r.add(p)})},t.prototype.addColor=function(e,t,r){this._stops.push({color:e,opacity:t,offset:r}),this.draw()},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Kd()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this._cx},set:function(e){this._cx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this._cy},set:function(e){this._cy=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fx",{get:function(){return this._fx},set:function(e){this._fx=e,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fy",{get:function(){return this._fy},set:function(e){this._fy=e,this.draw()},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.stops.copyFrom(t.stops),this.cx=t.cx,this.cy=t.cy,this.fx=t.fx,this.fy=t.fy},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._stops.clear()},t}(rb);ca.registeredClasses.RadialGradient=oc;var fb=function(){function r(){}return r.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],r.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],r.pointer=[{property:"cursor",value:"pointer"}],r.default=[{property:"cursor",value:"default"}],r.horizontalResize=[{property:"cursor",value:"ew-resize"}],r.verticalResize=[{property:"cursor",value:"ns-resize"}],r.notAllowed=[{property:"cursor",value:"not-allowed"}],r.text=[{property:"cursor",value:"text"}],r}();var Ei={_decimalSeparator:".",_thousandSeparator:",",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(e){var _="th";if(e<11||e>13)switch(e%10){case 1:_="st";break;case 2:_="nd";break;case 3:_="rd";}return _},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"","To save the image, right-click this link and choose \"Save picture as...\"":"","To save the image, right-click thumbnail on the left and choose \"Save picture as...\"":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};var pc=function(t){function e(){var e=t.call(this)||this;return e.adapter=new yb(e),e._locale=Ei,e._defaultLocale=Ei,e.className="Language",ba(Fa.defaultLocale)&&(e.locale=Fa.defaultLocale),e.applyTheme(),e}return da(e,t),e.prototype.getLocale=function(t){return null==t&&(t=this._locale),this.adapter.apply("locale",{locale:t}).locale},e.prototype.translate=function(t,e){for(var a=[],r=2;r<arguments.length;r++)a[r-2]=arguments[r];e=this.getLocale(e);var l=t,n=this.getTranslations(e)[t];if(null===n)n="";else if(ba(n))n&&(l=n);else if(e!==this._defaultLocale)return this.translate.apply(this,Tc([t,this._defaultLocale],a));if(a.length)for(var o=a.length,p=0;p<o;++p)l=l.split("%"+(p+1)).join(a[p]);return this.adapter.apply("translate",{translation:l,locale:e}).translation},e.prototype.translateAny=function(t,e){for(var a=[],r=2;r<arguments.length;r++)a[r-2]=arguments[r];return this.translate(t,e)},e.prototype.translateEmpty=function(t,e){for(var a=[],r=2;r<arguments.length;r++)a[r-2]=arguments[r];var l=this.translate.apply(this,Tc([t,e],a));return l==t?"":l},e.prototype.translateFunc=function(t,e){e=this.getLocale(e);var a=this.getTranslations(e)[t];return null!=a?a:e!==this._defaultLocale?this.translateFunc(t,this._defaultLocale):function(){return""}},e.prototype.translateAll=function(t,e){var a=this;return this.isDefault()?t:ud(t,function(t){return a.translate(t,e)})},e.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(t){if(this._locale!=t&&(this._locale=t,this.events.isEnabled("localechanged"))){var e={type:"localechanged",locale:t,target:this};this.events.dispatchImmediately("localechanged",e)}},enumerable:!0,configurable:!0}),e.prototype.getTranslations=function(t){return this.adapter.apply("translations",{translations:t,locale:t}).translations},e}(Zb);var Fi,Gi=function(e){function t(){var t=e.call(this)||this;return t.adapter=new yb(t),t.className="TextFormatter",t.applyTheme(),t}return da(t,e),t.prototype.debug=function(){},t.prototype.format=function(e,t){ba(t)||(t="svg");var r="",a=(e=this.escape(e)).match(/\[([^\]]*?)\]/gm);if(!a)return this.wrap(e,"",t);for(var p=e.split(/\[[^\[\]]*\]/),o=0,l=p.length;o<l;o++){var i=p[o];if(""!==i){i=this.adapter.apply("chunk",i);var $="";o>0&&($=a[o-1].replace("[","").replace("]","")),r+=this.wrap(i,$,t)}}return r=this.unescape(r),this.cleanUp(r)},t.prototype.escape=function(e){return e.replace(/\[\[/g,ca.getPlaceholder("1")).replace(/([^\/]{1})\]\]/g,"$1"+ca.getPlaceholder("2")).replace(/\]\]/g,ca.getPlaceholder("2")).replace(/\{\{/g,ca.getPlaceholder("3")).replace(/\}\}/g,ca.getPlaceholder("4")).replace(/\'\'/g,ca.getPlaceholder("5"))},t.prototype.unescape=function(e){return e.replace(new RegExp(ca.getPlaceholder("1"),"g"),"[[").replace(new RegExp(ca.getPlaceholder("2"),"g"),"]]").replace(new RegExp(ca.getPlaceholder("3"),"g"),"{{").replace(new RegExp(ca.getPlaceholder("4"),"g"),"}}").replace(new RegExp(ca.getPlaceholder("5"),"g"),"'")},t.prototype.cleanUp=function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},t.prototype.wrap=function(e,t,r){switch(""!==t&&"/"!==t||(t=""),r){case"html":return this.wrapHtml(e,this.translateStyleShortcuts(t));default:return this.wrapSvg(e,this.translateStyleShortcuts(t));}},t.prototype.wrapSvg=function(e,t){return""===t?"<tspan>"+e+"</tspan>":"<tspan style='"+t+"'>"+e+"</tspan>"},t.prototype.getSvgElement=function(e,t){var r=new Ce("tspan");return r.textContent=e,t&&r.node.setAttribute("style",t),r},t.prototype.wrapHtml=function(e,t){return""===t?"<span>"+e+"</span>":"<span style='"+this.styleSvgToHtml(t)+"'>"+e+"</span>"},t.prototype.getHtmlElement=function(e,t){var r=document.createElement("span");return r.innerHTML=e,t&&r.setAttribute("style",t),r},t.prototype.styleSvgToHtml=function(e){return e=e.replace(/fill:/,"color:")},t.prototype.translateStyleShortcuts=function(e){if(""==e||"[ ]"==e)return"";var t=ca.getCache("translateStyleShortcuts_"+e);if(t)return t;var r=e.match(/('[^']*')|("[^"]*")/gi);if(r)for(var a=0;a<r.length;a++)e=e.replace(r[a],r[a].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var p=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!p)return e;for(a=0;a<p.length;a++)p[a].match(/^bold$/i)?p[a]="font-weight:"+p[a]:"/"==p[a]?p[a]="":p[a].match(/:/)?p[a]=p[a].replace(/\+/g," "):p[a]="fill:"+p[a];var o=p.join(";");return ca.setCache("translateStyleShortcuts_"+e,o),o},t.prototype.chunk=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var a=[];e=this.escape(e);for(var p=t?e.split("'"):[e],o=0;o<p.length;o++){var l=p[o];if(""!==l)if(o%2==0)for(var i=(l=(l=l.replace(/\]\[/g,"]"+Eb+"[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),$=0;$<i.length;$++){(n=this.cleanUp(this.unescape(i[$])))!==Eb&&""!==n&&($%2==0?a.push({type:"value",text:this.adapter.apply("chunk",n)}):a.push({type:r?"value":"format",text:"["+n+"]"}))}else for(i=l.split(/[\[\]]+/),$=0;$<i.length;$++){var n;""!==(n=this.cleanUp(this.unescape(i[$])))&&($%2==0?a.push({type:"text",text:n}):this.isImage(n)?a.push({type:"image",text:"["+n+"]"}):a.push({type:"format",text:"["+n+"]"}))}}return a},t.prototype.isImage=function(e){return!!e.match(/img[ ]?:/)},t}(rb);function ic(){return null==Fi&&(Fi=new Gi),Fi}ca.registeredClasses.TextFormatter=Gi;var kg=function(e){function t(){var t=e.call(this)||this;return t._negativeBase=0,t._numberFormat="#,###.#####",t._outputFormat="svg",t._smallNumberThreshold=1,t.className="NumberFormatter",t.applyTheme(),t}return da(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.language&&this.language.dispose()},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new pc),this._language},set:function(e){this._language=e},enumerable:!0,configurable:!0}),t.prototype.format=function(e,t,r){var a;(void 0===t||wa(t)&&"number"===t.toLowerCase())&&(t=this._numberFormat);var i=Number(e);if(t instanceof Object)try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,t).format(i):new Intl.NumberFormat(void 0,t).format(i)}catch(u){return"Invalid"}else{t=qe(t);var s=this.parseFormat(t,this.language),n=void 0;n=i>this._negativeBase?s.positive:i<this._negativeBase?s.negative:s.zero,ba(r)&&!n.mod&&((n=zl(n)).decimals.active=0==i?0:r),a=n.template.split(Eb).join(this.applyFormat(i,n))}return a},t.prototype.parseFormat=function(e,t){var r=this,a=this.getCache(e);if(ba(a))return a;var i={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}},s=(e=e.replace("||",ad)).split("|");return i.positive.source=s[0],void 0===s[2]?i.zero=i.positive:i.zero.source=s[2],void 0===s[1]?i.negative=i.positive:i.negative.source=s[1],qa(i,function(e,t){if(!t.parsed)if(void 0===r.getCache(t.source)){var a=t.source;"number"===a.toLowerCase()&&(a=wa(r._numberFormat)?r._numberFormat:"#,###.#####");for(var s=ic().chunk(a,!0),n=0;n<s.length;n++){var u=s[n];if(u.text=u.text.replace(ad,"|"),"value"===u.type){var o=u.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES!]?/);if(o)if(null===o||""===o[0])t.template+=u.text;else{var l=o[0].match(/[abesABES%!]{2}|[abesABES%]{1}$/);l&&(t.mod=l[0].toLowerCase(),t.modSpacing=!!o[0].match(/[ ]{1}[abesABES%!]{1}$/));var m=o[0].split(".");if(""===m[0]);else{t.thousands.active=(m[0].match(/0/g)||[]).length,t.thousands.passive=(m[0].match(/\#/g)||[]).length+t.thousands.active;var p=m[0].split(",");1===p.length||(t.thousands.interval=Ma(p.pop()).length,0===t.thousands.interval&&(t.thousands.interval=-1))}void 0===m[1]||(t.decimals.active=(m[1].match(/0/g)||[]).length,t.decimals.passive=(m[1].match(/\#/g)||[]).length+t.decimals.active),t.template+=u.text.split(o[0]).join(Eb)}}else t.template+=u.text}r.setCache(t.source,t),t.parsed=!0}else i[e]=r.getCache(t.source)}),this.setCache(e,i),i},t.prototype.applyFormat=function(e,t){var r=e<0;e=Math.abs(e);var a="",i="",s=t.mod?t.mod.split(""):[];if(-1!==s.indexOf("b")){var n=this.applyPrefix(e,this.bytePrefixes,-1!==s.indexOf("!"));e=n[0],a=n[1],i=n[2],t.modSpacing&&(i=" "+i)}else if(-1!==s.indexOf("a")){var u=this.applyPrefix(e,e<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==s.indexOf("!"));e=u[0],a=u[1],i=u[2],t.modSpacing&&(i=" "+i)}else if(-1!==s.indexOf("%")){var o=ya(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(o)),i="%"}else if(-1!==s.indexOf("\u2030")){o=ya(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(o)),i="\u2030"}if(-1!==s.indexOf("e")){var l=void 0;l=t.decimals.passive>=0?e.toExponential(t.decimals.passive).split("e"):e.toExponential().split("e"),e=Number(l[0]),i="e"+l[1],t.modSpacing&&(i=" "+i)}else if(0===t.decimals.passive)e=Math.round(e);else if(t.decimals.passive>0){var m=Math.pow(10,t.decimals.passive);e=Math.round(e*m)/m}var p="",f=$l(e).split("."),g=f[0];if(g.length<t.thousands.active&&(g=Array(t.thousands.active-g.length+1).join("0")+g),t.thousands.interval>0){for(var h=[],b=g.split("").reverse().join(""),c=0,x=g.length;c<=x;c+=t.thousands.interval){var $=b.substr(c,t.thousands.interval).split("").reverse().join("");""!==$&&h.unshift($)}g=h.join(t.thousands.separator)}p+=g,1===f.length&&f.push("");var _=f[1];return _.length<t.decimals.active&&(_+=Array(t.decimals.active-_.length+1).join("0")),""!==_&&(p+=t.decimals.separator+_),""===p&&(p="0"),0!==e&&r&&-1===s.indexOf("s")&&(p="-"+p),a&&(p=a+p),i&&(p+=i),p},t.prototype.applyPrefix=function(e,t,r){void 0===r&&(r=!1);for(var a=e,i="",s="",n=!1,u=1,o=0,l=t.length;o<l;o++)t[o].number<=e&&(0===t[o].number?a=0:(a=e/t[o].number,u=t[o].number),i=t[o].prefix,s=t[o].suffix,n=!0);return!n&&r&&t.length&&0!=e&&(a=e/t[0].number,i=t[0].prefix,s=t[0].suffix,n=!0),n&&(a=parseFloat(a.toPrecision(ya(u.toString().length+Math.floor(a).toString().replace(/[^0-9]*/g,"").length,21)))),[a,i,s]},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){this._numberFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(e){this._negativeBase=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigNumberPrefixes",{get:function(){return ba(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(e){this._bigNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberPrefixes",{get:function(){return ba(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(e){this._smallNumberPrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(e){this._smallNumberThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bytePrefixes",{get:function(){return ba(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(e){this._bytePrefixes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t.prototype.escape=function(e){return e.replace("||",ad)},t.prototype.unescape=function(e){return e.replace(ad,"|")},t}(rb);ca.registeredClasses.NumberFormatter=kg;var Ld=function(e){function t(){var t=e.call(this)||this;return t._dateFormat="yyyy-MM-dd",t._inputDateFormat="yyyy-MM-dd",t._utc=!1,t._firstDayOfWeek=1,t.months=["January","February","March","April","May","June","July","August","September","October","November","December"],t.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t._outputFormat="svg",t.capitalize=!0,t.className="DateFormatter",t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(e){this._language=e,this.dateFormat=this._language.translate("_date")},enumerable:!0,configurable:!0}),t.prototype.format=function(e,t){var a,r;if(this.language||(this.sprite?this.language=this.sprite.language:this.language=new pc),void 0!==t&&""!==t||(t=this._dateFormat),r=wa(e)?this.parse(e):ci(e),t instanceof Object)try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,t).format(r):new Intl.DateTimeFormat(void 0,t).format(r)}catch(i){return"Invalid"}else{t=qe(t);var s=this.parseFormat(t);if(ba(this.timezoneOffset)&&r.setMinutes(r.getMinutes()+r.getTimezoneOffset()-this.timezoneOffset),!aa(r.getTime()))return this.language.translate("Invalid date");a=this.applyFormat(r,s,this.language),this.capitalize&&(a=a.replace(/^.{1}/,a.substr(0,1).toUpperCase()))}return a},t.prototype.parseFormat=function(e){var t=this.getCache(e);if(ba(t))return t;for(var a={template:"",parts:[]},r=ic().chunk(e,!0),s=0;s<r.length;s++){var i=r[s];if("value"===i.type){i.text.match(/^date$/i)&&wa(this._dateFormat)&&(i.text=this._dateFormat);var n=i.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(n)for(var o=0;o<n.length;o++)a.parts.push(n[o]),i.text=i.text.replace(n[o],Eb)}a.template+=i.text}return this.setCache(e,a),a},t.prototype.applyFormat=function(e,t,a){var r,s,i,n,o,c,u,$,p=t.template,h=e.getTimezoneOffset(),m=e.getTime();this.utc?(r=e.getUTCFullYear(),s=e.getUTCMonth(),i=e.getUTCDay(),n=e.getUTCDate(),o=e.getUTCHours(),c=e.getUTCMinutes(),u=e.getUTCSeconds(),$=e.getUTCMilliseconds()):(r=e.getFullYear(),s=e.getMonth(),i=e.getDay(),n=e.getDate(),o=e.getHours(),c=e.getMinutes(),u=e.getSeconds(),$=e.getMilliseconds());for(var l=0,g=t.parts.length;l<g;l++){var k="";switch(t.parts[l]){case"G":k=a.translate(r<0?"_era_bc":"_era_ad");break;case"yyyy":k=Math.abs(r).toString(),r<0&&(k+=a.translate("_era_bc"));break;case"yyy":case"yy":case"y":k=Math.abs(r).toString().substr(-t.parts[l].length),r<0&&(k+=a.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var y=r;1==Gd(e)&&i>1&&y--,k="YYYY"==t.parts[l]?Math.abs(y).toString():Math.abs(y).toString().substr(-t.parts[l].length),y<0&&(k+=a.translate("_era_bc"));break;case"u":break;case"MMMMM":k=a.translate(this.months[s]).substr(0,1);break;case"MMMM":k=a.translate(this.months[s]);break;case"MMM":k=a.translate(this.monthsShort[s]);break;case"MM":k=ob(s+1,2,"0");break;case"M":k=(s+1).toString();break;case"ww":k=ob(Gd(e,this.utc),2,"0");break;case"w":k=Gd(e,this.utc).toString();break;case"W":k=_l(e,this.utc).toString();break;case"dd":k=ob(n,2,"0");break;case"d":k=n.toString();break;case"DD":case"DDD":k=ob(Uf(e,this.utc).toString(),t.parts[l].length,"0");break;case"D":k=Uf(e,this.utc).toString();break;case"F":case"g":break;case"t":k=a.translateFunc("_dateOrd").call(this,n);break;case"E":k=(i||7).toString();break;case"EE":k=ob((i||7).toString(),2,"0");break;case"EEE":case"eee":k=a.translate(this.weekdaysShort[i]);break;case"EEEE":case"eeee":k=a.translate(this.weekdays[i]);break;case"EEEEE":case"eeeee":k=a.translate(this.weekdays[i]).substr(0,1);break;case"e":case"ee":k=(i-this.firstDayOfWeek+1).toString(),"ee"==t.parts[l]&&(k=ob(k,2,"0"));break;case"a":k=o>=12?a.translate("PM"):a.translate("AM");break;case"aa":k=o>=12?a.translate("P.M."):a.translate("A.M.");break;case"aaa":k=o>=12?a.translate("P"):a.translate("A");break;case"h":k=re(o).toString();break;case"hh":k=ob(re(o),2,"0");break;case"H":k=o.toString();break;case"HH":k=ob(o,2,"0");break;case"K":k=re(o,0).toString();break;case"KK":k=ob(re(o,0),2,"0");break;case"k":k=(o+1).toString();break;case"kk":k=ob(o+1,2,"0");break;case"m":k=c.toString();break;case"mm":k=ob(c,2,"0");break;case"s":k=u.toString();break;case"ss":k=ob(u,2,"0");break;case"S":case"SS":case"SSS":k=Math.round($/1e3*Math.pow(10,t.parts[l].length)).toString();break;case"x":k=m.toString();break;case"n":case"nn":case"nnn":k=ob($,t.parts[l].length,"0");break;case"z":k=se(e,!1,!1,this.utc);break;case"zz":k=se(e,!0,!1,this.utc);break;case"zzz":k=se(e,!1,!0,this.utc);break;case"zzzz":k=se(e,!0,!0,this.utc);break;case"Z":case"ZZ":var d=Math.abs(h)/60,b=Math.floor(d),f=60*d-60*b;this.utc&&(b=0,f=0),"Z"==t.parts[l]?(k="GMT",k+=h>0?"-":"+",k+=ob(b,2)+":"+ob(f,2)):(k=h>0?"-":"+",k+=ob(b,2)+ob(f,2));break;case"i":k=e.toISOString();break;case"I":k=e.toUTCString();}p=p.replace(Eb,k)}return p},t.prototype.parse=function(e,t){if(ba(t)||(t=this.inputDateFormat),e instanceof Date)return e;if("number"==typeof e)return new Date(e);var a;"string"!=typeof e&&(e=e.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new pc);var r="";t=(t=qe(t)).substr(0,e.length);for(var s=this.parseFormat(t),i={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},n={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},o=0,c=0,u=0;u<s.parts.length;u++){switch(c=u+o+1,s.parts[u]){case"yyyy":case"YYYY":r+="([0-9]{4})",i.year=c;break;case"yyy":case"YYY":r+="([0-9]{3})",i.year3=c;break;case"yy":case"YY":r+="([0-9]{2})",i.year2=c;break;case"y":case"Y":r+="([0-9]{1})",i.year1=c;break;case"MMMM":r+="("+this.getStringList(this.months).join("|")+")",i.monthLong=c;break;case"MMM":r+="("+this.getStringList(this.monthsShort).join("|")+")",i.monthShort=c;break;case"MM":case"M":r+="([0-9]{2}|[0-9]{1})",i.month=c;break;case"ww":case"w":r+="([0-9]{2}|[0-9]{1})",i.week=c;break;case"dd":case"d":r+="([0-9]{2}|[0-9]{1})",i.day=c;break;case"DDD":case"DD":case"D":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",i.yearDay=c;break;case"dddd":r+="("+this.getStringList(this.weekdays).join("|")+")",i.weekdayLong=c;break;case"ddd":r+="("+this.getStringList(this.weekdaysShort).join("|")+")",i.weekdayShort=c;break;case"aaa":case"aa":case"a":r+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",i.am=c;break;case"hh":case"h":r+="([0-9]{2}|[0-9]{1})",i.hour12Base1=c;break;case"HH":case"H":r+="([0-9]{2}|[0-9]{1})",i.hourBase0=c;break;case"KK":case"K":r+="([0-9]{2}|[0-9]{1})",i.hour12Base0=c;break;case"kk":case"k":r+="([0-9]{2}|[0-9]{1})",i.hourBase1=c;break;case"mm":case"m":r+="([0-9]{2}|[0-9]{1})",i.minute=c;break;case"ss":case"s":r+="([0-9]{2}|[0-9]{1})",i.second=c;break;case"SSS":case"SS":case"S":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",i.millisecond=c,i.millisecondDigits=s.parts[u].length;break;case"nnn":case"nn":case"n":r+="([0-9]{3}|[0-9]{2}|[0-9]{1})",i.millisecond=c;break;case"x":r+="([0-9]{1,})",i.timestamp=c;break;case"Z":r+="GMT([-+]+[0-9]{2}:[0-9]{2})",i.zone=c;break;case"ZZ":r+="([\\-+]+[0-9]{2}[0-9]{2})",i.zone=c;break;case"i":r+="([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{3})[0-9]*([Zz]?)",i.iso=c,o+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":o--;}r+="[^0-9]*"}var $=new RegExp(r),p=e.match($);if(p){if(i.year>-1&&(n.year=parseInt(p[i.year])),i.year3>-1){var h=parseInt(p[i.year3]);h+=1e3,n.year=h}if(i.year2>-1){h=parseInt(p[i.year2]);h+=h>50?1e3:2e3,n.year=h}if(i.year1>-1){h=parseInt(p[i.year1]);h=10*Math.floor(new Date().getFullYear()/10)+h,n.year=h}if(i.monthLong>-1&&(n.month=this.resolveMonth(p[i.monthLong])),i.monthShort>-1&&(n.month=this.resolveShortMonth(p[i.monthShort])),i.month>-1&&(n.month=parseInt(p[i.month])-1),i.week>-1&&-1===i.day&&(n.month=0,n.day=am(parseInt(p[i.week]),n.year,1,this.utc)),i.day>-1&&(n.day=parseInt(p[i.day])),i.yearDay>-1&&(n.month=0,n.day=parseInt(p[i.yearDay])),i.hourBase0>-1&&(n.hour=parseInt(p[i.hourBase0])),i.hourBase1>-1&&(n.hour=parseInt(p[i.hourBase1])-1),i.hour12Base0>-1)11==(h=parseInt(p[i.hour12Base0]))&&(h=0),i.am>-1&&!this.isAm(p[i.am])&&(h+=12),n.hour=h;if(i.hour12Base1>-1)12==(h=parseInt(p[i.hour12Base1]))&&(h=0),i.am>-1&&!this.isAm(p[i.am])&&(h+=12),n.hour=h;if(i.minute>-1&&(n.minute=parseInt(p[i.minute])),i.second>-1&&(n.second=parseInt(p[i.second])),i.millisecond>-1){h=parseInt(p[i.millisecond]);2==i.millisecondDigits?h*=10:1==i.millisecondDigits&&(h*=100),n.millisecond=h}if(i.timestamp>-1&&(n.timestamp=parseInt(p[i.timestamp])),i.zone>-1){var m=p[i.zone].replace(/:/,""),l=Ma(m.match(/([+\-]?)([0-9]{2})([0-9]{2})/)),g=l[1],k=l[2],y=l[3],d=60*parseInt(k)+parseInt(y);"+"==g&&(d*=-1);var b=d-new Date().getTimezoneOffset();n.offset=b}i.iso>-1&&("Z"!=p[i.iso+7]&&"z"!=p[i.iso+7]||(n.utc=!0),n.year=La(p[i.iso+0]),n.month=La(p[i.iso+1])-1,n.day=La(p[i.iso+2]),n.hour=La(p[i.iso+3]),n.minute=La(p[i.iso+4]),n.second=La(p[i.iso+5]),n.millisecond=La(p[i.iso+6])),a=n.utc?new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond)):new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond)}else a=new Date(e);return a},t.prototype.resolveMonth=function(e){var t=this.months.indexOf(e);return t>-1?t:this.language&&!this.language.isDefault()&&(t=this.language.translateAll(this.months).indexOf(e))>-1?t:0},t.prototype.resolveShortMonth=function(e){var t=this.monthsShort.indexOf(e);return t>-1?t:(t=this.months.indexOf(e))>-1?t:this.language&&!this.language.isDefault()&&(t=this.language.translateAll(this.monthsShort).indexOf(e))>-1?t:0},t.prototype.isAm=function(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},t.prototype.getStringList=function(e){for(var t=[],a=0;a<e.length;a++)this.language?t.push(Of(this.language.translate(e[a]))):t.push(Of(e[a]));return t},Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(e){this._inputDateFormat=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(e){this._timezoneOffset!=e&&(this._timezoneOffset=e,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){this._firstDayOfWeek=e,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),t}(rb);ca.registeredClasses.DateFormatter=Ld;var lg=function(t){function e(){var e=t.call(this)||this;return e._negativeBase=0,e._baseUnit="second",e._outputFormat="svg",e._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},e._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},e.className="DurationFormatter",e.applyTheme(),e}return da(e,t),e.prototype.format=function(t,e,a){this.language||(this.sprite?this.language=this.sprite.language:this.language=new pc);var r=a||this._baseUnit;void 0!==e&&""!==e||(e=ba(this.durationFormat)?this.durationFormat:this.getFormat(La(t),null,r)),e=qe(e);var i,n=this.parseFormat(e,r),s=Number(t);i=s>this._negativeBase?n.positive:s<this._negativeBase?n.negative:n.zero;var o=this.applyFormat(s,i);return""!==i.color&&("svg"===this._outputFormat?o="<tspan fill='"+i.color+"'>"+o+"</tspan>":"html"===this._outputFormat&&(o="<span style='color: "+i.color+";'>"+o+"</span>")),o},e.prototype.parseFormat=function(t,e){var a=this,r=this.getCache(t);if(ba(r))return r;var i=e||this._baseUnit,n={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}},s=(t=t.replace("||",ad)).split("|");return n.positive.source=s[0],void 0===s[2]?n.zero=n.positive:n.zero.source=s[2],void 0===s[1]?n.negative=n.positive:n.negative.source=s[1],qa(n,function(t,e){if(!e.parsed)if(void 0===a.getCache(e.source)){var r,i=e.source;(r=e.source.match(/^\[([^\]]*)\]/))&&r.length&&""!==r[0]&&(i=e.source.substr(r[0].length),e.color=r[1]);for(var s=ic().chunk(i,!0),o=0;o<s.length;o++){var u=s[o];if(u.text=u.text.replace(ad,"|"),"value"===u.type){u.text.match(/[yYMdDwhHKkmsSn]+a/)&&(e.absolute=!0,u.text=u.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var l=u.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(l)for(var m=0;m<l.length;m++)ba(l[m])||(l[m]=a._unitAliases[l[m]]),e.parts.push(l[m]),u.text=u.text.replace(l[m],Eb)}e.template+=u.text}a.setCache(e.source,e),e.parsed=!0}else n[t]=a.getCache(e.source)}),this.setCache(t,n),n},e.prototype.applyFormat=function(t,e){var a=!e.absolute&&t<this._negativeBase;t=Math.abs(t);for(var r=this.toTimeStamp(t,e.baseUnit),i=e.template,n=0,s=e.parts.length;n<s;n++){var o=e.parts[n],u=this.toTimeUnit(o.substr(0,1)),l=o.length,m=Math.floor(r/this._unitValues[u]);i=i.replace(Eb,ob(m,l,"0")),r-=m*this._unitValues[u]}return a&&(i="-"+i),i},e.prototype.toTimeStamp=function(t,e){return t*this._unitValues[e]},e.prototype.toTimeUnit=function(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";}},e.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate()},Object.defineProperty(e.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(t){this._baseUnit=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(t){this._outputFormat=t.toLowerCase(),this.invalidateSprite()},enumerable:!0,configurable:!0}),e.prototype.getFormat=function(t,e,a){if(ba(this.durationFormat))return this.durationFormat;if(a||(a=this.baseUnit),ba(e)&&t!=e){t=Math.abs(t),e=Math.abs(e);var r=this.getValueUnit(ua(t,e),a);return this.durationFormats[a][r]}var i=this.getValueUnit(t,a);return this.durationFormats[a][i]},e.prototype.getValueUnit=function(t,e){var a;e||(e=this.baseUnit);var r=this.getMilliseconds(t,e);return Qh(this._unitValues,function(t,i){if(t==e||a){if(r/i<=1)return a||(a=t),!1;a=t}return!0}),a},e.prototype.getMilliseconds=function(t,e){return e||(e=this.baseUnit),t*this._unitValues[e]},Object.defineProperty(e.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(t){this._durationFormat!=t&&(this._durationFormat=t,this.invalidateSprite())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(t){this._durationFormats=t,this.invalidateSprite()},enumerable:!0,configurable:!0}),e}(rb);ca.registeredClasses.DurationFormatter=lg;var mg,Hi,fn,gn,hn=false;function jn(){return Hi||(Hi=nn()),Hi}var Ii=new Ka,kn=function(e,t){var i=t||"amexport",m=new Ba;return Ii.insertKeyIfEmpty(i,function(){var t=new Pa([new Ia(e,"."+i+"-menu *",{"box-sizing":"border-box"}),new Ia(e,"."+i+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new Ia(e,"."+i+"-menu-level-0."+i+"-left",{right:"auto",left:"5px"}),new Ia(e,"."+i+"-menu-level-0."+i+"-right",{right:"5px",left:"auto"}),new Ia(e,"."+i+"-menu-level-0."+i+"-top",{top:"5px",bottom:"auto"}),new Ia(e,"."+i+"-menu-level-0."+i+"-bottom",{top:"auto",bottom:"5px"}),new Ia(e,"."+i+"-item."+i+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new Ia(e,"div:hover ."+i+"-item."+i+"-item-level-0, ."+i+"-item."+i+"-item-level-0.active",{opacity:"0.9"}),new Ia(e,"."+i+"-item."+i+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new Ia(e,"."+i+"-item."+i+"-item-level-0:before",{display:"block"}),new Ia(e,"."+i+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":m.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:m.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new Ia(e,"."+i+"-left ."+i+"-item",{margin:"1px 0 0 1px"}),new Ia(e,"."+i+"-item:hover, ."+i+"-item.active",{background:m.getFor("secondaryButtonHover").hex,color:m.getFor("secondaryButtonText").hex}),new Ia(e,"."+i+"-item > ."+i+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new Ia(e,"."+i+"-left ."+i+"-item > ."+i+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new Ia(e,"."+i+"-right ."+i+"-item > ."+i+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new Ia(e,"."+i+"-top ."+i+"-item > ."+i+"-menu",{top:"-1px",bottom:"auto"}),new Ia(e,"."+i+"-bottom ."+i+"-item > ."+i+"-menu",{top:"auto",bottom:"0"}),new Ia(e,"."+i+"-item > ."+i+"-menu",{display:"none"}),new Ia(e,"."+i+"-item:hover > ."+i+"-menu, ."+i+"-item.active > ."+i+"-menu",{display:"block"}),new Ia(e,"."+i+"-item:hover > ."+i+"-menu > ."+i+"-item, ."+i+"-item.active > ."+i+"-menu > ."+i+"-item",{opacity:"1"}),new Ia(e,"."+i+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new Ia(e,"."+i+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new Ia(e,"."+i+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new Ia(e,"."+i+"-item-level-0 > ."+i+"-icon",{padding:"0.1em 0.2em"}),new Ia(e,"."+i+"-clickable",{cursor:"pointer"})]);return new he(function(){Ii.removeKey(i),t.dispose()})}).increment()};var Ji=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._validateDisposer=null,t}return da(t,e),t.prototype.invalidate=function(){null===this._validateDisposer&&(this._validateDisposer=ca.events.on("exitframe",this.validate,this))},t.prototype.validate=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null)},t.prototype.dispose=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null),e.prototype.dispose.call(this)},t}(Zb);var ln=function(e){function t(){var t=e.call(this)||this;return t.adapter=new yb(t),t.closeDelay=1e3,t.closeOnClick=!0,t._language=new bb,t._menuTag="ul",t._itemTag="li",t._labelTag="a",t._iconTag="img",t._classPrefix="amexport",t._defaultStyles=!0,t._align="right",t._verticalAlign="top",t._tabindex=0,t._ignoreNextClose=!1,t._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],t.className="ExportMenu",t._disposers.push(t._language),t.invalidate(),t.applyTheme(),t}return da(t,e),t.prototype.validate=function(){this.draw(),e.prototype.validate.call(this)},t.prototype.draw=function(){var e=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),Ma(this._container).appendChild(this._element);for(var t=this.adapter.apply("items",{items:this._items}).items,i=t.length,n=0;n<i;n++)this.drawBranch(this._element,t[n],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(ra().body.events.on("down",function(t){t.pointer.touch||(e._ignoreNextClose=!1),e.close()})),this._disposers.push(ra().body.events.on("keyup",function(t){var i=hc.getEventKey(t.event);switch(i){case"esc":e.close();break;case"up":case"down":case"left":case"right":e.moveSelection(i);}})),this.defaultStyles&&this.loadDefaultCSS()},t.prototype.drawBranch=function(e,t,i){var n=this;if(!0!==(t=this.adapter.apply("branch",{branch:t,level:i}).branch).unsupported){t.ascendants||(t.ascendants=new Aa);var a,s=t.type,r=this.createItemElement(i,s);t.icon?((a=this.createIconElement(i,s)).src=t.icon,t.label&&(a.title=t.label)):t.svg?(a=this.createSvgElement(i,s,t.svg),t.label&&(a.title=t.label)):(a=this.createLabelElement(i,s)).innerHTML=t.label?this.language.translate(t.label):"";var l=this.getReaderLabel(t,a.innerHTML);a.setAttribute("aria-label",l),r.appendChild(a),t.interactions=ra().getInteraction(a),t.element=r,this.typeClickable(s)&&(t.interactions.events.on("hit",function(e){if(n.events.isEnabled("hit")){var i={type:"hit",event:e.event,target:n,branch:t};n.events.dispatchImmediately("hit",i)}}),t.interactions.events.on("keyup",function(e){if(hc.isKey(e.event,"enter")&&n.events.isEnabled("enter")){var i={type:"enter",event:e.event,target:n,branch:t};n.events.dispatchImmediately("enter",i)}}));var o=this.getSubMenu(t);null!=o&&(t.interactions.events.on("keyup",function(e){hc.isKey(e.event,"enter")&&(n.selectBranch(o[0]),n.setFocus(o[0]))}),t.interactions.events.on("hit",function(e){n.selectBranch(t)})),t.interactions.events.on("over",function(e){if(e.pointer.touch&&(n._ignoreNextClose=!0),n.selectBranch(t),n.events.isEnabled("over")){var i={type:"over",event:e.event,target:n,branch:t};n.events.dispatchImmediately("over",i)}}),t.interactions.events.on("out",function(e){if(e.pointer.touch||n.delayUnselectBranch(t),n.events.isEnabled("out")){var i={type:"out",event:e.event,target:n,branch:t};n.events.dispatchImmediately("out",i)}}),t.interactions.events.on("focus",function(e){n.selectBranch(t)}),t.interactions.events.on("blur",function(e){n.delayUnselectBranch(t)});var c=i+1;if(t.menu){for(var u=this.createMenuElement(c),p=t.menu.length,h=0;h<p;h++){var m=new Aa;t.menu[h].ascendants=m,t.ascendants.length&&m.copyFrom(t.ascendants),m.push(t),this.drawBranch(u,t.menu[h],c)}if(""==u.innerHTML)return;r.appendChild(u)}t.hidden&&this.hideBranch(t),t.id&&r.setAttribute("id",t.id),t.color&&(r.style.backgroundColor=t.color.hex),e.appendChild(r)}},t.prototype.createMenuElement=function(e){var t=document.createElement(this.menuTag);return t.className=this.getMenuItemClass(e),0===e&&t.setAttribute("role","menu"),t},t.prototype.getMenuItemClass=function(e){var t=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+e;return 0===e&&(t+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:t,level:e}).className},t.prototype.createItemElement=function(e,t){var i=document.createElement(this.itemTag),n=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return i.className=this.adapter.apply("itemClass",{className:n,level:e,type:t}).className,i.setAttribute("role","menuitem"),i},t.prototype.createLabelElement=function(e,t){var i=document.createElement(this.labelTag),n=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(n+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:n,level:e,type:t}).className,i.setAttribute("tabindex",this.tabindex.toString()),i.setAttribute("role","menuitem"),i},t.prototype.createIconElement=function(e,t){var i=document.createElement(this.iconTag),n=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(n+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:n,level:e,type:t}).className,i.setAttribute("tabindex",this.tabindex.toString()),i.setAttribute("role","menuitem"),i},t.prototype.createSvgElement=function(e,t,i){var n=new DOMParser().parseFromString(i,"image/svg+xml").documentElement,a=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(a+=" "+this.classPrefix+"-clickable"),n.setAttribute("class",this.adapter.apply("labelClass",{className:a,level:e,type:t}).className),n.setAttribute("tabindex",this.tabindex.toString()),n.setAttribute("role","menuitem"),n},t.prototype.dispose=function(){this._disposed||(e.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element))},t.prototype.typeClickable=function(e){return ba(e)},t.prototype.hasSubMenu=function(e){return!(!e.menu||!e.menu.length)},t.prototype.getSubMenu=function(e){if(e.menu&&e.menu.length)return e.menu},t.prototype.getReaderLabel=function(e,t){return t=bi(t),this.hasSubMenu(e)?t+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==e.type?t=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(e.type)&&(t=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,t)),this.adapter.apply("rederLabel",{label:t,branch:e}).label},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tag",{set:function(e){this._menuTag=e,this._itemTag="ul"==e?"li":"div",this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(e){this._align=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(e){this._verticalAlign=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(e){this._classPrefix=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e,e&&this.loadDefaultCSS()),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._disposers.push(kn(gg(this.container),this.classPrefix)),this._element&&(this._element.style.display="")},Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(e){this._tabindex=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this,t=this._language.get();return null==t&&(t=new pc,this._language.set(t,t.events.on("localechanged",function(t){e.invalidate()}))),t},set:function(e){var t=this;this._language.set(e,e.events.on("localechanged",function(e){t.invalidate()})),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.close=function(){var e=this;if(this._ignoreNextClose)this._ignoreNextClose=!1;else{if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout(function(){e._element.style.pointerEvents="auto"},100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var t=this._element.getElementsByClassName("active"),i=t.length-1;i>=0;i--)t[i]&&dg(t[i],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this})}},t.prototype.selectBranch=function(e){var t=this;if(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),cg(e.interactions.element.parentElement,"active"),this._currentSelection&&this._currentSelection!==e&&this._currentSelection.ascendants&&fa(Cl(zc([this._currentSelection]),this._currentSelection.ascendants.iterator()),function(i){e.ascendants.contains(i)||e===i||t.unselectBranch(i,!0)}),fa(e.ascendants.iterator(),function(e){e.closeTimeout&&(t.removeDispose(e.closeTimeout),e.closeTimeout=void 0),cg(e.interactions.element.parentElement,"active")}),this._currentSelection=e,this.events.isEnabled("branchselected")){var i={type:"branchselected",target:this,branch:e};this.events.dispatchImmediately("branchselected",i)}},t.prototype.unselectBranch=function(e,t){if(dg(e.interactions.element.parentElement,"active"),this._currentSelection==e&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected")){var i={type:"branchunselected",target:this,branch:e};this.events.dispatchImmediately("branchunselected",i)}},t.prototype.delayUnselectBranch=function(e,t){var i=this;e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),e.closeTimeout=this.setTimeout(function(){i.unselectBranch(e,t)},this.closeDelay),!0!==t&&e.ascendants&&fa(e.ascendants.iterator(),function(e){i.delayUnselectBranch(e,!0)})},t.prototype.moveSelection=function(e){if(this._currentSelection){var t;if("up"==e)t=this.getPrevSibling(this._currentSelection);else if("down"==e)t=this.getNextSibling(this._currentSelection);else if("left"==e&&"right"==this.align||"right"==e&&"left"==this.align){var i=this.getSubMenu(this._currentSelection);null!=i&&(t=i[0])}else("right"==e&&"right"==this.align||"left"==e&&"left"==this.align)&&(t=this.getParentItem(this._currentSelection));t&&t!==this._currentSelection&&(this.selectBranch(t),this.setFocus(t),this._currentSelection=t)}},t.prototype.getSiblings=function(e){var t=this.getParentItem(e);return t&&t.menu?t.menu:[]},t.prototype.getParentItem=function(e){return e.ascendants&&e.ascendants.length?e.ascendants.getIndex(e.ascendants.length-1):void 0},t.prototype.getNextSibling=function(e){var t=this.getSiblings(e);if(t.length>1){var i=t.indexOf(e)+1;return t[i=t.length==i?0:i].unsupported?this.getNextSibling(t[i]):t[i]}return e},t.prototype.getPrevSibling=function(e){var t=this.getSiblings(e);if(t.length>1){var i=t.indexOf(e)-1;return t[i=-1==i?t.length-1:i].unsupported?this.getPrevSibling(t[i]):t[i]}return e},t.prototype.setFocus=function(e){if(e.interactions)try{e.interactions.element.focus()}catch(t){}},t.prototype.setBlur=function(e){if(e.interactions)try{e.interactions.element.blur()}catch(t){}},t.prototype.hideBranch=function(e){e.element.style.display="none"},t.prototype.showBranch=function(e){e.element.style.display=""},t}(Ji);function De(e,r,t){return new Promise(function(o,n){var s=ba(t)&&"blob"==t.responseType,p=new XMLHttpRequest;if(p.onload=function(){if(200===p.status){var e,t=void 0;if(s)return void mn(e=p.response).then(function(t){var n={xhr:p,error:!1,response:t,blob:e,type:p.getResponseHeader("Content-Type"),target:r};o(n)});t=p.responseText||p.response;var a={xhr:p,error:!1,response:t,blob:e,type:p.getResponseHeader("Content-Type"),target:r};o(a)}else n({xhr:p,error:!0,type:p.getResponseHeader("Content-Type"),target:r})},p.onerror=function(){n({xhr:p,error:!0,type:p.getResponseHeader("Content-Type"),target:r})},p.open("GET",e,!0),t&&t.withCredentials&&(p.withCredentials=!0),ba(t)){if(ba(t.requestHeaders))for(var a=0;a<t.requestHeaders.length;a++){var $=t.requestHeaders[a];p.setRequestHeader($.key,$.value)}ba(t.responseType)&&(p.responseType=t.responseType)}p.send()})}function mn(e){return new Promise(function(r,t){var o=new FileReader;o.onload=function(e){r(o.result)},o.onerror=function(e){t(e)},o.readAsText(e)})}function nn(){try{throw new Error}catch($){var e=(""+$.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(e)return Ki(e[0])}return"/"}function Ki(e){return(""+e).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)\/[^\/]+$/,"$1")+"/"}function on(){if(hn)return;hn=true;mg={};Hi=null;fn=jn;mg.getBundleURL=fn;gn=Ki;mg.getBaseURL=gn}var ed,pn,Li,qn,rn,Ee,sn=false;function tn(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch($){if("MODULE_NOT_FOUND"===$.code)return new ng(function($,t){Mi(r.slice(0,-1)).then(function(){return require(e)}).then($,t)});throw $}}function Mi(r){return Promise.all(r.map(vn))}function un(r,e){Li[r]=e}function vn(r){var e;if(Array.isArray(r)&&(e=r[1],r=r[0]),Ee[r])return Ee[r];var $=(r.substring(r.lastIndexOf(".")+1,r.length)||r).toLowerCase(),t=Li[$];return t?Ee[r]=t(pn()+r).then(function(r){return r&&require.register(e,r),r}).catch(function(e){throw delete Ee[r],e}):void 0}function ng(r){this.executor=r,this.promise=null}function Md(){if(sn)return;sn=true;ed={};pn=(on(),mg).getBundleURL;Li={};qn=Mi;(ed=ed=tn).load=qn;rn=un;ed.register=rn;Ee={};ng.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},ng.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)}}var wn={};wn=function(n){return new Promise(function(e,o){var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.charset="utf-8",r.src=n,r.onerror=function(n){r.onerror=r.onload=null,o(n)},r.onload=function(){r.onerror=r.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(r)})};(Md(),ed).register("js",wn);var Ni,d=arguments[0];function xn(){return Ha(this,void 0,void 0,function(){var t,e,r,i;return Da(this,function(a){switch(a.label){case 0:return[4,Promise.all([(Md(),ed)([["pdfmake.afe41d66.js","MIP4"],"MIP4"]),(Md(),ed)([["vfs_fonts.cce5fe80.js","CRel"],"CRel"])])];case 1:return t=a.sent(),e=t[0],r=t[1],(i=window).pdfMake=i.pdfMake||{},i.pdfMake.vfs=r.default,e.vfs=r.default,[2,e];}})})}var Oi=/src: ([^;]+);/;function yn(){return null!=window.navigator.msSaveOrOpenBlob}function zn(t){return new Promise(function(e,r){var i=new FileReader;i.onload=function(t){e(i.result)},i.onerror=function(t){r(t)},i.readAsDataURL(t)})}function An(t){return Ha(this,void 0,void 0,function(){var e;return Da(this,function(r){switch(r.label){case 0:e=t.sheet,r.label=1;case 1:return r.trys.push([1,2,,4]),[2,e.cssRules];case 2:return r.sent(),[4,new Promise(function(r,i){t.addEventListener("load",function(){r(e.cssRules)},!0),t.addEventListener("error",function(t){i(t)},!0),setTimeout(function(){i(new Error("Timeout while waiting for <style> to load"))},1e4)})];case 3:return[2,r.sent()];case 4:return[2];}})})}function Pi(t,e,r){return Ha(this,void 0,void 0,function(){var i,a,o,n;return Da(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,De(e)];case 1:return i=s.sent(),[3,3];case 2:return a=s.sent(),console.error("Failed to load stylesheet",e,a),[2];case 3:(o=t.createElement("style")).textContent=i.response,t.head.appendChild(o),s.label=4;case 4:return s.trys.push([4,,7,8]),[4,An(o)];case 5:return n=s.sent(),[4,Qi(t,e,n,r)];case 6:return s.sent(),[3,8];case 7:return t.head.removeChild(o),[7];case 8:return[2];}})})}function Qi(t,e,r,i){return Ha(this,void 0,void 0,function(){var a,o,n,s,p;return Da(this,function(l){switch(l.label){case 0:for(a=[],o=r.length,n=0;n<o;n++)(s=r[n]).type===CSSRule.IMPORT_RULE?(p=s.href)&&(p=$f(e,p),a.push(Pi(t,p,i))):i(e,s);return a.length?[4,Promise.all(a)]:[3,2];case 1:l.sent(),l.label=2;case 2:return[2];}})})}function Bn(t){return Ha(this,void 0,void 0,function(){var e,r;return Da(this,function(i){switch(i.label){case 0:(e=document.createElement("iframe")).src="about:blank",e.setAttribute("title",""),document.head.appendChild(e),i.label=1;case 1:return i.trys.push([1,,3,4]),r=e.contentDocument,[4,Promise.all(ud(document.styleSheets,function(e){var i=e.href;return null==i?Qi(r,location.href,e.cssRules,t):(i=$f(location.href,i),Pi(r,i,t))}))];case 2:return i.sent(),[3,4];case 3:return document.head.removeChild(e),[7];case 4:return[2];}})})}var Cn=function(t){function e(e){var r=t.call(this)||this;return r.adapter=new yb(r),r._formatOptions=new Ka,r._extraSprites=[],r._validateSprites=[],r.dataFieldsOrder=[],r._dynamicDataFields=!0,r._removedObjects=new Aa,r._hiddenObjects=[],r._objectsAlreadyHidden=!1,r._filePrefix="amCharts",r.useWebFonts=!0,r.useRetina=!0,r.useSimplifiedExport=!0,r.timeoutDelay=2e3,r._exportRunning=!1,r._container=e,r.className="Export",r._formatOptions.setKey("png",{}),r._formatOptions.setKey("jpg",{quality:.8}),r._formatOptions.setKey("gif",{}),r._formatOptions.setKey("svg",{}),r._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),r._formatOptions.setKey("json",{indent:2,useLocale:!0}),r._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:""}),r._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),r._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),r._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),r._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),r.adapter.add("options",function(t){var e=r._formatOptions.getKey(t.type);return t.options?t.options=Hf(e,t.options):t.options=e,t}),r.applyTheme(),r.dispatchImmediately("inited"),r}return da(e,t),Object.defineProperty(e.prototype,"menu",{get:function(){return this._menu},set:function(t){var e=this;this._menu&&this.removeDispose(this._menu),this._menu=t,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",function(t){return t.branch.unsupported=!e.typeSupported(t.branch.type),t}),this._menu.events.on("hit",function(t){e.export(t.branch.type,t.branch.options),e.menu.close()}),this._menu.events.on("enter",function(t){e.export(t.branch.type,t.branch.options),e.menu.close()}),this._menu.events.on("over",function(t){e._disablePointers()}),this._menu.events.on("out",function(t){setTimeout(function(){e._releasePointers()},10)}),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",function(t){return t.classPrefix=Fa.classNamePrefix+t.classPrefix,t}),this._disposers.push(this._menu)},enumerable:!0,configurable:!0}),e.prototype.typeSupported=function(t){var e=!0,r=this.getFormatOptions(t);return ba(r)&&r.disabled?e=!1:"pdf"===t||("xlsx"===t?e=!!this._hasData():("print"!=t||window.print)&&(-1===["json","csv","html","pdfdata"].indexOf(t)||this._hasData())||(e=!1)),this.adapter.apply("supported",{supported:e,type:t}).supported},e.prototype._hasData=function(){return this.data&&this.data.length},e.prototype._getFunction=function(t){switch(t){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported;}},e.prototype.export=function(t,e){return Ha(this,void 0,void 0,function(){var r,i,a,o,n,s=this;return Da(this,function(p){switch(p.label){case 0:return"custom"==t?(this.handleCustom(e),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(r={type:"exportstarted",target:this,format:t,options:e},this.events.dispatchImmediately("exportstarted",r)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout(function(){if(s.events.isEnabled("exporttimedout")){var r={type:"exporttimedout",target:s,format:t,options:e};s.events.dispatchImmediately("exporttimedout",r)}s.showTimeout()},this.timeoutDelay)),this.hideNonExportableSprites(),i=this._getFunction(t),e=this.adapter.apply("options",{options:e,type:t}).options,[4,(i=this.adapter.apply("exportFunction",{func:i,type:t,options:e}).func).call(this,t,e)]);case 1:return a=p.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),a?(this.events.isEnabled("exportfinished")&&(o={type:"exportfinished",target:this,format:t,options:e},this.events.dispatchImmediately("exportfinished",o)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===t?[2,this.print(a,e,this.adapter.apply("title",{title:this.title,options:e}).title)]:"pdfdata"==t?[2,this.download(a,this.filePrefix+".pdf")]:[2,this.download(a,this.filePrefix+"."+t)]):(this.events.isEnabled("error")&&(n={type:"error",target:this,format:t,options:e},this.events.dispatchImmediately("error",n)),[2,!1]);}})})},e.prototype.unsupported=function(t,e){return Ha(this,void 0,void 0,function(){return Da(this,function(t){return[2,""]})})},e.prototype.handleCustom=function(t){ba(t)&&ba(t.callback)&&t.callback.call(t.callbackTarget||this,t)},e.prototype.getPrint=function(t,e){return Ha(this,void 0,void 0,function(){return Da(this,function(t){return[2,this.getImage("png",e)]})})},e.prototype.getFontFamilies=function(){return Ha(this,void 0,void 0,function(){var t,e,r,i,a=this;return Da(this,function(o){switch(o.label){case 0:return t=this.getDOMURL(),e=[],r=[],[4,Bn(function(i,o){if(o.type===CSSRule.FONT_FACE_RULE){var n=o.cssText,s=Oi.exec(n);if(null!==s){var p=s[1].split(/ *, */).map(function(r){return Ha(a,void 0,void 0,function(){var a,o,n,s,p,l;return Da(this,function(d){switch(d.label){case 0:return null!==(a=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(r))?[3,1]:[2,r];case 1:o=a[2],n=$f(i,a[1]),d.label=2;case 2:return d.trys.push([2,7,,8]),[4,De(n,void 0,{responseType:"blob"})];case 3:return s=d.sent(),yn()?(p=t.createObjectURL(s.blob),e.push(p),[3,6]):[3,4];case 4:return[4,zn(s.blob)];case 5:p=d.sent(),d.label=6;case 6:return[2,"url(\""+p+"\")"+o];case 7:return l=d.sent(),console.error("Failed to load font",n,l),[2,null];case 8:return[2];}})})});r.push(Promise.all(p).then(function(t){return 0===(t=t.filter(function(t){return null!=t})).length?"":n.replace(Oi,"src: "+t.join(", ")+";")}))}}})];case 1:return o.sent(),[4,Promise.all(r)];case 2:return i=o.sent(),[2,{blobs:e,cssText:i.filter(function(t){return!!t}).join("\n")}];}})})},e.prototype.getImage=function(t,e,r){return Ha(this,void 0,void 0,function(){var i,a,o,n,s;return Da(this,function(p){switch(p.label){case 0:return(i=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),ba(e)||(e=this.getFormatOptions(t)),[4,this.awaitValidSprites()];case 1:return p.sent(),[4,this.simplifiedImageExport()];case 2:if(!p.sent())return[3,10];p.label=3;case 3:return p.trys.push([3,7,,9]),[4,this.getCanvas(e)];case 4:return a=p.sent(),!1===r?[3,6]:[4,this.addExtras(a,e)];case 5:a=p.sent(),p.label=6;case 6:return o=a.toDataURL(this.getContentType(t),e.quality),this.disposeCanvas(a),i||this.restoreNonExportableSprites(),[2,o];case 7:return n=p.sent(),console.error(n.message+"\n"+n.stack),console.warn("Simple export failed, falling back to advanced export"),[4,this.getImageAdvanced(t,e,r)];case 8:return s=p.sent(),i||this.restoreNonExportableSprites(),[2,s];case 9:return[3,12];case 10:return[4,this.getImageAdvanced(t,e,r)];case 11:return s=p.sent(),i||this.restoreNonExportableSprites(),[2,s];case 12:return[2];}})})},e.prototype.addExtras=function(t,e,r){return Ha(this,void 0,void 0,function(){var i,a,o,n,s,p,l,d,h,u,c,f,m,$,g=this;return Da(this,function(y){switch(y.label){case 0:return this.extraSprites.length?(i=0,a=0,o=t.width,n=t.height,s=0,p=0,[4,Promise.all(ud(this.extraSprites,function(t){return Ha(g,void 0,void 0,function(){var l,d,h,u;return Da(this,function(c){switch(c.label){case 0:return(l=t instanceof sa?{sprite:t,position:"bottom"}:t).position=l.position||"bottom",l.marginTop=l.marginTop||0,l.marginRight=l.marginRight||0,l.marginBottom=l.marginBottom||0,l.marginLeft=l.marginLeft||0,r?[4,l.sprite.exporting.getCanvasAdvanced(e)]:[3,2];case 1:return d=c.sent(),[3,4];case 2:return[4,l.sprite.exporting.getCanvas(e)];case 3:d=c.sent(),c.label=4;case 4:return h=d.width+l.marginLeft+l.marginRight,u=d.height+l.marginTop+l.marginBottom,"top"==l.position?(o=l.crop?n:ua(o,h),a+=u):"right"==l.position?(n=l.crop?n:ua(n,u),s+=h):"left"==l.position?(n=l.crop?n:ua(n,u),i+=h):"bottom"===l.position&&(o=l.crop?n:ua(o,h),p+=u),[2,{canvas:d,position:l.position,left:l.marginLeft,top:l.marginTop,width:h,height:u}];}})})}))]):[3,2];case 1:return l=y.sent(),(d=this.getDisposableCanvas()).width=i+o+s,d.height=a+n+p,h=d.getContext("2d"),(u=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(h.fillStyle=u.toString(),h.fillRect(0,0,d.width,d.height)),m=(c=i)+o,$=(f=a)+n,la(l,function(t){"top"==t.position?(f-=t.height,h.drawImage(t.canvas,i+t.left,f+t.top)):"right"==t.position?(h.drawImage(t.canvas,m+t.left,a+t.top),m+=t.width):"left"==t.position?(c-=t.width,h.drawImage(t.canvas,c+t.left,a+t.top)):"bottom"===t.position&&(h.drawImage(t.canvas,i+t.left,$+t.top),$+=t.height),g.disposeCanvas(t.canvas)}),h.drawImage(t,i,a),[2,d];case 2:return[2,t];}})})},e.prototype.getCanvas=function(t){return Ha(this,void 0,void 0,function(){var e,r,i,a,o,n,s,p,l,d,h,u,c,f,m,$;return Da(this,function(g){switch(g.label){case 0:ba(t)||(t={}),e=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),r=this.getDOMURL(),i=null,a=null,g.label=1;case 1:return g.trys.push([1,,4,5]),n=this.sprite.pixelWidth,s=this.sprite.pixelHeight,p=Ae(this.sprite.dom),l=Be(this.sprite.dom),o=this.getDisposableCanvas(),d=this.getPixelRatio(t),o.style.width=n+"px",o.style.height=s+"px",o.width=n*d,o.height=s*d,h=o.getContext("2d"),1!=d&&h.setTransform(d,0,0,d,0,0),e&&(h.fillStyle=e.toString(),h.fillRect(0,0,n,s)),u=[],this.useWebFonts&&u.push(this.getFontFamilies().then(function(t){return a=t.blobs,t.cssText})),u.push(this.imagesToDataURI(this.sprite.dom,t)),u.push(this.prepForeignObjects(this.sprite.dom,t)),[4,Promise.all(u)];case 2:return c=g.sent(),f=this.normalizeSVG("<style>"+c[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,n,s,p,l),m=new Blob([f],{type:"image/svg+xml"}),i=r.createObjectURL(m),[4,this.loadNewImage(i,n,s,"anonymous")];case 3:return $=g.sent(),h.drawImage($,0,0),[3,5];case 4:return null!==i&&r.revokeObjectURL(i),null!==a&&la(a,function(t){r.revokeObjectURL(t)}),this.restoreRemovedObjects(),[7];case 5:return[2,o];}})})},e.prototype.getCanvasAdvanced=function(t){return Ha(this,void 0,void 0,function(){var e,r,i,a,o,n,s,p,l,d;return Da(this,function(h){switch(h.label){case 0:return ba(t)||(t={}),[4,this.imagesToDataURI(this.sprite.dom,t)];case 1:return h.sent(),e=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return r=h.sent(),i=this.sprite.pixelWidth,a=this.sprite.pixelHeight,o=Ae(this.sprite.dom),n=Be(this.sprite.dom),s=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,i,a,o,n,e),p=this.getDisposableCanvas(),l=this.getPixelRatio(t),p.style.width=i*l+"px",p.style.height=a*l+"px",p.width=i*l,p.height=a*l,d={useCORS:!0},1!=l&&(d.ignoreDimensions=!0,d.scaleWidth=i*l,d.scaleHeight=a*l),[4,r.fromString(p.getContext("2d"),s,d).render()];case 3:return h.sent(),[2,p];}})})},e.prototype.getImageAdvanced=function(t,e,r){return Ha(this,void 0,void 0,function(){var i,a,o;return Da(this,function(n){switch(n.label){case 0:return(i=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),ba(e)||(e=this.getFormatOptions(t)),[4,this.getCanvasAdvanced(e)];case 1:return a=n.sent(),!1===r?[3,3]:[4,this.addExtras(a,e,!0)];case 2:a=n.sent(),n.label=3;case 3:return o=a.toDataURL(this.getContentType(t),e.quality),this.disposeCanvas(a),i||this.restoreNonExportableSprites(),[2,o];}})})},e.prototype.getDisposableCanvas=function(){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="-10000px",document.body.appendChild(t),t},e.prototype.disposeCanvas=function(t){document.body.removeChild(t)},e.prototype.getPixelRatio=function(t){var e=t&&t.scale?t.scale:1;return(this.useRetina?Wl():1)*e},e.prototype.imagesToDataURI=function(t,r){return Ha(this,void 0,void 0,function(){var i,a,o,n,s,p;return Da(this,function(l){switch(l.label){case 0:if(!(i=t.querySelectorAll("image")).length)return[3,2];for(a=[],o=i.length,n=0;n<o;n++)s=i[n],(p=s.getAttributeNS(e.XLINK,"href"))&&(-1!==p.indexOf("data:image")||(-1!==p.indexOf(".svg")?a.push(this.svgToDataURI(s,r)):a.push(this.imageToDataURI(s,r))));return[4,Promise.all(a)];case 1:return l.sent(),[2];case 2:return[2];}})})},e.prototype.prepForeignObjects=function(t,e){return Ha(this,void 0,void 0,function(){var e,r,i;return Da(this,function(a){if((e=t.querySelectorAll("foreignObject")).length)for(r=e.length,i=0;i<r;i++)this.temporarilyRemoveObject(e[i]);return[2]})})},e.prototype.imageToDataURI=function(t,r){return Ha(this,void 0,void 0,function(){var i,a,o;return Da(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.loadNewImage(t.getAttributeNS(e.XLINK,"href"),null,null,"anonymous")];case 1:i=n.sent(),(a=document.createElement("canvas")).width=i.width,a.height=i.height,a.getContext("2d").drawImage(i,0,0);try{return o=a.toDataURL(),t.setAttribute("href",o),[2,o]}catch(s){return!1!==r.keepTainted&&this.temporarilyRemoveObject(t),[2,void 0]}return[3,3];case 2:return n.sent(),r&&!1===r.keepTainted||this.temporarilyRemoveObject(t),[2,void 0];case 3:return[2];}})})},e.prototype.svgToDataURI=function(t,r){return Ha(this,void 0,void 0,function(){var i,a,o,n;return Da(this,function(s){switch(s.label){case 0:i=t.getAttributeNS(e.XLINK,"href"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,De(i)];case 2:return a=s.sent(),o=this.adapter.apply("charset",{charset:"base64",type:"svg",options:r}).charset,n=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+o+","+btoa(a.response),options:r}).data,t.setAttributeNS(e.XLINK,"href",n),[2,n];case 3:return s.sent(),r&&!1===r.keepTainted||this.temporarilyRemoveObject(t),[2,void 0];case 4:return[2];}})})},e.prototype.temporarilyRemoveObject=function(t,e){var r=t.parentElement||t.parentNode;e||(e=this.sprite.paper.add("g").node),r.insertBefore(e,t),t.textContent,r.removeChild(t),this._removedObjects.push({element:t,placeholder:e})},e.prototype.restoreRemovedObjects=function(){for(var t;t=this._removedObjects.pop();){(t.placeholder.parentElement||t.placeholder.parentNode).insertBefore(t.element,t.placeholder)}},e.prototype.simplifiedImageExport=function(){return Ha(this,void 0,void 0,function(){var t,e,r,i,a,o,n;return Da(this,function(s){switch(s.label){case 0:if(!1===this.useSimplifiedExport)return[2,!1];if(!1===(t=ca.getCache("simplifiedImageExport"))||!0===t)return[2,t];s.label=1;case 1:s.trys.push([1,6,,7]),(e=document.createElement("canvas")).width=1,e.height=1,r=e.getContext("2d"),i=this.getDOMURL(),a=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),o=i.createObjectURL(a),n=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.loadNewImage(o,1,1)];case 3:return n=s.sent(),[3,5];case 4:return s.sent(),[2,!1];case 5:r.drawImage(n,0,0),i.revokeObjectURL(o);try{return ca.setCache("simplifiedImageExport",!0),[2,!0]}catch(p){return ca.setCache("simplifiedImageExport",!1),[2,!1]}return[3,7];case 6:return s.sent(),ca.setCache("simplifiedImageExport",!1),[2,!1];case 7:return[2];}})})},e.prototype.loadNewImage=function(t,e,r,i){return new Promise(function(a,o){var n;function s(){if(i){var e=n.src;n.onerror=function(){o(new Error("Loading image \""+t+"\" failed"))},n.removeAttribute("crossorigin"),n.src="",n.src=e}else o(new Error("Loading image \""+t+"\" failed"))}n=e&&r?new Image(e,r):new Image,i&&n.setAttribute("crossOrigin",i),n.onload=function(){a(n)},n.onabort=s,n.onerror=s,n.src=t})},e.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},e.prototype.getSVG=function(t,e){return Ha(this,void 0,void 0,function(){var r,i,a,o,n,s,p,l;return Da(this,function(d){switch(d.label){case 0:return(r=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),[4,this.awaitValidSprites()];case 1:return d.sent(),i=this.sprite.pixelWidth,a=this.sprite.pixelHeight,o=Ae(this.sprite.dom),n=Be(this.sprite.dom),s=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,i,a,o,n),p=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:e}).charset,l=this.adapter.apply("getSVG",{data:"data:"+this.getContentType(t)+";"+p+","+encodeURIComponent(s),options:e}).data,r||this.restoreNonExportableSprites(),[2,l];}})})},e.prototype.normalizeSVG=function(t,e,r,i,a,o,n){var s="";r&&(s+="width=\""+r+"px\" "),i&&(s+="height=\""+i+"px\" ");var p="";a&&(p+="font-family: "+a.replace(/"/g,"")+";"),o&&(p+="font-size: "+o+";");var l=[],d=t.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(d)for(var h=0;h<d.length;h++)t=t.replace(d[h],Eb),l.push(d[h]);t.match(/<svg/)?""!==s&&(t=(t=(t=t.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+s)):t="<?xml version=\"1.0\" encoding=\"utf-8\"?><svg "+s+" style=\""+p+"\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">"+t+"</svg>",n&&(t=t.replace(/(<svg[^>]*>)/,"$1<rect width=\"100%\" height=\"100%\" fill=\""+n.rgba+"\"/>")),fm()&&(t=t.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var u=new RegExp("url\\("+Of(Fd()),"g");if(t=t.replace(u,"url(#"),l.length)for(h=0;h<l.length;h++)t=t.replace(Eb,l[h]);return t=this.adapter.apply("normalizeSVG",{data:t,options:e}).data},e.prototype.serializeElement=function(t){return new XMLSerializer().serializeToString(t)},e.prototype.getPDF=function(t,e){return Ha(this,void 0,void 0,function(){function r(t){var e={};e.normal=t.normal.path,c[t.normal.path]=t.normal.bytes,t.bold?(e.bold=t.bold.path,c[t.bold.path]=t.bold.bytes):e.bold=t.normal.path,t.italics?(e.italics=t.italics.path,c[t.italics.path]=t.italics.bytes):e.italics=t.normal.path,t.bolditalics?(e.bolditalics=t.bolditalics.path,c[t.bolditalics.path]=t.bolditalics.bytes):e.bolditalics=t.normal.path,u[t.name]=e}var i,a,o,n,s,p,l,d,h,u,c;return Da(this,function(f){switch(f.label){case 0:return[4,this.getImage(e.imageFormat||"png",e)];case 1:return i=f.sent(),[4,this.pdfmake];case 2:return a=f.sent(),o=[30,30,30,30],n={pageSize:e.pageSize||"A4",pageOrientation:e.pageOrientation||"portrait",pageMargins:e.pageMargins||o,defaultStyle:{font:e.font?e.font.name:void 0},content:[]},s=this.adapter.apply("title",{title:this.title,options:e}).title,p=0,s&&(n.content.push({text:s,fontSize:e.fontSize,bold:!0,margin:[0,0,0,15]}),p+=50),e.addURL&&(n.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:e.fontSize,margin:[0,0,0,15]}),p+=50),"pdfdata"!=t&&n.content.push({image:i,alignment:e.align||"left",fit:this.getPageSizeFit(n.pageSize,n.pageMargins,p)}),"pdfdata"==t||e.addData?(d=(l=n.content).push,h={},[4,this.getPDFData("pdf",e)]):[3,4];case 3:d.apply(l,[(h.table=f.sent(),h)]),f.label=4;case 4:return n=this.adapter.apply("pdfmakeDocument",{doc:n,options:e}).doc,u=null,c=null,e.font&&(u={},c={},r(e.font),e.extraFonts&&la(e.extraFonts,r)),[4,new Promise(function(t,e){a.createPdf(n,null,u,c).getDataUrl(function(e){t(e)})})];case 5:return[2,f.sent()];}})})},e.prototype.getPDFData=function(t,e){return Ha(this,void 0,void 0,function(){var t,r,i,a,o,n,s=this;return Da(this,function(p){if(t={body:[]},r=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,i=this.data,e.pivot)a=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,fc(r,function(r,a){var o=[];e.addColumnNames&&o.push(a);for(var n=i.length,p=0;p<n;p++){var l=i[p][r];o.push(s.convertToSpecialFormat(r,l,e,!0))}t.body.push(s.getPDFDataRow(o,e,void 0,!0))},function(t,e){var r=a.indexOf(t),i=a.indexOf(e);return r>i?1:r<i?-1:0});else for(e.addColumnNames&&(t.body.push(this.getPDFDataRow(r,e,void 0,!0)),t.headerRows=1),o=i.length,n=0;n<o;n++)t.body.push(this.getPDFDataRow(i[n],e,r));return[2,this.adapter.apply("pdfmakeTable",{table:t,options:e}).table]})})},e.prototype.getPDFDataRow=function(t,e,r,i){var a=this;void 0===i&&(i=!1);var o=[];r||(r=t);var n=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return fc(r,function(r,n){var s=a.convertEmptyValue(r,t[r],e),p=i?s:a.convertToSpecialFormat(r,s,e);p=""+p,o.push(p)},function(t,e){var r=n.indexOf(t),i=n.indexOf(e);return r>i?1:r<i?-1:0}),o},e.prototype.getPageSizeFit=function(t,e,r){void 0===r&&(r=0);var i=[0,0,0,0];"number"==typeof e?i=[e,e,e,e]:2==e.length?i=[e[0],e[1],e[0],e[1]]:4==e.length&&(i=e);var a={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[t];return a[0]-=i[0]+i[2],a[1]-=i[1]+i[3]+r,a},e.prototype.getExcel=function(t,e){return Ha(this,void 0,void 0,function(){var r,i,a,o,n,s,p,l,d,h=this;return Da(this,function(u){switch(u.label){case 0:return[4,this.xlsx];case 1:if(r=u.sent(),i=this.adapter.apply("xlsxWorkbookOptions",{options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,a=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{name:this.title||this.language.translate("Data")}).name),o={SheetNames:[a],Sheets:{}},n=[],s=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,e.pivot)p=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,fc(s,function(t,r){var i=[];e.addColumnNames&&i.push(r);for(var a=h.data.length,o=0;o<a;o++){var s=h.data[o][t];i.push(h.convertToSpecialFormat(t,s,e,!0))}n.push(h.getExcelRow(i,e,void 0,!0))},function(t,e){var r=p.indexOf(t),i=p.indexOf(e);return r>i?1:r<i?-1:0});else for(e.addColumnNames&&n.push(this.getExcelRow(s,e,void 0,!0)),l=this.data.length,d=0;d<l;d++)n.push(this.getExcelRow(this.data[d],e,s));return o.Sheets[a]=r.utils.aoa_to_sheet(n),[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(t)+";base64,"+r.write(o,i),options:e}).data];}})})},e.prototype.normalizeExcelSheetName=function(t){return t=t.replace(/([:\\\/?*\[\]]+)/g," "),Qf(t,31,"...",!0)},e.prototype.getExcelRow=function(t,e,r,i){var a=this;void 0===i&&(i=!1);var o=[];r||(r=t);var n=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return fc(r,function(r,n){var s=a.convertEmptyValue(r,t[r],e),p=i?s:a.convertToSpecialFormat(r,s,e,!0);o.push(p)},function(t,e){var r=n.indexOf(t),i=n.indexOf(e);return r>i?1:r<i?-1:0}),o},e.prototype.getCSV=function(t,e){return Ha(this,void 0,void 0,function(){var r,i,a,o,n,s,p,l,d,h=this;return Da(this,function(u){if(r="",i=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,a="",o=this.data,e.pivot)n=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,fc(i,function(t,i){var n=[];e.addColumnNames&&n.push(i);for(var s=o.length,p=0;p<s;p++){var l=o[p][t];n.push(h.convertToSpecialFormat(t,l,e,!0))}r+=a+h.getCSVRow(n,e,void 0,!0),a="\n"},function(t,e){var r=n.indexOf(t),i=n.indexOf(e);return r>i?-1:r<i?1:0});else{for(s=o.length,p=0;p<s;p++)l=this.getCSVRow(o[p],e,i),e.reverse?r=l+a+r:r+=a+l,a="\n";e.addColumnNames&&(r=this.getCSVRow(i,e,void 0,!0)+a+r)}return d=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getCSV",{data:"data:"+this.getContentType(t)+";"+d+","+encodeURIComponent(r),options:e}).data]})})},e.prototype.getCSVRow=function(t,e,r,i){var a=this;void 0===i&&(i=!1);var o=e.separator||",",n=[];r||(r=t);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return fc(r,function(r,s){var p=a.convertEmptyValue(r,t[r],e),l=i?p:a.convertToSpecialFormat(r,p,e);l=(l=""+l).replace(/"/g,"\"\""),(e.forceQuotes||l.search(new RegExp("\"|\n|"+o,"g"))>=0)&&(l="\""+l+"\""),n.push(l)},function(t,e){var r=s.indexOf(t),i=s.indexOf(e);return r>i?1:r<i?-1:0}),n.join(o)},e.prototype.getHTML=function(t,e){return Ha(this,void 0,void 0,function(){var r,i,a,o,n,s,p,l=this;return Da(this,function(d){if(r="<table>",e.tableClass&&(r="<table class=\""+e.tableClass+"\">"),i=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,a=this.data,e.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,fc(i,function(t,i){var o=[];e.addColumnNames&&o.push(i);for(var n=a.length,s=0;s<n;s++){var p=a[s][t];o.push(l.convertToSpecialFormat(t,p,e,!0))}r+="\n"+l.getHTMLRow(o,e,void 0,!0)},function(t,e){var r=o.indexOf(t),i=o.indexOf(e);return r>i?-1:r<i?1:0});else for(e.addColumnNames&&(r+="\n"+this.getHTMLRow(i,e,void 0,!0,!0)),n=a.length,s=0;s<n;s++)r+="\n"+this.getHTMLRow(a[s],e,i);return r+="</table>",p=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getHTML",{data:"data:"+this.getContentType(t)+";"+p+","+encodeURIComponent(r),options:e}).data]})})},e.prototype.getHTMLRow=function(t,e,r,i,a){var o=this;void 0===i&&(i=!1),void 0===a&&(a=!1);var n="\t<tr>";e.rowClass&&(n="\t<tr class=\""+e.rowClass+"\">"),r||(r=t);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,p=a?"th":"td",l=!0;return fc(r,function(r,a){var s=o.convertEmptyValue(r,t[r],e),d=i?s:o.convertToSpecialFormat(r,s,e);d=(d=""+d).replace(/[\u00A0-\u9999<>\&]/gim,function(t){return"&#"+t.charCodeAt(0)+";"});var h=p;e.pivot&&l&&(h="th"),e.cellClass?n+="\n\t\t<"+h+" class=\""+e.cellClass+"\">"+d+"</"+h+">":n+="\n\t\t<"+h+">"+d+"</"+h+">",l=!1},function(t,e){var r=s.indexOf(t),i=s.indexOf(e);return r>i?1:r<i?-1:0}),n+="\n\t</tr>"},e.prototype.getJSON=function(t,e){return Ha(this,void 0,void 0,function(){var r,i,a,o,n,s,p,l,d=this;return Da(this,function(h){if(i=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,this._dynamicDataFields)r=this.data;else for(r=[],a=this.data,o=function(t,o){var n=a[o];if("object"==typeof n){var s={};qa(n,function(t,r){ba(i[t])&&(s[i[t]]=d.convertToSpecialFormat(t,r,e))}),r.push(s)}},n=a.length,s=0;s<n;s++)o(0,s);return p=JSON.stringify(r,function(t,r){return"object"==typeof r&&qa(r,function(t,i){r[t]=d.convertToSpecialFormat(t,i,e)}),r},e.indent),l=this.adapter.apply("charset",{charset:"charset=utf-8",type:t,options:e}).charset,[2,this.adapter.apply("getJSON",{data:"data:"+this.getContentType(t)+";"+l+","+encodeURIComponent(p),options:e}).data]})})},e.prototype.convertToSpecialFormat=function(t,e,r,i){if("number"==typeof e)if(this.isDateField(t))e=new Date(e);else{if(this.isDurationField(t))return this.durationFormatter.format(e,this.durationFormat);if(this.isNumberField(t)&&this.numberFormat)return this.numberFormatter.format(e,this.numberFormat)}return e instanceof Date?r.useTimestamps?e=e.getTime():r.useLocale?i||(e=e.toLocaleString()):e=this.dateFormatter.format(e,this.dateFormat):wa(e)&&this.isDateField(t)&&this.dateFormat&&(e=this.dateFormatter.format(this.dateFormatter.parse(e),this.dateFormat)),e},e.prototype.convertEmptyValue=function(t,e,r){return ba(e)?e:r.emptyAs},e.prototype.download=function(t,e){return Ha(this,void 0,void 0,function(){var r,i,a,o,n,s,p,l,d,h,u,c,f,m,$;return Da(this,function(g){if(this.msBlobDownloadSupport()){if(c=t.split(";"),f=c.shift().replace(/data:/,""),t=decodeURIComponent(c.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(f))return r=new Blob([t],{type:f}),window.navigator.msSaveBlob(r,e),[2,!0];try{a=atob(t),t=a}catch(y){return[2,!1]}for(s=new Array(t.length),p=0;p<t.length;++p)l=t.charCodeAt(p),s[p]=l;d=new Blob([new Uint8Array(s)],{type:f}),window.navigator.msSaveBlob(d,e)}else if(this.blobDownloadSupport()){if((i=document.createElement("a")).download=e,document.body.appendChild(i),c=t.split(";"),f=c.shift().replace(/data:/,""),t=decodeURIComponent(c.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(f))return o=new Blob([t],{type:f}),n=window.URL.createObjectURL(o),i.href=n,i.download=e,i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(n)},100),[2,!0];try{a=atob(t),t=a}catch(y){return[2,!1]}for(s=new Array(t.length),p=0;p<t.length;++p)l=t.charCodeAt(p),s[p]=l;d=new Blob([new Uint8Array(s)],{type:f}),h=window.URL.createObjectURL(d),i.href=h,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(function(){window.URL.revokeObjectURL(h)},100)}else this.linkDownloadSupport()?((u=document.createElement("a")).download=e,u.href=t,document.body.appendChild(u),u.click(),document.body.removeChild(u)):this.legacyIE()?4===(c=t.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==c[2]?c[1].match(/^image\//)&&this.showModal("<img src=\""+t+"\" style=\"float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;\" /><p>"+this.language.translate("To save the image, right-click thumbnail on the left and choose \"Save picture as...\"")+"</p><p style=\"text-align: center;\"><small>"+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(f=void 0,e.match(/\.svg$/)?f="image/svg+xml":(f="text/plain",e+=".txt"),(m=document.createElement("iframe")).width="1px",m.height="1px",m.style.display="none",document.body.appendChild(m),($=m.contentDocument).open(f,"replace"),$.write(decodeURIComponent(c[3])),$.close(),$.execCommand("SaveAs",!0,e),document.body.removeChild(m))):window.location.href=t;return[2,!0]})})},e.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},e.prototype.linkDownloadSupport=function(){var t=ca.getCache("linkDownloadSupport");if(!1===t||!0===t)return t;var e=void 0!==document.createElement("a").download;return ca.setCache("linkDownloadSupport",e),e},e.prototype.blobDownloadSupport=function(){return ba(window.Blob)},e.prototype.msBlobDownloadSupport=function(){return ba(window.navigator.msSaveOrOpenBlob)},e.prototype.legacyIE=function(){var t=document.createElement("div");return t.innerHTML="<!--[if lt IE 10]><i></i><![endif]-->",1==t.getElementsByTagName("i").length},e.prototype.print=function(t,e,r){return Ha(this,void 0,void 0,function(){return Da(this,function(i){return"css"==e.printMethod?[2,this.printViaCSS(t,e,r)]:[2,this.printViaIframe(t,e,r)]})})},e.prototype.printViaCSS=function(t,e,r){return Ha(this,void 0,void 0,function(){var i,a,o,n;return Da(this,function(s){return i=document.documentElement.scrollTop||document.body.scrollTop,a=new Ia(gg(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),r&&document&&document.title&&(o=document.title,document.title=r),(n=new Image).src=t,n.style.maxWidth="100%",n.style.display="block",n.style.position="relative",n.style.visibility="visible",n.style.opacity="1",n.style.clipPath="none",document.body.appendChild(n),this.setTimeout(function(){window.print()},50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.delay<1e3?e.delay=1e3:e.delay<100&&(e.delay=100),this.setTimeout(function(){document.body.removeChild(n),a.dispose(),o&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=i},e.delay||500),[2,!0]})})},e.prototype.printViaIframe=function(t,e,r){return Ha(this,void 0,void 0,function(){var i,a;return Da(this,function(o){return(i=document.createElement("iframe")).style.visibility="hidden",document.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),(a=new Image).src=t,a.style.maxWidth="100%",r&&(i.contentWindow.document.title=r),i.contentWindow.document.body.appendChild(a),i.load=function(){i.contentWindow.document.body.appendChild(a)},this.setTimeout(function(){try{i.contentWindow.document.execCommand("print",!1,null)||i.contentWindow.print()}catch(t){i.contentWindow.print()}},e.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.delay<1e3?e.delay=1e3:e.delay<100&&(e.delay=100),this.setTimeout(function(){document.body.removeChild(i)},e.delay+50||100),[2,!0]})})},e.prototype.findBackgroundColor=function(t){var e=1,r=eg(t,"background-color");if((r.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==r)&&(e=0),0==e){var i=t.parentElement;return i?this.findBackgroundColor(i):oa("#fff")}return oa(r,e)},Object.defineProperty(e.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(t){this._container=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(t){this._sprite=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(t){this._extraSprites=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(t){this._validateSprites=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(t){this._dataFields=t,this._dynamicDataFields=!1},enumerable:!0,configurable:!0}),e.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0)},Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new Ld,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(t){this._dateFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(t){this._dateFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new Aa),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(t){this._dateFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new kg,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(t){this._numberFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(t){this._numberFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new Aa),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(t){this._numberFields=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new lg,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(t){this._durationFormatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(t){this._durationFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new Aa),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(t){this._durationFields=t},enumerable:!0,configurable:!0}),e.prototype.generateDataFields=function(){var t=this;this._dataFields={},this.data.length&&la(this.data,function(e){qa(e,function(e,r){ba(t._dataFields[e])||(t._dataFields[e]=t.adapter.apply("dataFieldName",{name:e,field:e}).name)})})},e.prototype.isDateField=function(t){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(t),field:t}).isDateField},e.prototype.isNumberField=function(t){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(t),field:t}).isNumberField},e.prototype.isDurationField=function(t){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(t),field:t}).isDurationField},e.prototype.getContentType=function(t){var e="";switch(t){case"png":case"gif":e="image/"+t;break;case"jpg":e="image/jpeg";break;case"svg":e="image/svg+xml";break;case"csv":e="text/csv";break;case"json":e="application/json";break;case"html":e="text/html";break;case"pdf":case"pdfdata":e="application/pdf";break;case"xlsx":e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";}return this.adapter.apply("contentType",{contentType:e,type:t}).contentType},Object.defineProperty(e.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(t){this._filePrefix=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(t){this._backgroundColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),e.prototype.showPreloader=function(){var t=this.preloader;t&&(t.progress=.5,t.label.text="...")},e.prototype.hidePreloader=function(){var t=this.preloader;t&&(t.progress=1)},Object.defineProperty(e.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),e.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message)},e.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal()},Object.defineProperty(e.prototype,"language",{get:function(){return this._language||(this._language=new pc),this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return this._modal||(this._modal=new zi,this._modal.adapter.add("classPrefix",function(t){return t=Fa.classNamePrefix+t})),this._modal},enumerable:!0,configurable:!0}),e.prototype.showModal=function(t,e){this.hideModal(),this.hidePreloader();var r=this.modal;r.container=this.sprite.svgContainer.SVGContainer,r.content=t,r.readerTitle=e,r.open()},e.prototype.hideModal=function(){this._modal&&this.modal.close()},e.prototype._canvg=function(){return Ha(this,void 0,void 0,function(){var t;return Da(this,function(e){switch(e.label){case 0:return[4,(Md(),ed)([["canvg.222f8625.js","MJRU"],"MJRU"])];case 1:return null!=(t=e.sent()).default?[2,t.default]:[2,t];}})})},Object.defineProperty(e.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pdfmake",{get:function(){return null==Ni&&(Ni=xn()),Ni},enumerable:!0,configurable:!0}),e.prototype._xlsx=function(){return Ha(this,void 0,void 0,function(){return Da(this,function(t){switch(t.label){case 0:return[4,(Md(),ed)([["xlsx.413ef67c.js","WbwQ"],"WbwQ"])];case 1:return[2,t.sent()];}})})},Object.defineProperty(e.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),e.prototype.setFormatOptions=function(t,e){this._formatOptions.setKey(t,e)},e.prototype.getFormatOptions=function(t){return this._formatOptions.getKey(t)},Object.defineProperty(e.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),e.prototype._disablePointers=function(){ba(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1},e.prototype._releasePointers=function(){ba(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled)},e.prototype.hideNonExportableSprites=function(){var t=this;if(!this._objectsAlreadyHidden){var e=this.sprite.svgContainer;e&&la(e.nonExportableSprites,function(e){e.isHidden||e.isHiding||!e.visible||t._hiddenObjects.push(e),e.hide(0)}),this._objectsAlreadyHidden=!0}},e.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(la(this._hiddenObjects,function(t){t.show(0)}),this._hiddenObjects=[],this._objectsAlreadyHidden=!1)},e.prototype.awaitValidSprites=function(){return Ha(this,void 0,void 0,function(){var t;return Da(this,function(e){switch(e.label){case 0:return t=[],this.validateSprites.length&&la(this.validateSprites,function(e,r){e.invalid&&t.push(new Promise(function(t,r){e.events.once("validated",function(e){t()})}))}),t.length?[4,Promise.all(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2];}})})},e.prototype.processConfig=function(e){ca.registeredClasses.ExportMenu=ln,e&&ba(e.menu)&&!ba(e.menu.type)&&(e.menu.type="ExportMenu"),t.prototype.processConfig.call(this,e)},e.XLINK="http://www.w3.org/1999/xlink",e}(Ji);var Ua=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"];var sa=function(t){function e(){var e=t.call(this)||this;return e.properties={},e._eventDispatcher=new Jm(e),e._bindings={},e._isTemplate=!1,e._isPath=!1,e._inited=!1,e._ready=!1,e.isHiding=!1,e._isHidden=!1,e.isShowing=!1,e.isStandaloneInstance=!1,e._isActive=!1,e._mask=new bb,e._positionPrecision=3,e._language=new bb,e._exporting=new bb,e._exportable=!0,e._bbox={x:0,y:0,width:0,height:0},e.invalid=!1,e.positionInvalid=!1,e.propertyFields={},e.applyOnClones=!1,e._measuredWidthSelf=0,e._measuredHeightSelf=0,e.maxLeft=0,e.maxRight=0,e.maxTop=0,e.maxBottom=0,e.maxLeftSelf=0,e.maxRightSelf=0,e.maxTopSelf=0,e.maxBottomSelf=0,e._isDragged=!1,e._isResized=!1,e._disabled=!1,e._internalDisabled=!1,e._updateDisabled=!1,e._internalDefaultsApplied=!1,e.rollOutDelay=0,e.isBaseSprite=!1,e.shouldClone=!0,e.appeared=!1,e.ex=0,e.ey=0,e.dragWhileResize=!1,e.measureFailed=!1,e.preventShow=!1,e.cloneTooltip=!0,e.className="Sprite",e._disposers.push(e._eventDispatcher),ub(e.uid),e.group=e.paper.addGroup("g"),e.setPropertyValue("scale",1),e.setPropertyValue("rotation",0),e.setPropertyValue("align","none"),e.setPropertyValue("valign","none"),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("visible",!0),e.setPropertyValue("tooltipPosition","fixed"),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e.setPropertyValue("tooltipX",ha(50)),e.setPropertyValue("tooltipX",ha(50)),e.setPropertyValue("marginTop",0),e.setPropertyValue("marginBottom",0),e.setPropertyValue("marginLeft",0),e.setPropertyValue("marginRight",0),e.setPropertyValue("dx",0),e.setPropertyValue("dy",0),e.setPropertyValue("paddingTop",0),e.setPropertyValue("paddingBottom",0),e.setPropertyValue("paddingRight",0),e.setPropertyValue("paddingLeft",0),e.setPropertyValue("togglable",!1),e.setPropertyValue("hidden",!1),e.setPropertyValue("urlTarget","_self"),e.setPropertyValue("alwaysShowTooltip",!1),e.setPropertyValue("showTooltipOn","hover"),e._prevMeasuredWidth=0,e._prevMeasuredHeight=0,e._measuredWidth=0,e._measuredHeight=0,e._isMeasured=!0,e.invalidate(),e.applyTheme(),e._disposers.push(e.events),e._disposers.push(e.group),e._disposers.push(e._mask),e._disposers.push(e._language),e._disposers.push(e._exporting),e._disposers.push(new Ga(function(){qa(e._bindings,function(t,e){e.dispose()})})),e.setPropertyValue("interactionsEnabled",!0),e}return da(e,t),Object.defineProperty(e.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new yb(this)),this._adapterO},enumerable:!0,configurable:!0}),e.prototype.applyTheme=function(){t.prototype.applyTheme.call(this),Fa.autoSetClassName&&this.setClassName()},e.prototype.getCurrentThemes=function(){var t=this._themes;if(t)return t;var e=this._parent;return e?e.getCurrentThemes():ca.themes},e.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0},e.prototype.invalidate=function(){this.disabled||this._isTemplate||this.invalid||(this.invalid=!0,ca.addToInvalidSprites(this),xa.requestFrame())},e.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,ca.removeFromInvalidSprites(this),this.afterDraw()},e.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,ca.addToInvalidPositions(this),xa.requestFrame())},e.prototype.validatePosition=function(){var t=this.pixelX,e=this.pixelY,i=this.dx,r=this.dy,o=t+i,s=e+r;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var n=this.measure(),a=this.group.transformString;this.group.moveTo({x:o,y:s}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(a!=this.group.transformString||n)&&(null==a?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),"hit"!=this.showTooltipOn&&"always"!=this.showTooltipOn||this.updateTooltipPosition()),t+i==o&&e+r==s&&(ca.removeFromInvalidPositions(this),this.positionInvalid=!1);var p=this._maskRectangle;p&&this._clipElement.moveTo({x:p.x-t,y:p.y-e})},e.prototype.beforeDraw=function(){},e.prototype.draw=function(){},e.prototype.afterDraw=function(){var t,e;if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");else{if(this._adapterO)try{for(var i=nd(this._adapterO.keys()),r=i.next();!r.done;r=i.next()){var o=r.value;switch(o){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[o]=this[o];}}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady()}"always"==this.showTooltipOn&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip())},e.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"))},e.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate()},e.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale()},e.prototype.updateFilterScale=function(){var t=this;fa(this.filters.iterator(),function(e){e.scale=t.globalScale})},e.prototype.removeFromInvalids=function(){ca.removeFromInvalidSprites(this),ca.removeFromInvalidPositions(this)},e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),this.isMeasured=e.isMeasured,this.states.copyFrom(e.states),e.filters.length>0&&e.filters.each(function(t){i.filters.push(t.clone())}),e._adapterO&&this.adapter.copyFrom(e._adapterO),e._interaction&&this.interactions.copyFrom(e.interactions),e._plugins&&this.plugins.copyFrom(e.plugins),this.configField=e.configField,this.applyOnClones=e.applyOnClones,this.disabled=e.disabled,this.virtualParent=e.virtualParent,this.exportable=e.exportable,e._tooltip&&(this._tooltip?this._tooltip.copyFrom(e.tooltip):e.cloneTooltip?this.tooltip=e.tooltip.clone():this._tooltip=e.tooltip),this._showSystemTooltip=e.showSystemTooltip,gc(e.propertyFields,this.propertyFields),gc(e.properties,this),e.fillModifier&&(this.fillModifier=e.fillModifier.clone()),e.strokeModifier&&(this.strokeModifier=e.strokeModifier.clone())},e.prototype.dispose=function(){if(!this.isDisposed()){if("always"==this.showTooltipOn&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1}if(t.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var e=this._clones.length-1;e>=0;e--){this._clones.getIndex(e).dispose()}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var i=this.stroke;!i||i instanceof Ca||!i.dispose||this.clonedFrom&&this.clonedFrom.stroke==i||i.dispose();var r=this.fill;if(!r||r instanceof Ca||!r.dispose||this.clonedFrom&&this.clonedFrom.fill==r||r.dispose(),ba(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var o=this._filters.getIndex(0);o.dispose(),this._filters.removeValue(o)}this._alwaysShowDisposers=void 0}},Object.defineProperty(e.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(t){t=Oa(t),this._isTemplate!=t&&(this._isTemplate=t,this instanceof na&&fa(this.children.iterator(),function(e){e.isTemplate=t}),t?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSystemTooltip",{get:function(){return ba(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this._parent&&this._parent.showSystemTooltip},set:function(t){t=Oa(t),this._showSystemTooltip!=t&&(this._showSystemTooltip=t,this.applyAccessibility())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topParent",{get:function(){return this._topParent?this._topParent:this._parent?this._parent.topParent:void 0},set:function(t){this._topParent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){if(!this._isTemplate){ub(this.paper);var e=this._parent;e!=t&&(e&&e.children.removeValue(this),this._parent=t,t?(this.topParent=t.topParent,t.isTemplate&&(this.isTemplate=!0),this.baseId=t.baseId,t.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=t.tooltipContainer),this._dataItem||(this.dataItem=t.dataItem),this.handleAlwaysShowTooltip(),this.dispatchImmediately("parentset")):this.topParent=void 0)}},enumerable:!0,configurable:!0}),e.prototype.handleAlwaysShow=function(){this.showTooltip()},e.prototype.handleAlwaysShowTooltip=function(){var t=this,e=this._alwaysShowDisposers;if(e&&la(e,function(t){t.dispose()}),this._alwaysShowDisposers=[],"always"==this.showTooltipOn)for(;null!=t;){var i=t.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(i),this._alwaysShowDisposers.push(i),t=t.parent}},Object.defineProperty(e.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(t){this._virtualParent=t},enumerable:!0,configurable:!0}),e.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var t=this.fill;t&&t.element&&this.paper.appendDef(t.element);var e=this.stroke;if(e&&e.element&&this.paper.appendDef(e.element),this.fillModifier&&this.fill instanceof Ca){var i=this.fillModifier.modify(this.fill);i&&i.element&&this.paper.appendDef(i.element)}if(this.strokeModifier&&this.stroke instanceof Ca){var r=this.strokeModifier.modify(this.stroke);r&&r.element&&this.paper.appendDef(r.element)}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1)},Object.defineProperty(e.prototype,"map",{get:function(){var t=this.topParent;return t?t.map:(this._map||(this._map=new Ka),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delayedMap",{get:function(){var t=this.topParent;return t?t.delayedMap:(this._delayedMap||(this._delayedMap=new Ka),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){if(this._id!=t){if(this._id=t,this.map.hasKey(t))throw Error("Duplicate id ("+t+") used on multiple objects.");this.map.setKey(t,this),Fa.autoSetClassName&&this.setClassName()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paper",{get:function(){if(this._paper)return this._paper;var t=this._parent;return t?t.paper:Kd()},set:function(t){this.setPaper(t)},enumerable:!0,configurable:!0}),e.prototype.setPaper=function(t){return this._paper!=t&&(this._paper=t,this.appendDefs(),!0)},Object.defineProperty(e.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var t=this._parent;return t?t.htmlContainer:void 0},set:function(t){this._htmlContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters||(this._filters=new Aa,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new Ja(this._filters))),this._filters},enumerable:!0,configurable:!0}),e.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role},e.prototype.setSVGAttribute=function(t){this.group.attr(t)},e.prototype.removeSVGAttribute=function(t){this.group.removeAttr(t)},e.prototype.setClassName=function(){var t=this.className,e=Fa.classNamePrefix;this.element&&this.element.addClass(e+t),this.group.addClass(e+t+"-group"),ba(this.id)&&this.group.addClass(e+this.id),this.userClassName&&this.group.addClass(this.userClassName)},e.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},e.prototype.updateClipPath=function(){var t=this._clipElement;t&&t.moveTo({x:this.mask.pixelX,y:this.mask.pixelY})},e.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var t=ca.getUniqueId();this._clipPath.attr({id:t}),this.group.attr({"clip-path":"url(\""+Fd()+t+"\")"})}},e.prototype.applyMask=function(){var t=this.mask;if(this._clipPath&&t)if(t instanceof na){this._clipElement.attr({width:ua(0,t.pixelWidth),height:ua(0,t.pixelHeight)});var e=wb({x:t.pixelX,y:t.pixelY},t.parent,this);this._clipPath.x=e.x,this._clipPath.y=e.y}else t.element&&t.element!=this._clipElement&&(this._clipElement=t.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=t.scale,this._clipPath.x=t.pixelX,this._clipPath.y=t.pixelY,this._clipPath.rotation=t.rotation},e.prototype.applyFilters=function(){var t=this;if(this._filters&&this._filters.length>0){var e=100,i=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var r="filter-"+this.uid;this.filterElement.attr({id:r}),fa(this.filters.iterator(),function(r){r.sprite=t,r.paper=t.paper,t.filterElement.attr({filterUnits:r.filterUnits}),r.appendPrimitives(t.filterElement),r.width>e&&(e=r.width),r.height>i&&(i=r.height),r.scale=t.globalScale});var o=e+"%",s=i+"%";this.filterElement.attr({width:o,height:s,x:-(e-100)/2+"%",y:-(i-100)/2+"%"}),this.group.attr({filter:"url(\""+Fd()+r+"\")"})}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes())},e.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0)},e.prototype.setElement=function(t){this.element=t,this.setSVGAttributes(),this.applyAccessibility()},Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(t){this.removeElement(),this._element=t,this.group.add(t),t.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate(),Fa.autoSetClassName&&this.setClassName()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this._parent?this._parent.svgContainer:void 0},set:function(t){this._svgContainer=t},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else{var t=this.element.getBBox();this._bbox={x:t.x,y:t.y,width:t.width,height:t.height}}},e.prototype.updateCenter=function(){if(this.element){var t=this.element.transformString,e=this.bbox,i=0,r=0,o=e.x,s=e.y,n=e.width,a=e.height,p=this.pixelPaddingLeft,h=this.pixelPaddingRight,l=this.pixelPaddingTop,u=this.pixelPaddingBottom,c=ua(n+p+h,this.pixelWidth),d=ua(a+l+u,this.pixelHeight),m=e.x,$=e.x+c,f=e.y,y=e.y+d,g=this.horizontalCenter,P=this.verticalCenter;switch(g){case"none":i=o+p;break;case"left":i=p;break;case"middle":i=p-(n+h+p)/2;break;case"right":i=-h-n;}switch(P){case"none":r=s+l;break;case"top":r=l;break;case"middle":r=l-(a+u+l)/2;break;case"bottom":r=-u-a;}this._measuredHeight=d,this._measuredWidth=c;var b=ga(i-o,this._positionPrecision,!0),v=ga(r-s,this._positionPrecision,!0);this.ex=b-p,this.ey=v-l,this.maxLeft=m+b-p,this.maxRight=$+b-p,this.maxTop=f+v-l,this.maxBottom=y+v-l,this.pixelPerfect&&(b-=.5,v-=.5),this.element.moveTo({x:b,y:v}),t!=this.element.transformString&&this.dispatchImmediately("transformed")}},e.prototype.measure=function(){this.updateCenter();var t=this._measuredWidth,e=this._measuredHeight,i=this.maxLeft,r=this.maxRight,o=this.maxTop,s=this.maxBottom;this._measuredWidthSelf=t,this._measuredHeightSelf=e;var n=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,0!==this.rotation||1!==this.scale){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var a=this.paper.svg,p=a.createSVGMatrix(),h=this.rotation;p.a=ja(h)*this.scale,p.c=-ia(h)*this.scale,p.e=0,p.b=ia(h)*this.scale,p.d=ja(h)*this.scale,p.f=0;var l=a.createSVGPoint();l.x=i,l.y=o;var u=a.createSVGPoint();u.x=r,u.y=o;var c=a.createSVGPoint();c.x=r,c.y=s;var d=a.createSVGPoint();d.x=i,d.y=s;var m=l.matrixTransform(p),$=u.matrixTransform(p),f=c.matrixTransform(p),y=d.matrixTransform(p);i=Math.min(m.x,$.x,f.x,y.x),r=Math.max(m.x,$.x,f.x,y.x),o=Math.min(m.y,$.y,f.y,y.y),t=r-i,e=(s=Math.max(m.y,$.y,f.y,y.y))-o,this.maxLeft=ga(i,n,!0),this.maxRight=ga(r,n,!0),this.maxTop=ga(o,n,!0),this.maxBottom=ga(s,n,!0)}return this._measuredWidth=ga(t,n,!0),this._measuredHeight=ga(e,n,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||"hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.tooltip&&this.tooltip.visible&&(ba(this.tooltipText)||ba(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},e.prototype.insertBefore=function(t){var e=this._parent;if(e){var i=e.children.indexOf(t);-1!==i&&(e.children.moveValue(this,i),e.sortChildren())}return this},e.prototype.insertAfter=function(t){var e=this._parent;if(e){var i=e.children.indexOf(t);-1!==i&&(e.children.moveValue(this,i+1),e.sortChildren())}return this},e.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0)},e.prototype.getRelativeX=function(t){return t instanceof za?t.value:this._parent?t/this._parent.innerWidth:0},e.prototype.getRelativeY=function(t){return t instanceof za?t.value:this._parent?t/this._parent.innerHeight:0},e.prototype.getPixelX=function(t){var e=0;if(aa(t))e=t;else if(t instanceof za){var i=t.value;this._parent&&(e=ga(this._parent.innerWidth*i,this._positionPrecision,!0))}return e},e.prototype.getPixelY=function(t){var e=0;if(aa(t))e=t;else if(t instanceof za){var i=t.value;this._parent&&(e=ga(this._parent.innerHeight*i,this._positionPrecision,!0))}return e},e.prototype.moveTo=function(t,e,i,r){this.isDragged&&!r||(t&&(aa(t.x)&&this.setPropertyValue("x",ga(t.x,this._positionPrecision,!0)),aa(t.y)&&this.setPropertyValue("y",ga(t.y,this._positionPrecision,!0))),aa(e)&&(this.rotation=e),aa(i)&&(this.scale=i),this.invalidatePosition())},Object.defineProperty(e.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(t){var e=this;this._mask.get()!==t&&(t?(this.createClipPath(),t instanceof na?this._clipElement=this.paper.add("rect"):(t.isMeasured=!1,t.element&&(this._clipElement=t.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(t,new Pa([t.events.on("maxsizechanged",function(){e.inited&&e.applyMask()},void 0,!1),t.events.on("validated",this.applyMask,this,!1),t.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(t){t?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:t.width,height:t.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(t){(t=Oa(t))||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=t&&(this._isMeasured=t,this.invalidatePosition())},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(t){this.invalid&&this.validate(),t.invalid&&t.validate();var e=this.pixelX,i=this.pixelY,r=e+this.measuredWidth,o=i+this.measuredHeight,s=t.pixelX,n=t.pixelY,a=s+t.measuredWidth,p=n+t.measuredHeight;return!(s>r||a<e||n>o||p<i)},Object.defineProperty(e.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),e.prototype.isReady=function(){return this._ready},Object.defineProperty(e.prototype,"states",{get:function(){if(!this._states){var t=new ye;this._states=new Cd(t),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new Bc(this._states)),this._disposers.push(t)}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var t=this.states.create("hidden");t.properties.opacity=0,t.properties.visible=!1}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultState",{get:function(){this.states.getKey("default")||(this.states.create("default").properties.opacity=1);return this.states.getKey("default")},enumerable:!0,configurable:!0}),e.prototype.processState=function(t){var e=t.newValue;if(e.sprite=this,e.name=t.key,(this.states.hasKey("hover")||"hover"==this.showTooltipOn&&(ba(this.tooltipHTML)||ba(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||"hover"==this.showTooltipOn&&(ba(this.tooltipHTML)||ba(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var i=this.clones.values,r=i.length,o=0;o<r;++o){var s=i[o];s.isDisposed()||s.states.setKey(e.name,e)}},Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new bd(this._animations))),this._animations},enumerable:!0,configurable:!0}),e.prototype.getSvgPoint=function(t){try{var e=this.htmlContainer.getBoundingClientRect();return{x:t.x-e.left,y:t.y-e.top}}catch(i){return t}},e.prototype.animate=function(t,e,i){return new Ob(this,t,e,i).start()},e.prototype.setState=function(t,e,i){var r;if(t instanceof ye)this.states.setKey(t.name,t),r=t;else if(!(r=this.states.getKey(t)))return;if("hover"==r.name){if(this.isHidden)return;this.isHover=!0}return"hidden"==r.name?this.isHiding=!0:this.visible||this.setVisibility(r.properties.visible||this.defaultState.properties.visible),"active"==r.name&&(this.isActive=!0),aa(e)||(e=r.transitionDuration),ba(i)||(i=r.transitionEasing),this.transitTo(r,e,i)},e.prototype.applyCurrentState=function(t){var e=this.setState(this.defaultState,t);return this.isHover&&(e=this.setState("hover",t)),this.isDown&&this.interactions.downPointers.length&&(e=this.setState("down",t)),this.isFocused=this.isFocused,this.isActive&&(e=this.setState("active",t),this.isHover&&this.states.hasKey("hoverActive")&&(e=this.setState("hoverActive",t))),e},e.prototype.transitTo=function(t,e,i){var r,o=this,s=[],n=t.allValues;if(qa(n,function(t,e){var i=o[t];if(e!=i&&null==o.defaultState.properties[t]&&(o.defaultState.properties[t]=i),"__unset"!=e){var r={from:i,to:e,property:t};s.push(r)}}),s.length>0&&((r=this.animate(s,e,i))&&!r.isFinished()?this._disposers.push(r.events.on("animationended",function(){o.dispatchImmediately("transitionended")})):this.dispatchImmediately("transitionended")),t.filters.length>0){var a=[];fa(t.filters.iterator(),function(t){var r=t.clone();a.push(r);var s=[];fa(o.filters.iterator(),function(t){t.className==r.className&&(If(o.defaultState.filters.iterator(),function(t){return t.className===r.className})||o.defaultState.filters.push(t),qa(r.properties,function(e,i){var r=t.properties[e];r!=i&&s.push({property:e,from:r,to:i})}))}),r.animate(s,e,i)}),this.filters.clear(),this.filters.pushAll(a)}return r},e.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(e.prototype,"isHover",{get:function(){return!!this.isInteractive()&&this.interactions.isHover},set:function(t){(t=Oa(t))!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=t,t?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDown",{get:function(){return!!this.isInteractive()&&this.interactions.isDown},set:function(t){t=Oa(t),this.isInteractive()&&this.isDown!=t&&(this.interactions.isDown=t,t?this.handleDown():this.handleUp())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFocused",{get:function(){return!!this.isInteractive()&&this.interactions.isFocused},set:function(t){t=Oa(t),this.focusable&&this.isFocused!=t&&this.isInteractive()&&(this.interactions.isFocused=t,!0===t?this.handleFocus():this.handleBlur())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},set:function(t){this.setActive(t)},enumerable:!0,configurable:!0}),e.prototype.setActive=function(t){t=Oa(t),this._isActive!==t&&(this._isActive=t,t&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"))},Object.defineProperty(e.prototype,"disabled",{get:function(){var t=this.getPropertyValue("disabled");return ba(t)?t:this.virtualParent?this.virtualParent.disabled:!!this._parent&&this._parent.disabled},set:function(t){this.setDisabled(t)},enumerable:!0,configurable:!0}),e.prototype.setDisabled=function(t){if(t=Oa(t),this.getPropertyValue("disabled")!=t){if(this.setPropertyValue("disabled",t,!0),t)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else{if(this._parent){var e=this._parent.element;e.hasChild(this.group)||e.add(this.group)}this instanceof na?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled")}return this.dispatch("transformed"),xa.requestFrame(),!0}return!1},Object.defineProperty(e.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(t){this._internalDisabled!=t&&(this._internalDisabled=t,this._updateDisabled=!0,this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new kg,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(t){this._numberFormatter=t,this._numberFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new Ld,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(t){this._dateFormatter=t,this._dateFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new lg,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(t){this._durationFormatter=t,this._durationFormatter.language=this.language},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){var t=this._language.get();return t||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(t=new pc,this.language=t,t))},set:function(t){var e=this;this._language.get()!==t&&this._language.set(t,t.events.on("localechanged",function(t){if(e._numberFormatter&&(e._numberFormatter.language=e.language),e._dateFormatter&&(e._dateFormatter.language=e.language),e._durationFormatter&&(e._durationFormatter.language=e.language),e._exporting.get()){var i=e._exporting.get();i.numberFormatter.language=e.language,i.dateFormatter.language=e.language,i.durationFormatter.language=e.language,i.language=e.language}e instanceof na&&e.deepInvalidate()}))},enumerable:!0,configurable:!0}),e.prototype.populateString=function(t,e){if(ba(t)){t=yf(t);var i=(t=ic().escape(t)).match(/\{([^}]+)\}/g),r=void 0;if(i)for(r=0;r<i.length;r++){var o=i[r].replace(/\{([^}]+)\}/,"$1"),s=this.getTagValue(o,"",e);ba(s)||(s=""),t=t.split(i[r]).join(s)}t=ic().unescape(t)}else t="";return this._adapterO?this._adapterO.apply("populateString",t):t},e.prototype.getTagValue=function(t,e,i){var r;ba(i)||(i=this.dataItem);for(var o,s=[],n=/([^.]+)\(([^)]*)\)|([^.]+)/g;null!==(o=n.exec(t));)if(o[3])s.push({prop:o[3]});else{var a=[];if(""!=ai(o[2]))for(var p=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,h=void 0;null!==(h=p.exec(o[2]));)a.push(h[1]||h[2]||h[3]);s.push({method:o[1],params:a})}if(i){r=this.getTagValueFromObject(s,i.values),ba(r)&&!Qa(r)||(r=this.getTagValueFromObject(s,i));var l=i.dataContext;!ba(r)&&l&&(r=this.getTagValueFromObject(s,i.dataContext),!ba(r)&&l.dataContext&&(r=this.getTagValueFromObject(s,l.dataContext))),!ba(r)&&i.component&&i.component.dataItem!==i&&(r=i.component.getTagValue(t,e))}return ba(r)||(r=this.getTagValueFromObject(s,this.populateStringFrom||this)),!ba(r)&&this._parent&&(r=this._parent.getTagValue(t,e)),r},e.prototype.getTagValueFromObject=function(t,e,i){for(var r=e,o=!1,s=0,n=t.length;s<n;s++){var a=t[s];if(a.prop){if(r=r[a.prop],!ba(r))return}else switch(a.method){case"formatNumber":var p=Tf(r);ba(p)&&(r=this.numberFormatter.format(p,i||a.params[0]||void 0),o=!0);break;case"formatDate":var h=void 0;if(h=wa(r)?this.dateFormatter.parse(r):ci(r),!wd(h)||nb(h.getTime()))return;ba(h)&&(r=this.dateFormatter.format(h,i||a.params[0]||void 0),o=!0);break;case"formatDuration":var l=Tf(r);ba(l)&&(r=this.durationFormatter.format(l,i||a.params[0]||void 0,a.params[1]||void 0),o=!0);break;case"urlEncode":case"encodeURIComponent":r=encodeURIComponent(r);break;default:r[a.method]&&r[a.method].apply(this,a.params);}}if(!o){var u=[{method:"",params:i}];if(ba(i)){var c=Zl(i);c===te?u[0].method="formatNumber":c===ue?u[0].method="formatDate":c===Zf&&(u[0].method="formatDuration")}else aa(r)?(u[0].method="formatNumber",u[0].params=""):wd(r)&&(u[0].method="formatDate",u[0].params="");u[0].method&&(r=this.getTagValueFromObject(u,r))}return r},Object.defineProperty(e.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(t){this.setDataItem(t)},enumerable:!0,configurable:!0}),e.prototype.setDataItem=function(t){var e=this;if(this._dataItem!=t){if(this._dataItem=t,t){if(this.configField){var i=t.dataContext;i&&(this.config=i[this.configField],!this.config&&i.dataContext&&(this.config=i.dataContext[this.configField]))}var r=t.dataContext;if(r){var o=r.dataContext;qa(this.propertyFields,function(t,i){if(ba(r[i]))e[t]=r[i];else if(o){var s=o[i];if(ba(s))e[t]=s}})}}this.invalidate()}},e.prototype.getPropertyValue=function(t){var e=this.properties[t];return this._isTemplate||this._adapterO&&(e=this._adapterO.apply(t,e)),e},e.prototype.setColorProperty=function(t,e,i){var r=this.properties[t];return!(e instanceof Ca&&r instanceof Ca&&e.toString()==r.toString())&&this.setPropertyValue(t,e,i)},e.prototype.setPercentProperty=function(t,e,i,r,o,s){if(e=kl(e),aa(e))return e=ga(e,o,s),this.setPropertyValue(t,e,i,r);var n=this.properties[t];return!(e instanceof za&&n instanceof za&&e.value==n.value)&&this.setPropertyValue(t,e,i,r)},e.prototype.setPropertyValue=function(t,e,i,r){if(this.properties[t]!==e&&!this.isDisposed()){if(this.properties[t]=e,this.events.isEnabled("propertychanged")){var o={type:"propertychanged",target:this,property:t};this.events.dispatchImmediately("propertychanged",o)}if(i&&this.invalidate(),r&&this.invalidatePosition(),this.applyOnClones)for(var s=this.clones.values,n=s.length,a=0;a<n;++a){var p=s[a];p.isDisposed()||(p[t]=e)}return!0}return!1},e.prototype.bind=function(t,e,i,r){var o=this;void 0===i&&(i=t),ba(this._bindings[t])&&this._bindings[t].dispose(),this[t]=e[i],this._bindings[t]=e.events.on("propertychanged",function(s){if(s.property===i){var n=e[i];r&&(n=r(n)),o[t]=n}})},e.prototype.observe=function(t,e,i,r){var o=this;return new Pa(ud(Bh(t),function(t){return o.events.on("propertychanged",function(r){r.property===t&&e.call(i,r)},i,r)}))},e.prototype.applyAccessibility=function(){var t=this.readerTitle,e=this.readerDescription,i=this.role,r=this.readerHidden,o=this.readerChecked,s=this.readerControls,n=this.readerLive,a=this.readerOrientation,p=this.readerValueNow,h=this.readerValueText,l=[],u=[],c=this.readerLabelledBy;c&&l.push(c);var d=this.readerDescribedBy;if(d&&u.push(d),!this.showSystemTooltip&&t&&(e=e?t+" -- "+e:t,t=void 0),!t||e||this.showSystemTooltip){if(t){var m=this.titleElement,$=this.uid+"-title";m.node.textContent!=t&&(m.node.textContent=t,m.attr({id:$})),l.push($)}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);var f=this.uid+"-description";if(e){var y=this.descriptionElement;y.node.textContent!=e&&(y.node.textContent=e,y.attr({id:f})),u.push(f)}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0,pa(u,f))}else this.setSVGAttribute({"aria-label":t}),this.removeSVGAttribute("aria-description"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);l.length?this.setSVGAttribute({"aria-labelledby":l.join(" ")}):this.removeSVGAttribute("aria-labelledby"),u.length?this.setSVGAttribute({"aria-describedby":u.join(" ")}):this.removeSVGAttribute("aria-describedby"),i?this.setSVGAttribute({role:i}):this.removeSVGAttribute("role"),r?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),o?this.setSVGAttribute({"aria-checked":"true"}):!1===o?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),s?this.setSVGAttribute({"aria-controls":s}):this.removeSVGAttribute("aria-controls"),n?this.setSVGAttribute({"aria-live":n}):this.removeSVGAttribute("aria-live"),a?this.setSVGAttribute({"aria-orientation":a}):this.removeSVGAttribute("aria-orientation"),p?this.setSVGAttribute({"aria-valuenow":p}):this.removeSVGAttribute("aria-valuenow"),h?this.setSVGAttribute({"aria-valuetext":h}):this.removeSVGAttribute("aria-valuetext")},Object.defineProperty(e.prototype,"readerTitle",{get:function(){var t=this.getPropertyValue("readerTitle");return ba(t)&&this.dataItem?this.populateString(t):t},set:function(t){t=kb(t),this.setPropertyValue("readerTitle",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerDescription",{get:function(){return this.getPropertyValue("readerDescription")},set:function(t){t=kb(t),this.setPropertyValue("readerDescription",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(t){t=kb(t),this.setPropertyValue("role",t)&&(this.applyAccessibility(),"slider"==t&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(t){t=Oa(t),this.setPropertyValue("readerHidden",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(t){t=Oa(t),this.setPropertyValue("readerChecked",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(t){t=kb(t),this.setPropertyValue("readerControls",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(t){t=kb(t),this.setPropertyValue("readerLive",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(t){t=kb(t),this.setPropertyValue("readerLabelledBy",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(t){t=kb(t),this.setPropertyValue("readerDescribedBy",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(t){t=kb(t),this.setPropertyValue("readerOrientation",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(t){t=kb(t),this.setPropertyValue("readerValueNow",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(t){t=kb(t),this.setPropertyValue("readerValueText",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactions",{get:function(){if(!this._interaction){var t=ra().getInteraction(this.dom);this._interaction=t,this._interaction.clickable=this.clickable,this._interaction.hoverable=this.hoverable,this._interaction.trackable=this.trackable,this._interaction.draggable=this.draggable,this._interaction.swipeable=this.swipeable,this._interaction.resizable=this.resizable,this._interaction.wheelable=this.wheelable,this._interaction.contextMenuDisabled=this.contextMenuDisabled,this._interaction.inert=this.inert,this._interaction.sprite=this,this._disposers.push(this._interaction)}return this._interaction},enumerable:!0,configurable:!0}),e.prototype.isInteractive=function(){return!!this._interaction},Object.defineProperty(e.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(t){var e=this;t=Oa(t),this.setPropertyValue("focusable",t)&&(t||this.isInteractive())&&(this.interactions.focusable=t,t?(this.setSVGAttribute({focusable:t}),this._tabindex||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",t,function(){return new Pa([e.events.on("blur",e.handleBlur,e,!1),e.events.on("focus",e.handleFocus,e,!1)])}))},enumerable:!0,configurable:!0}),e.prototype.handleFocus=function(t){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()))},e.prototype.handleBlur=function(t){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()))},Object.defineProperty(e.prototype,"focusFilter",{get:function(){var t=this._focusFilter;return t||(this.virtualParent?this.virtualParent.focusFilter:this._parent?this._parent.focusFilter:void 0)},set:function(t){this._focusFilter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(t){t!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindex",{get:function(){var t=this._tabindex;return null!=t?t:this.virtualParent?this.virtualParent.tabindex:this._parent?this._parent.tabindex:void 0},set:function(t){t=La(t),this.setPropertyValue("tabindex",t)&&aa(t)&&(this.interactions.tabindex=t,this.setSVGAttribute({tabindex:t}),this._tabindex=t,this.focusable=t>-1||void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inertiaOptions",{get:function(){return!this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(t){var e=this;t=Oa(t),this.setPropertyValue("draggable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.draggable=t,this.interactions.setEventDisposer("sprite-draggable",t,function(){return new Pa([e.events.on("down",e.handleDown,e,!1),e.events.on("dragstart",e.handleDragStart,e,!1),e.events.on("drag",e.handleDragMove,e,!1),e.events.on("dragstop",e.handleDragStop,e,!1)])}))},enumerable:!0,configurable:!0}),e.prototype.handleDragStart=function(t){this.interactions.isTouchProtected&&t.touch||(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0))},e.prototype.dragStart=function(t){this._isDragged=!0,ra().dragStart(this.interactions,t)},e.prototype.handleDragStop=function(t){this.interactions.isTouchProtected&&t.touch||(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0)},e.prototype.dragStop=function(t,e){this._isDragged=!1,ra().dragStop(this.interactions,t,e)},e.prototype.handleDragMove=function(t){if(!this.interactions.isTouchProtected||!t.touch){var e=this.interactions.originalPosition;if(e&&this._isDragged){var i=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:e.x+t.shift.x/i,y:e.y+t.shift.y/i},void 0,void 0,!0)}this.dispatchImmediately("dragged",t)}},Object.defineProperty(e.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(t){t=Oa(t),this.setPropertyValue("inert",t)&&(t||this.isInteractive())&&(this.interactions.inert=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(t){var e=this;t=Oa(t),this.setPropertyValue("hoverable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.hoverable=t,this.interactions.setEventDisposer("sprite-hoverable",t,function(){return new Pa([e.events.on("over",e.handleOver,e,!1),e.events.on("out",e.handleOut,e,!1)])}))},enumerable:!0,configurable:!0}),e.prototype.handleOver=function(t){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var e=void 0;t&&t.pointer&&(e=nc(t.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),"hover"==this.showTooltipOn&&this.showTooltip(e)}else"hover"==this.showTooltipOn&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState()},e.prototype.handleOut=function(t){var e=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout(function(){e.tooltip.isHover||(e.tooltip.targetSprite==e&&e.hideTooltip(),e._outTimeout=e.setTimeout(e.handleOutReal.bind(e),e.rollOutDelay))},10):("hover"==this.showTooltipOn&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay))},e.prototype.handleOutReal=function(){this.isHidden||this.isHiding||!this.states.hasKey("hover")||this.applyCurrentState()},Object.defineProperty(e.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),e.prototype.handleDown=function(t){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"))},e.prototype.handleUp=function(t){var e=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),"hit"==this.showTooltipOn&&(this.updateTooltipPosition(t.pointer.point),this._disposers.push(ca.events.once("exitframe",function(){e.showTooltip()})),this._disposers.push(ra().body.events.once("down",function(t){e.hideTooltip()})))},Object.defineProperty(e.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(t){var e=this;t=Oa(t),this.setPropertyValue("clickable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.clickable=t,this.interactions.setEventDisposer("sprite-clickable",t,function(){return new Pa([e.events.on("down",e.handleDown,e,!1),e.events.on("up",e.handleUp,e,!1)])}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(t){var e=this;t=Oa(t),this.setPropertyValue("togglable",t)&&(t||this.isInteractive())&&this.interactions.setEventDisposer("sprite-togglable",t,function(){return e.events.on("hit",e.handleToggle,e,!1)})},enumerable:!0,configurable:!0}),e.prototype.handleToggle=function(t){this.isActive=!this.isActive},Object.defineProperty(e.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(t){t=Oa(t),this.setPropertyValue("contextMenuDisabled",t)&&(this.interactions.contextMenuDisabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(t){this.setPropertyValue("url",t)&&(this._urlDisposer&&this._urlDisposer.dispose(),oe(t)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=fb.pointer))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseId",{get:function(){return!this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(t){this.setBaseId(t)},enumerable:!0,configurable:!0}),e.prototype.setBaseId=function(t){t!=this._baseId&&(this.invalid&&(this.invalid=!1,ca.removeFromInvalidSprites(this),this.invalidate()),this._baseId=t)},Object.defineProperty(e.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this._parent?this._parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(t){this.setPropertyValue("urlTarget",t)},enumerable:!0,configurable:!0}),e.prototype.urlHandler=function(t){if(oe(this.url)){var e=this.populateString(this.url);"_self"===this.urlTarget?window.location.href=e:window.open(e,this.urlTarget)}},Object.defineProperty(e.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(t){t=Oa(t),this.setPropertyValue("swipeable",t)&&(this.applyCursorStyle(),(t||this.isInteractive())&&(this.interactions.swipeable=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(t){t=Oa(t),this.setPropertyValue("trackable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.trackable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(t){this.setPropertyValue("wheelable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.wheelable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(t){var e=this;t=Oa(t),this.setPropertyValue("resizable",t)&&(t||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.resizable=t,this.interactions.setEventDisposer("sprite-resizable",t,function(){return new Pa([e.events.on("down",e.handleDown,e,!1),e.events.on("resize",e.handleResize,e,!1)])}))},enumerable:!0,configurable:!0}),e.prototype.handleResize=function(t){if((!this.interactions.isTouchProtected||!t.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*t.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var e=nc(t.point1,this.htmlContainer,this.svgContainer.cssScale),i=nc(t.point2,this.htmlContainer,this.svgContainer.cssScale),r=fe(e,i),o=_c(t.startPoint1,this._parent),s=_c(t.startPoint2,this._parent),n=this.interactions.originalPosition,a=this.interactions.originalScale;if(n){var p={x:(o.x-n.x)/a,y:(o.y-n.y)/a},h={x:(s.x-n.x)/a,y:(s.y-n.y)/a},l=fe(p,h),u=Nb(r,this._parent);this.moveTo({x:u.x-l.x*this.scale,y:u.y-l.y*this.scale},void 0,void 0,!0)}}},Object.defineProperty(e.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorOverStyle",{set:function(t){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=t,ra().applyCursorOverStyle(this.interactions)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorDownStyle",{set:function(t){this.cursorOptions.downStyle=t},enumerable:!0,configurable:!0}),e.prototype.applyCursorStyle=function(){},Object.defineProperty(e.prototype,"interactionsEnabled",{get:function(){return!1!==this.getPropertyValue("interactionsEnabled")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this._parent||this._parent.interactionsEnabled)},set:function(t){if(t=Oa(t),this.setPropertyValue("interactionsEnabled",t)){var e=null;t?this.group.node.style.pointerEvents="":e="none",this.group.node.style.pointerEvents=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exporting",{get:function(){return this.getExporting()},set:function(t){this._exporting.set(t,t)},enumerable:!0,configurable:!0}),e.prototype.getExporting=function(){var t=this._exporting.get();return t||(!this.isStandaloneInstance&&this._parent?this._parent.exporting:((t=new Cn(this.svgContainer.SVGContainer)).sprite=this,t.language=this.language,t.numberFormatter=this.numberFormatter,t.dateFormatter=this.dateFormatter,t.durationFormatter=this.durationFormatter,this._exporting.set(t,t),t))},Object.defineProperty(e.prototype,"exportable",{get:function(){return this._exportable},set:function(t){var e=this.svgContainer;this._exportable=t,e&&(t?pa(e.nonExportableSprites,this):-1==Mb(e.nonExportableSprites,this)&&e.nonExportableSprites.push(this))},enumerable:!0,configurable:!0}),e.prototype.modalPrefix=function(t){return t=Fa.classNamePrefix+t},Object.defineProperty(e.prototype,"modal",{get:function(){var t=this.svgContainer;if(t){var e=t.modal;return e.adapter.has("classPrefix",this.modalPrefix)||e.adapter.add("classPrefix",this.modalPrefix),e}},enumerable:!0,configurable:!0}),e.prototype.openModal=function(t,e){var i=this.svgContainer;if(i)return i.openModal(t,e)},e.prototype.closeModal=function(){var t=this.svgContainer;t&&t.closeModal()},Object.defineProperty(e.prototype,"popups",{get:function(){var t=this.svgContainer;if(t){var e=t.popups;return e.template.sprite=this,e.template.adapter.has("classPrefix",this.modalPrefix)||e.template.adapter.add("classPrefix",this.modalPrefix),e}},enumerable:!0,configurable:!0}),e.prototype.openPopup=function(t,e){var i=this.svgContainer;if(i)return i.openPopup(t,e)},e.prototype.closeAllPopups=function(){var t=this.svgContainer;t&&t.closeAllPopups()},Object.defineProperty(e.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(t){this.isDragged||this.setPercentProperty("x",t,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelX",{get:function(){var t=ma(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(t){aa(t)&&(t=ga(t,this._positionPrecision,!0),this.setPropertyValue("minX",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(t){aa(t)&&(t=ga(t,this._positionPrecision,!0),this.setPropertyValue("maxX",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(t){this.isDragged||this.setPercentProperty("y",t,!1,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelY",{get:function(){var t=ma(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(t){aa(t)&&(t=ga(t,this._positionPrecision,!0),this.setPropertyValue("minY",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(t){aa(t)&&(t=ga(t,this._positionPrecision,!0),this.setPropertyValue("maxY",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(t){aa(t)&&(t=ga(t,this._positionPrecision,!0),this.setPropertyValue("dx",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(t){aa(t)&&(t=ga(t,this._positionPrecision,!0),this.setPropertyValue("dy",t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(t){t=La(t),aa(t)||(t=0),this.setPropertyValue("rotation",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(t){t=kb(t),this.setPropertyValue("align",t)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(t){t=kb(t),this.setPropertyValue("valign",t)&&this._parent&&this._parent.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(t){t=kb(t),this.setPropertyValue("horizontalCenter",t)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(t){t=kb(t),this.setPropertyValue("verticalCenter",t)&&this.updateCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){var t=this.getPropertyValue("maxWidth");if(!aa(t)&&this._parent){var e=this._parent.maxWidth;return"absolute"!=this._parent.layout&&"none"!=this.align&&null!=this.align&&(e=e-this.pixelMarginLeft-this.pixelMarginRight),e}return t},set:function(t){this.setMaxWidth(t)},enumerable:!0,configurable:!0}),e.prototype.setMaxWidth=function(t){var e=this.maxWidth,i=this.maxHeight;if(this.setPropertyValue("maxWidth",t)){aa(this.relativeWidth)&&this.invalidate();var r={type:"maxsizechanged",target:this,previousWidth:e,previousHeight:i};this.dispatchImmediately("maxsizechanged",r)}},Object.defineProperty(e.prototype,"maxHeight",{get:function(){var t=this.getPropertyValue("maxHeight");if(!aa(t)&&this._parent){var e=this._parent.maxHeight;return"absolute"!=this._parent.layout&&"none"!=this.valign&&null!=this.valign&&(e=e-this.pixelMarginTop-this.pixelMarginBottom),e}return t},set:function(t){this.setMaxHeight(t)},enumerable:!0,configurable:!0}),e.prototype.setMaxHeight=function(t){var e=this.maxWidth,i=this.maxHeight;if(this.setPropertyValue("maxHeight",t)){aa(this.relativeHeight)&&this.invalidate();var r={type:"maxsizechanged",target:this,previousWidth:e,previousHeight:i};this.dispatchImmediately("maxsizechanged",r)}},Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(t){this.setPropertyValue("minWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(t){this.setPropertyValue("minHeight",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(t){this.setPercentProperty("width",t,!0,!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,t instanceof za?(this.percentWidth=t.percent,aa(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(t),this.maxWidth=this._pixelWidth),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(t){this.setPercentProperty("height",t,!0,!1,this._positionPrecision,!0)&&(this.percentHeight=void 0,this._relativeHeight=void 0,t instanceof za?(this.percentHeight=t.percent,aa(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(t),this.maxHeight=this._pixelHeight),this.invalidatePosition())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelWidth",{get:function(){var t;t=aa(this.percentWidth)?this.maxWidth:aa(this._pixelWidth)?this._pixelWidth:0;var e=this.minWidth;null!=e&&t<e&&(t=e);var i=ga(t,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelHeight",{get:function(){var t;t=aa(this.percentHeight)?this.maxHeight:aa(this._pixelHeight)?this._pixelHeight:0;var e=this.minHeight;null!=e&&t<e&&(t=e);var i=ga(t,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeWidth",{get:function(){var t=this._relativeWidth;if(aa(t))return this._adapterO?this._adapterO.apply("relativeWidth",t):t},set:function(t){this._relativeWidth!=t&&(this._relativeWidth=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeHeight",{get:function(){var t=this._relativeHeight;if(aa(t))return this._adapterO?this._adapterO.apply("relativeHeight",t):t},set:function(t){this._relativeHeight!=t&&(this._relativeHeight=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outerWidth",{get:function(){var t=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outerHeight",{get:function(){var t=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerWidth",{get:function(){var t=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerHeight",{get:function(){var t=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"globalScale",{get:function(){var t=this.scale;return this._parent&&(t*=this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(t){(t=La(t))<0&&(t=0),t!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",t,!1,!0),this.handleGlobalScale())},enumerable:!0,configurable:!0}),e.prototype.margin=function(t,e,i,r){return this.marginTop=t,this.marginRight=e,this.marginBottom=i,this.marginLeft=r,this},Object.defineProperty(e.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(t){this.setPercentProperty("marginLeft",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(t){this.setPercentProperty("marginRight",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(t){this.setPercentProperty("marginTop",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(t){this.setPercentProperty("marginBottom",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginRight",{get:function(){var t=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginRight",{get:function(){var t=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginLeft",{get:function(){var t=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginLeft",{get:function(){var t=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginTop",{get:function(){var t=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginTop",{get:function(){var t=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelMarginBottom",{get:function(){var t=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",t):t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeMarginBottom",{get:function(){var t=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",t):t},enumerable:!0,configurable:!0}),e.prototype.padding=function(t,e,i,r){return this.paddingTop=t,this.paddingRight=e,this.paddingBottom=i,this.paddingLeft=r,this},Object.defineProperty(e.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(t){this.setPercentProperty("paddingLeft",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(t){this.setPercentProperty("paddingRight",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(t){this.setPercentProperty("paddingTop",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(t){this.setPercentProperty("paddingBottom",t,!0,!0,this._positionPrecision,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(t){this.setPath(t)},enumerable:!0,configurable:!0}),e.prototype.setPath=function(t){return!!this.setPropertyValue("path",t)&&(this._adapterO&&(t=this._adapterO.apply("path",t)),this._isPath||(this.element&&(!this.element.node||this.element.node instanceof SVGPathElement)||(this.element=this.paper.add("path")),this._isPath=!0),ba(t)?this.element.attr({d:t}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(e.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(t){this.setPropertyValue("fillModifier",t)&&this.setFill(this.fill)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(t){this.setPropertyValue("strokeModifier",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(t){t=Af(t,0,1),this.setPropertyValue("fillOpacity",t)&&this.setSVGAttribute({"fill-opacity":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(t){this.setFill(t)},enumerable:!0,configurable:!0}),e.prototype.setFill=function(t){if(Qa(t)||(t=Ib(t)),this.setColorProperty("fill",t)||this.fillModifier)if(t instanceof Ca&&this.fillModifier&&(t=this.fillModifier.modify(t)),this.realFill=t,t instanceof Ca)this.setSVGAttribute({fill:t.toString()});else if(ba(t)){if(t instanceof dd||t instanceof Kb||t instanceof oc){var e=t;e.paper=this.paper,this.setSVGAttribute({fill:"url(\""+Fd()+e.id+"\")"})}}else this.removeSVGAttribute("fill")},Object.defineProperty(e.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(t){t=Af(t,0,1),this.setPropertyValue("opacity",t)&&this.setSVGAttribute({opacity:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(t){this.setStroke(t)},enumerable:!0,configurable:!0}),e.prototype.setStroke=function(t){if(Qa(t)||(t=Ib(t)),this.setColorProperty("stroke",t)||this.strokeModifier)if(t instanceof Ca&&this.strokeModifier&&(t=this.strokeModifier.modify(t)),this.realStroke=t,t instanceof Ca)"none"==t.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:t.toString()});else if(ba(t)){if(t instanceof dd||t instanceof Kb||t instanceof oc){var e=t;e.paper=this.paper,this.setSVGAttribute({stroke:"url(\""+Fd()+e.id+"\")"})}}else this.removeSVGAttribute("stroke")},Object.defineProperty(e.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(t){t=Af(t,0,1),this.setPropertyValue("strokeOpacity",t)&&this.setSVGAttribute({"stroke-opacity":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(t){t=Oa(t),this.setPropertyValue("nonScalingStroke",t)&&(this.strokeWidth=this.strokeWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(t){t=Oa(t),this.setPropertyValue("nonScaling",t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(t){t=La(t),this.setPropertyValue("strokeWidth",t,!0),this.nonScalingStroke&&(aa(t)||(t=1),t/=this.globalScale),this.setSVGAttribute({"stroke-width":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(t){t=kb(t),this.setPropertyValue("strokeDasharray",t)&&this.setSVGAttribute({"stroke-dasharray":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(t){t=La(t),this.setPropertyValue("strokeDashoffset",t)&&this.setSVGAttribute({"stroke-dashoffset":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(t){this.setPropertyValue("strokeLinecap",t)&&this.setSVGAttribute({"stroke-linecap":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(t){this.setPropertyValue("strokeLinejoin",t)&&this.setSVGAttribute({"stroke-linejoin":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(t){t=kb(t),this.setPropertyValue("shapeRendering",t)&&this.setSVGAttribute({"shape-rendering":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(t){t=Oa(t),this._positionPrecision=t?0:3,this.setPropertyValue("pixelPerfect",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rtl",{get:function(){return ba(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(t){t=Oa(t),this.isBaseSprite&&(this.topParent.rtl=t),this._rtl=t},enumerable:!0,configurable:!0}),e.prototype.show=function(t){return this.showReal(t)},e.prototype.showReal=function(t){var e=this;if(!this.preventShow){var i,r=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=r.opacity&&this.opacity<r.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),aa(t)||(t=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,(i=this.applyCurrentState(t))&&!i.isFinished()?(this._showHideDisposer=i.events.on("animationended",function(){e.isShowing=!1}),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var o=this.defaultState.properties.visible;ba(o)||(o=!0),this.visible=o,this.readerHidden=!1,this.dispatchImmediately("shown")}return i}},e.prototype.hide=function(t){return this.hideReal(t)},e.prototype.hideReal=function(t){var e,i=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var r=this.hiddenState;r?(e=this.setState(r,t,void 0))&&!e.isFinished()?(this._hideAnimation=e,this._showHideDisposer=e.events.on("animationended",function(){i.isHiding=!1,i._isHidden=!0},this),this._disposers.push(this._showHideDisposer),this._disposers.push(e)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate()}return aa(t)||(t=this.hiddenState.transitionDuration),e},Object.defineProperty(e.prototype,"visible",{get:function(){return this.getVisibility()},set:function(t){t=Oa(t),this.setVisibility(t)},enumerable:!0,configurable:!0}),e.prototype.getVisibility=function(){var t=this.getPropertyValue("visible");return ba(t)||(t=!0),t},e.prototype.setVisibility=function(t){if(this.setPropertyValue("visible",t)&&(t?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var e={type:"visibilitychanged",target:this,visible:t};this.events.dispatchImmediately("visibilitychanged",e)}},Object.defineProperty(e.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(t){t=La(t),this.setPropertyValue("zIndex",t)&&this.dispatch("zIndexChanged")},enumerable:!0,configurable:!0}),e.prototype.toFront=function(){var t=this._parent;t&&t.children.indexOf(this)!=t.children.length-1&&(t.children.moveValue(this,t.children.length-1),this.dispatch("zIndexChanged"))},e.prototype.toBack=function(){var t=this._parent;t&&0!=t.children.indexOf(this)&&(t.children.moveValue(this,0),this.dispatch("zIndexChanged"))},Object.defineProperty(e.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(t){this.setPropertyValue("userClassName",t)&&(!t&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this._parent?this._parent.tooltip:void 0},set:function(t){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=t,t&&(t.parent=this.tooltipContainer)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipDataItem",{get:function(){var t=this._tooltipDataItem;return t||this.dataItem},set:function(t){this._tooltipDataItem=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(t){this._tooltipColorSource=t},enumerable:!0,configurable:!0}),e.prototype.showTooltip=function(t){"always"==this.showTooltipOn&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!t&&"pointer"==this.tooltipPosition&&this.isHover&&(t=nc(ra().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var e=this;null!=e;){if(!e.visible||e.disabled||e.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));e=e.parent}if(ba(this.tooltipText)||ba(this.tooltipHTML)){var i=this.tooltip,r=this.tooltipDataItem;if(i){i.targetSprite=this;var o=this,s=this.tooltipColorSource;if((i.getStrokeFromObject||i.getFillFromObject)&&s&&(s.isTemplate?r&&xf(r.sprites,function(t){return t.clonedFrom!=s||(o=t,!1)}):o=s),i.getStrokeFromObject){for(var n=this.stroke,a=o;null!=a.parent&&(null==(n=a.stroke)&&(a=a.parent),null==n););n instanceof Ca?i.background.animate({property:"stroke",to:n},i.animationDuration):i.background.stroke=n}if(i.dataItem=r,i.label.populateStringFrom=this,i.getFillFromObject){var p=this.fill;for(a=o;null!=a.parent;)if(null==(p=a.fill)||p instanceof Ca&&null==p.rgb)a=a.parent;else if(null!=p)break;null==p&&(p=oa("#000000")),p instanceof Ca&&i.visible?i.background.animate({property:"fill",to:p},i.animationDuration):i.background.fill=p,i.autoTextColor&&p instanceof Ca&&(i.label.fill=p.alternative)}var h="";if(this.tooltipHTML&&(i.html=this.tooltipHTML,h=this.tooltipHTML),this.tooltipText&&(i.text=this.tooltipText,h=this.tooltipText),this.updateTooltipPosition(t)){if(i.readerDescribedBy=this.uidAttr(),i.label.invalid&&i.label.validate(),null!=h&&""!=h&&""!=i.label.currentText){i&&!i.parent&&(i.parent=this.tooltipContainer);var l=i.defaultState.transitionDuration;return l<=0&&(l=1),i.show(l),i.currentSprite=this,!0}this.hideTooltip(0)}else this.hideTooltip(0)}}return!1},e.prototype.updateTooltipPosition=function(t){var e=this;if("pointer"!=this.tooltipPosition){var i=Jb({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(i)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=ra().body.events.on("track",function(t){return e.pointTooltipTo(nc(t.point,e.svgContainer.SVGContainer,e.svgContainer.cssScale),!0)}),t)return this.pointTooltipTo(t,!0)},e.prototype.pointTooltipTo=function(t,e){var i=this.tooltip;if(i&&this.topParent){if(i.showInViewport)return i.pointTo(t,e),!0;if(Kh(t,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))return i.pointTo(t,e),!0}return!1},e.prototype.hideTooltip=function(t){if("always"!=this.showTooltipOn){var e=this.tooltip;e&&(e.targetSprite==this&&(e.targetSprite=void 0),e.hide(t),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0))}},Object.defineProperty(e.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(t){t=kb(t),this.hoverable=!0,this.setPropertyValue("tooltipHTML",t)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(t){(t=kb(t))&&(this.hoverable=!0),this.setPropertyValue("tooltipText",t)&&this.tooltip&&this.tooltip.visible&&this.showTooltip()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipContainer",{get:function(){return this._tooltipContainer?this._tooltipContainer:this._parent?this._parent.tooltipContainer:void 0},set:function(t){this._tooltipContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(t){this.setPercentProperty("tooltipX",t)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysShowTooltip",{get:function(){return"always"==this.getPropertyValue("showTooltipOn")},set:function(t){(t=Oa(t))&&(this.showTooltipOn="always")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(t){this.setPropertyValue("showTooltipOn",t)&&("hit"==t&&(this.clickable=!0),this.tooltip&&("always"==t?this.showTooltip():this.handleAlwaysShowTooltip()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(t){this.setPropertyValue("tooltipPosition",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(t){this.setPercentProperty("tooltipY",t)&&this.tooltip&&this.tooltip.invalidate()},enumerable:!0,configurable:!0}),e.prototype.getTooltipX=function(){var t,e=this.getPropertyValue("tooltipX");return ba(e)||(e=ha(50)),aa(e)&&(t=e),e instanceof za&&(t=this.maxLeftSelf+this._measuredWidthSelf*e.value-this.pixelPaddingLeft-this.ex),aa(t)||(t=0),t},e.prototype.getTooltipY=function(){var t,e=this.getPropertyValue("tooltipY");return ba(e)||(e=ha(50)),aa(e)&&(t=e),e instanceof za&&(t=this.maxTopSelf+this._measuredHeightSelf*e.value-this.pixelPaddingTop-this.ey),aa(t)||(t=0),t},e.prototype.raiseCriticalError=function(t,e){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",t).message:this.modal.content=t.message,e?this.modal.closable=!0:this.disabled=!0,Fa.suppressErrors||this.modal.open()),Fa.verbose&&console.log(t)},e.prototype.processConfig=function(e){e&&(ba(e.tooltipColorSource)&&wa(e.tooltipColorSource)&&this.map.hasKey(e.tooltipColorSource)&&(e.tooltipColorSource=this.map.getKey(e.tooltipColorSource)),ba(e.cursorOverStyle)&&wa(e.cursorOverStyle)&&(e.cursorOverStyle=this.getCursorStyle(e.cursorOverStyle)),ba(e.cursorDowntyle)&&wa(e.cursorDowntyle)&&(e.cursorDowntyle=this.getCursorStyle(e.cursorDowntyle)),ba(e.cursorOptions)&&(ba(e.cursorOptions.overStyle)&&wa(e.cursorOptions.overStyle)&&(e.cursorOptions.overStyle=this.getCursorStyle(e.cursorOptions.overStyle)),ba(e.cursorOptions.downStyle)&&wa(e.cursorOptions.downStyle)&&(e.cursorOptions.downStyle=this.getCursorStyle(e.cursorOptions.downStyle)))),t.prototype.processConfig.call(this,e),this.processDelayedMap()},e.prototype.getCursorStyle=function(t){switch(t){case"grab":return fb.grab;case"grabbing":return fb.grabbing;case"pointer":return fb.pointer;case"horizontalResize":return fb.horizontalResize;case"verticalResize":return fb.verticalResize;default:return fb.default;}},e.prototype.configOrder=function(e,i){return e==i?0:"tooltipColorSource"==e?1:"tooltipColorSource"==i?-1:t.prototype.configOrder.call(this,e,i)},Object.defineProperty(e.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(t){t=Oa(t),this.setShowOnInit(t)},enumerable:!0,configurable:!0}),e.prototype.setShowOnInit=function(t){this.setPropertyValue("showOnInit",t)&&(this.isTemplate||(!t||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new Pa([ca.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))))},e.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0))},e.prototype.appear=function(){var t=this;if(this.appeared=!1,this.hidden||this.isHidden||this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else{var e=this.show();e&&!e.isFinished()?this.addDisposer(e.events.on("animationended",function(){t.appeared=!0,t.dispatch("appeared")})):(this.appeared=!0,this.dispatch("appeared"))}},Object.defineProperty(e.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(t){t=Oa(t),this.setPropertyValue("hidden",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plugins",{get:function(){var t=this;return this._plugins||(this._plugins=new Aa,this._disposers.push(this._plugins.events.on("inserted",function(e){e.newValue.target=t,e.newValue.init()})),this._disposers.push(new Ja(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),e.prototype._systemUpdate=function(t){this.validate()},e.prototype._systemCheckIfValidate=function(){return!0},e.prototype._systemValidatePositions=function(){this.validatePosition()},e.prototype._systemValidateLayouts=function(){},e}(Zb);ca.registeredClasses.Sprite=sa;var Fe=function(e){function t(){var t=e.call(this)||this;return t.className="Rectangle",t.element=t.paper.add("rect"),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this._positionPrecision;this.pixelPerfect&&(t=0);var r=ga(this.innerWidth,t),i=ga(this.innerHeight,t);this.element.attr({width:r,height:i})},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(sa);ca.registeredClasses.Rectangle=Fe;var na=function(t){function e(){var e=t.call(this)||this;return e._childrenByLayout=[],e._childrenDisposers=new Ka,e.hasFocused=!1,e.setStateOnSprites=[],e.layoutInvalid=!1,e._absoluteWidth=0,e._absoluteHeight=0,e._shouldBeReady=[],e._tapToActivate=!1,e.tapTimeout=3e3,e.className="Container",e._element=e.paper.addGroup("g"),e.group.add(e.element),e.setPropertyValue("pixelPerfect",!1),e.setPropertyValue("layout","absolute"),e.setPropertyValue("fixedWidthGrid",!1),e.setPropertyValue("verticalCenter","none"),e.setPropertyValue("horizontalCenter","none"),e._positionPrecision=4,e._disposers.push(new Bc(e._childrenDisposers)),e.children.events.on("inserted",e.handleChildAdded,e),e.children.events.on("removed",e.handleChildRemoved,e),e.applyTheme(),e}return da(e,t),e.prototype.handleChildAdded=function(t){this.processChild(t.newValue)},e.prototype.processChild=function(t){try{this._childrenDisposers.insertKey(t.uid,new Pa([t.events.on("transformed",this.handleChildTransform,this),t.events.on("zIndexChanged",this.sortAndAdd,this)]))}catch(e){}this.element&&this.element.add(t.group);t.parent=this,t.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:t}),this.invalidate()},e.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren()},e.prototype.handleChildRemoved=function(t){var e=t.oldValue;(this._childrenDisposers.removeKey(e.uid),this.element)&&this.element.removeElement(e.group);e.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:e})},e.prototype.handleChildTransform=function(t){t.target.isMeasured&&this.invalidateLayout()},e.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,ca.addToInvalidLayouts(this),xa.requestFrame())},e.prototype.invalidate=function(){t.prototype.invalidate.call(this),this.invalidateLayout()},e.prototype.deepInvalidate=function(){t.prototype.invalidate.call(this),la(this._childrenByLayout,function(t){t instanceof e?t.deepInvalidate():t.invalidate()}),this.invalidateLayout()},Object.defineProperty(e.prototype,"children",{get:function(){return this._children||(this._children=new Aa),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(t){this.setPropertyValue("minWidth",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(t){this.setPropertyValue("minHeight",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),e.prototype.removeElement=function(){},e.prototype.sortChildren=function(){var t=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var e=[],i=[];fa(this.children.iterator(),function(r){"horizontal"==t.layout||"grid"==t.layout?aa(r.percentWidth)?i.push(r):e.push(r):"vertical"==t.layout&&aa(r.percentHeight)?i.push(r):e.push(r)}),this._childrenByLayout=e.concat(i)}else this._childrenByLayout=this.children.values;this.calculateRelativeSize()},e.prototype.calculateRelativeSize=function(){var t=this,e=0,i=0;la(this._childrenByLayout,function(t){t.isMeasured&&(aa(t.percentWidth)&&(e+=t.percentWidth),aa(t.percentHeight)&&(i+=t.percentHeight))}),la(this._childrenByLayout,function(r){r.isMeasured&&("horizontal"==t.layout&&(aa(r.percentWidth)&&(r.relativeWidth=r.percentWidth/e),aa(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100)),"vertical"==t.layout&&(aa(r.percentHeight)&&(r.relativeHeight=r.percentHeight/i),aa(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100)),"grid"==t.layout&&(aa(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100),aa(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100))),"absolute"!=t.layout&&r.isMeasured||(aa(r.percentWidth)&&(r.relativeWidth=r.percentWidth/100),aa(r.percentHeight)&&(r.relativeHeight=r.percentHeight/100))})},e.prototype.addChildren=function(){if(this.element){var t=vd(this.children.values),e=t.map(function(t,e){return{idx:e,data:t}});e.sort(function(t,e){var i=t.data.zIndex||0,r=e.data.zIndex||0;return i<r?-1:i>r?1:t.idx-e.idx}),t=e.map(function(t){return t.data});var i=this.element,r=!0;if(i.node&&i.node.childNodes)for(var a=0,o=i.node.childNodes.length;a<o;a++)if(i.node.childNodes[a]!=t[a].group.node){r=!1;break}r||(la(t,function(t){t.group&&i.add(t.group)}),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout())}},e.prototype.createChild=function(t){var e=new t;return e.parent=this,e},e.prototype.removeChildren=function(){for(;this.children.length>0;){var t=this.children.getIndex(0);t.parent=void 0,this.children.removeValue(t)}},e.prototype.disposeChildren=function(){for(;this.children.length>0;){var t=this.children.getIndex(0);t.dispose(),this.children.removeValue(t)}},Object.defineProperty(e.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(t){this._background&&this.background!=t&&this.removeDispose(this._background),t&&(this._background=t,this._disposers.push(t),this.processBackground())},enumerable:!0,configurable:!0}),e.prototype.handleGlobalScale=function(){t.prototype.handleGlobalScale.call(this),this.children.each(function(t){t.handleGlobalScale()})},e.prototype.createBackground=function(){return new Fe},e.prototype.processBackground=function(){var t=this._background;t&&(t.isMeasured=!1,this._background.fill=new Ba().getFor("background"),t.parent=this,t.isMeasured=!1,this.children.removeValue(t),this._disposers.push(t),this.group.addToBack(this._background.group))},e.prototype.validateLayout=function(){var t=this;ca.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var e=0,i=0,r=!0;this.children&&(this.sortChildren(),la(this._childrenByLayout,function(a){var o,n;if(aa(a.relativeWidth)?(o=ga(t._availableWidth*a.relativeWidth,2),"horizontal"==t.layout&&(o-=a.pixelMarginRight+a.pixelMarginLeft)):"horizontal"==t.layout&&a.invalid&&a.validate(),aa(a.relativeHeight)?(n=ga(t._availableHeight*a.relativeHeight,2),"vertical"==t.layout&&(n-=a.pixelMarginTop+a.pixelMarginBottom)):"vertical"==t.layout&&a.invalid&&a.validate(),0==a.invalid){if(aa(a.relativeWidth)&&(a.maxWidth=o),aa(a.relativeHeight)&&(a.maxHeight=n),a.isMeasured){"horizontal"==t.layout&&(aa(a.percentWidth)||a.measuredWidth>0&&(t._availableWidth-=a.measuredWidth+a.pixelMarginLeft+a.pixelMarginRight)),"vertical"==t.layout&&(aa(a.percentHeight)||a.measuredHeight>0&&(t._availableHeight-=a.measuredHeight+a.pixelMarginTop+a.pixelMarginBottom));var s=a.measuredWidth,u=a.measuredHeight;"none"!=a.align&&(s+=a.pixelMarginLeft+a.pixelMarginRight),"none"!=a.valign&&(u+=a.pixelMarginTop+a.pixelMarginBottom),e=Math.max(e,s),i=Math.max(i,u)}}else a.isMeasured&&(aa(a.relativeWidth)&&a.maxWidth!=o&&(a.maxWidth=o,r=!1),aa(a.relativeHeight)&&a.maxHeight!=n&&(a.maxHeight=n,r=!1))})),this._absoluteWidth=e,this._absoluteHeight=i,r&&this.arrange()},e.prototype.arrange=function(){var t,e,i,r,a,o,n,s,u,p,h,l=this,d=this.children,c=0,$=0,m=ua(this.innerWidth,this._absoluteWidth),y=ua(this.innerHeight,this._absoluteHeight),g=this.pixelPaddingLeft,f=this.pixelPaddingRight,v=this.pixelPaddingTop,b=this.pixelPaddingBottom,x=0,E=0,Q=0,Z=0,_=[],T=[],P=this.maxWidth,k=this.maxHeight,W=this.minWidth,L=this.minHeight,V=vd(d.values);if(this.reverseOrder&&V.reverse(),"grid"==this.layout){o=P,a=1;for(var C=0,N=V.length;C<N;C++){if((I=V[C]).isMeasured&&!I.disabled&&!I.__disabled){var H=I.measuredWidth;H<o&&(o=H),H>a&&(a=H)}}o=ma(o,1,P),a=ma(a,1,P),n=this.fixedWidthGrid?P/a:P/o,n=ua(1,Math.floor(n)),n=ya(this.maxColumns,n),_=this.getColumnWidth(V,n,a)}for(C=0,N=V.length;C<N;C++){var I;if(!(I=V[C]).isMeasured||I.disabled||I.__disabled)I.validatePosition();else{var M=void 0,A=void 0,S=I.pixelMarginLeft,B=I.pixelMarginRight,O=I.pixelMarginTop,R=I.pixelMarginBottom,D=I.measuredWidth,w=I.measuredHeight,q=void 0,z=void 0,j=void 0,F=void 0;switch(this.layout){case"none":break;case"absolute":switch(I.align){case"left":M=S-I.maxLeft;break;case"center":M=(m-D)/2-I.maxLeft;break;case"right":M=m-B-I.maxRight;break;default:I.x instanceof za||(M=I.pixelX);}switch(I.valign){case"top":A=O-I.maxTop;break;case"middle":A=(y-w)/2-I.maxTop;break;case"bottom":A=y-R-I.maxBottom;break;default:I.y instanceof za||(A=I.pixelY);}break;case"vertical":switch(I.align){case"left":M=S-I.maxLeft;break;case"center":M=(m-D)/2-I.maxLeft;break;case"right":M=m-B-I.maxRight;break;default:M=I.pixelX;}E=(A=E+O-I.maxTop)+I.maxBottom+R;break;case"horizontal":switch(I.valign){case"top":A=O-I.maxTop;break;case"middle":A=(y-w)/2-I.maxTop;break;case"bottom":A=y-R-I.maxBottom;break;default:A=I.pixelY;}x=(M=x+S-I.maxLeft)+I.maxRight+B;break;case"grid":switch(M=x+S-I.maxLeft,I.valign){case"top":A=E+O-I.maxTop;break;case"middle":A=E+(y-w)/2-I.maxTop;break;case"bottom":A=E+y-R-I.maxBottom;break;default:A=E-I.maxTop;}x+=_[Z],T[Q]=ua(T[Q],w);var G=_[++Z];if(aa(G)||(G=a),x>ya(this.innerWidth,P)-G+1&&Z<n){n=Z,x=0,E=0,Q=0,Z=0,_=this.getColumnWidth(V,n,a),T=[],C=-1;continue}Z>=n&&(Z=0,E+=T[Q],Q++,x=0);}"none"!==this.layout&&(I.moveTo({x:M,y:A}),q=M+I.maxLeft-S,z=M+I.maxRight+B,j=A+I.maxTop-O,F=A+I.maxBottom+R,(z>e||!aa(e))&&(e=z),(q<t||!aa(t))&&(t=q),(j<i||!aa(i))&&(i=j),(F>r||!aa(r))&&(r=F),(z>u||!aa(u))&&(u=z),(q<s||!aa(s))&&(s=q),(j<p||!aa(p))&&(p=j),(F>h||!aa(h))&&(h=h))}}if("none"==this.layout){var X=this.bbox;t=X.x,e=X.x+X.width,i=X.y,r=X.y+X.height}aa(t)||(t=0,s=0),aa(e)||(u=e=this._availableWidth),aa(i)||(i=0,p=0),aa(r)||(h=r=this._availableHeight),aa(p)||(p=0),aa(h)||(h=p),aa(s)||(s=0),aa(u)||(u=s),c=e-t,$=r-i,aa(this.relativeWidth)&&(t=0,e=c=P-g-f),aa(this.relativeHeight)&&(i=0,r=$=k-v-b),aa(this._pixelWidth)&&(t=0,c=this._pixelWidth-g-f),aa(W)&&c<W&&(t=0,c=this.minWidth-g-f),aa(this._pixelHeight)&&(i=0,$=this._pixelHeight-v-b),aa(L)&&$<L&&(i=0,$=L-v-b);var Y=u-s,K=h-p;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&d.length>0){var U,J,tt=c,et=$;tt<Y&&(tt=Y),et<K&&(et=K),"center"==this.contentAlign&&(U=(tt-Y)/2),"right"==this.contentAlign&&(U=tt-Y),"middle"==this.contentValign&&(J=(et-K)/2),"bottom"==this.contentValign&&(J=et-K),aa(U)&&fa(d.iterator(),function(t){var e=t.maxLeft,i=U;"horizontal"==l.layout&&(t.x=t.pixelX+i),"grid"==l.layout&&(t.x=t.pixelX+i),"vertical"==l.layout&&(i+=t.pixelMarginLeft,"none"==t.align&&(t.x=i-e)),"absolute"==l.layout&&(i+=t.pixelMarginLeft,"none"==t.align&&(t.x=i-e))}),aa(J)&&fa(d.iterator(),function(t){var e=t.maxTop,i=J;"horizontal"==l.layout&&(i+=t.pixelMarginTop,"none"==t.valign&&(t.y=i-e)),"grid"==l.layout&&(i+=t.pixelMarginTop,t.y=i-e),"vertical"==l.layout&&(t.y=t.pixelY+i),"absolute"==l.layout&&(i+=t.pixelMarginTop,"none"==t.valign&&(t.y=i-e))})}var it=this.bbox;c=ua(c,W),$=ua($,L),this.contentWidth=c,this.contentHeight=$,c=ya(c,P),$=ya($,k),this._bbox={x:t,y:i,width:c,height:$};var rt=this.maxLeft,at=this.maxTop,ot=this.maxBottom,nt=this.maxRight;if(this.measure(),(rt!=this.maxLeft||nt!=this.maxRight||at!=this.maxTop||ot!=this.maxBottom)&&this.events.isEnabled("transformed")){var st={type:"transformed",target:this};it&&(st.dummyData=it.width+" "+c+"  "+it.height+" "+$),this.events.dispatchImmediately("transformed",st)}this.dispatchImmediately("layoutvalidated")},e.prototype.updateCenter=function(){t.prototype.updateCenter.call(this),this.updateBackground()},e.prototype.updateBackground=function(){var t=this._background;t&&(t.x=this.maxLeft,t.y=this.maxTop,t.width=this.maxRight-this.maxLeft,t.height=this.maxBottom-this.maxTop)},e.prototype.getColumnWidth=function(t,e,i){var r=this,a=[],o=0;return la(t,function(t){!t.isMeasured||t.disabled||t.__disabled||(r.fixedWidthGrid?a[o]=i:a[o]=ua(a[o],t.measuredWidth+t.pixelMarginRight+t.pixelMarginLeft),++o==e&&(o=0))}),a},Object.defineProperty(e.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(t){this.setPropertyValue("layout",t)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(t){this.setPropertyValue("contentValign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(t){this.setPropertyValue("contentAlign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(t){this.setPropertyValue("fixedWidthGrid",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(t){this.setPropertyValue("maxColumns",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(t){this.setPropertyValue("reverseOrder",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(t){this.setPropertyValue("setStateOnChildren",t,!0)},enumerable:!0,configurable:!0}),e.prototype.fitsToBounds=function(t){var e=t.x,i=t.y;return e>=-.5&&e<=this.pixelWidth+.5&&i>=-.5&&i<=this.pixelHeight+.5},e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),this.layout=e.layout,this.setStateOnChildren=e.setStateOnChildren,e._background&&(this.background=e._background.clone(),this.background.copyFrom(e._background)),fa(e.children.iterator(),function(t){t.shouldClone&&(t.clone().parent=i)})},Object.defineProperty(e.prototype,"preloader",{get:function(){var t=this._preloader;return t||(this.parent?this.parent.preloader:void 0)},set:function(t){this._preloader&&this.removeDispose(this._preloader),this._preloader=t,t&&(t.parent=this.tooltipContainer,this._disposers.push(t))},enumerable:!0,configurable:!0}),e.prototype.setPaper=function(e){var i=this,r=t.prototype.setPaper.call(this,e);return r&&(this._background&&(this._background.paper=e,this._background.topParent=this.topParent),this.children.each(function(t){t.setPaper(e),t.topParent=i.topParent})),r},e.prototype.removeFromInvalids=function(){t.prototype.removeFromInvalids.call(this),ca.removeFromInvalidLayouts(this)},e.prototype.setDataItem=function(e){this._dataItem!=e&&(fa(this.children.iterator(),function(t){t.dataItem=e}),this._background&&(this._background.dataItem=e)),t.prototype.setDataItem.call(this,e)},e.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout()},Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(t){this.setPropertyValue("fontFamily",t,!0)&&(this.setSVGAttribute({"font-family":t}),this.invalidateLabels())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(t){this.setPropertyValue("fontSize",t,!0)&&(this.setSVGAttribute({"font-size":t}),this.invalidateLabels())},enumerable:!0,configurable:!0}),e.prototype.invalidateLabels=function(){this.children.each(function(t){t.hardInvalidate?(t.hardInvalidate(),t.events.once("validated",t.handleValidate,t,!1)):t instanceof e&&t.invalidateLabels()})},Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(t){this.setPropertyValue("fontWeight",t),this.setSVGAttribute({"font-weight":t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(t){this.setPropertyValue("textDecoration",t),this.setSVGAttribute({"text-decoration":t})},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),t.prototype.dispose.call(this)},e.prototype.setState=function(e,i,r){var a=e;return e instanceof ye&&(a=e.name),this.setStateOnChildren&&fa(this.children.iterator(),function(t){t.setState(a,i,r),"active"!=a&&(t.isActive=!1)}),this._background&&this._background.setState(a),this.setStateOnSprites.length&&la(this.setStateOnSprites,function(t){t.setState(a,i,r)}),t.prototype.setState.call(this,e,i,r)},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),this._background&&(this._background.isActive=e)},e.prototype.dispatchReady=function(){var e=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;Db(this.children.iterator(),function(t){return!!(t.__disabled||t.disabled||t.isReady())||(i=!1,!1)}),xf(this._shouldBeReady,function(t){return!!(t.__disabled||t.disabled||t.isReady())||(i=!1,!1)}),i?t.prototype.dispatchReady.call(this):ca.events.once("exitframe",function(){e.dispatchReady(),xa.requestFrame()},void 0,!1)}},e.prototype._systemUpdate=function(e){this.children.each(function(t){t.invalid&&(t._systemCheckIfValidate()?t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid?e.push(t):t.validate():e.push(t))}),t.prototype._systemUpdate.call(this,e)},e.prototype._systemValidatePositions=function(){this.children.each(function(t){t.positionInvalid&&t.validatePosition()}),t.prototype._systemValidatePositions.call(this)},e.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout()},Object.defineProperty(e.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(t){this._tapToActivate!=t&&this.setTapToActivate(t)},enumerable:!0,configurable:!0}),e.prototype.setTapToActivate=function(t){var e=this;this._tapToActivate=t,this.interactions.isTouchProtected=t,t&&this.interactions.setEventDisposer("container-tapToActivate",t,function(){return new Pa([e.events.on("hit",e.handleTapToActivate,e,!1),e.events.on("down",e.initTapTimeout,e,!1),e.events.on("track",e.initTapTimeout,e,!1),ra().body.events.on("down",function(t){ra().isLocalElement(t.pointer,e.paper.svg,e.uid)||e.handleTapToActivateDeactivation()},e,!1)])}),ra()},e.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout()},e.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0},e.prototype.initTapTimeout=function(){var t=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout(function(){t.handleTapToActivateDeactivation()},this.tapTimeout))},e.prototype.hasLicense=function(){if(Fa.commercialLicense)return!0;for(var t=0;t<Fa.licenses.length;t++)if(Fa.licenses[t].match(/^CH.{5,}/i))return!0;return!1},e}(sa);ca.registeredClasses.Container=na;function Dn(){for(var o=[],$=0;$<arguments.length;$++)o[$]=arguments[$];Fa.verbose&&console&&console.log.apply(console,Tc(o))}function En(){for(var o=[],$=0;$<arguments.length;$++)o[$]=arguments[$];console&&console.warn.apply(console,Tc(o))}var Fn=function(){function t(){this._isPaused=!1,this.animations=[],this.uid=ca.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now()}return t.prototype.reportTime=function(t,i){this.dummyCounter,i&&(this.time=Date.now())},t.prototype.update=function(){var t=this;if(!this._isPaused){this._frameRequested=!1;var i=Date.now();ca.dispatchImmediately("enterframe");for(var a in ca.invalidDatas)if(Xb(ca.invalidDatas,a)){for(var r=ca.invalidDatas[a];r.length>0;){var e=($=r[0]).dataProvider;if($.isDisposed())pa(r,$);else if(e&&e.dataInvalid)try{if(e.validateData(),e.dataValidationProgress<1)break}catch(v){pa(r,e),e.raiseCriticalError(v)}else try{if($.validateData(),$.dataValidationProgress<1)break}catch(v){pa(r,$),$.raiseCriticalError(v)}}if(Date.now()-i>this.updateStepDuration)break}for(;ca.invalidRawDatas.length>0;){if(($=ca.invalidRawDatas[0]).isDisposed())pa(ca.invalidRawDatas,$);else try{$.validateRawData()}catch(v){pa(ca.invalidRawDatas,$),$.raiseCriticalError(v)}}for(;ca.invalidDataItems.length>0;){e=($=ca.invalidDataItems[0]).dataProvider;if($.isDisposed()||$.dataInvalid||e&&e.dataInvalid);else try{$.validateDataItems()}catch(v){pa(ca.invalidDataItems,$),$.raiseCriticalError(v)}pa(ca.invalidDataItems,$)}for(;ca.invalidDataRange.length>0;){var $;e=($=ca.invalidDataRange[0]).dataProvider;if($.isDisposed()||$.dataInvalid||e&&e.dataInvalid);else try{$.validateDataRange(),$.skipRangeEvent||$.dispatchImmediately("datarangechanged"),$.skipRangeEvent=!1}catch(v){pa(ca.invalidDataRange,$),$.raiseCriticalError(v)}pa(ca.invalidDataRange,$)}var o=[];qa(ca.invalidLayouts,function(i){t.validateLayouts(i)}),qa(ca.invalidPositions,function(i){t.validatePositions(i)});var s=!1;if(i=Date.now(),qa(ca.invalidSprites,function(a,r){for(var e=0;r.length>0;){if(t.validateLayouts(a),t.validatePositions(a),5==++e){if(Date.now()-i>t.updateStepDuration)break;e=0}var $=r[r.length-1];if($&&!$.isDisposed()){if($._systemCheckIfValidate()){if(t.checkIfValidate2($))try{$._systemUpdate(o)}catch(v){$.invalid=!1,pa(r,$),$.raiseCriticalError(v)}else o.push($);}else o.push($);$.invalid=!1}pa(r,$)}ca.invalidSprites[a]=ca.invalidSprites[a].concat(o)}),qa(ca.invalidSprites,function(t,i){i.length>0&&(s=!0)}),qa(ca.invalidDatas,function(t,i){i.length>0&&(s=!0)}),la(vd(this.animations),function(t){t.update()}),qa(ca.invalidLayouts,function(i){t.validateLayouts(i)}),qa(ca.invalidPositions,function(i){t.validatePositions(i)}),wl(),qa(ca.invalidLayouts,function(i){t.validateLayouts(i)}),qa(ca.invalidPositions,function(i){t.validatePositions(i)}),ca.dispatchImmediately("exitframe"),(s||this.animations.length>0||[].length>0)&&this.requestFrame(),this.updateStepDuration<200){var n=!0;qa(ca.invalidDatas,function(t,i){i.length>0&&(n=!1)}),qa(ca.invalidSprites,function(t,i){i.length>0&&(n=!1)}),n&&(this.updateStepDuration=200)}}},t.prototype.checkIfValidate2=function(t){return!(t.dataItem&&t.dataItem.component&&t.dataItem.component.dataInvalid&&!t.dataItem.component.isTemplate)},t.prototype.requestFrame=function(){var t=this;this._frameRequested||(Gf(function(){t.update()}),this._frameRequested=!0)},t.prototype.softInvalidate=function(t){var i=this;t.children.each(function(t){t instanceof na&&i.softInvalidate(t),t.measureFailed&&(Il(t,"Label")?t.hardInvalidate():t.invalidate(),t.measureFailed=!1)})},t.prototype.validatePositions=function(t){for(var i=ca.invalidPositions[t];i.length>0;){var a=i[i.length-1];if(a.isDisposed())pa(i,a);else try{a._systemValidatePositions()}catch(r){a.positionInvalid=!1,pa(i,a),a.raiseCriticalError(r)}}},t.prototype.validateLayouts=function(t){for(var i=ca.invalidLayouts[t];i.length>0;){var a=i[i.length-1];if(a.isDisposed())pa(i,a);else try{a.children.each(function(t){t._systemValidateLayouts()}),a.validateLayout()}catch(r){a.layoutInvalid=!1,pa(i,a),a.raiseCriticalError(r)}}},t.prototype.log=function(t){Dn(t)},Object.defineProperty(t.prototype,"isPaused",{get:function(){return this._isPaused},set:function(t){this._isPaused=t,t||(this._frameRequested=!1,this.requestFrame())},enumerable:!0,configurable:!0}),t.VERSION="4.9.22",t}();var xa=new Fn;var Ri=function(){function t(){}return t.prototype.parse=function(t){return[]},Object.defineProperty(t.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),t.prototype.maybeToNumber=function(t,e){return-1!==this.options.numberFields.indexOf(t)?Tf(e):e},Object.defineProperty(t.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),t.prototype.maybeToDate=function(t,e){return-1!==this.options.dateFields.indexOf(t)?this.options.dateFormatter.parse(e,this.dateFormat):e},t.prototype.maybeToEmpty=function(t){return ba(t)&&""!=t||!ba(this.options.emptyAs)?t:this.options.emptyAs},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new Ld,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),t}();var Gn=[",",";","\t"],Ge=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.contentType="text/csv",r.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},r}return da(r,e),r.isCSV=function(e){return!!r.getDelimiterFromData(e)},r.getDelimiterFromData=function(e){var r,t=e.split("\n"),i=t.length;return la(Gn,function(e){for(var s=0,o=0,a=0;a<i;++a){if(!((s=t[a].split(e).length)>1)){o=0;break}if(0===o)o=s;else if(s!=o){o=0;break}}o&&(r=e)}),r},r.prototype.parse=function(e){this.options.delimiter||(this.options.delimiter=r.getDelimiterFromData(e));var t,i,s,o=this.CSVToArray(e,this.options.delimiter),a=ba(this.options.emptyAs),p=this.parsableNumbers,n=this.parsableDates,$=[],l=[];for(i=0;i<this.options.skipRows;i++)o.shift();if(this.options.useColumnNames){l=o.shift();for(var h=0;h<l.length;h++)""===(t=ba(l[h])?l[h].replace(/^\s+|\s+$/gm,""):"")&&(t="col"+h),l[h]=t}for(;s=this.options.reverse?o.pop():o.shift();)if(!this.options.skipEmpty||1!==s.length||""!==s[0]){var u={};for(i=0;i<s.length;i++)u[t=void 0===l[i]?"col"+i:l[i]]=""===s[i]?this.options.emptyAs:s[i],a&&(u[t]=this.maybeToEmpty(u[t])),p&&(u[t]=this.maybeToNumber(t,u[t])),n&&(u[t]=this.maybeToDate(t,u[t]));$.push(u)}return $},r.prototype.CSVToArray=function(e,r){r=r||",";for(var t=new RegExp("(\\"+r+"|\\r?\\n|\\r|^)(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|([^\"\\"+r+"\\r\\n]*))","gi"),i=[[]],s=null;s=t.exec(e);){var o=s[1];o.length&&o!==r&&i.push([]);var a=void 0;a=s[2]?s[2].replace(new RegExp("\"\"","g"),"\""):s[3],i[i.length-1].push(a)}return i},r}(Ri);var Nd=function(r){function e(){var e=null!==r&&r.apply(this,arguments)||this;return e.contentType="application/json",e.options={},e}return da(e,r),e.isJSON=function(r){try{return JSON.parse(r),!0}catch(e){return!1}},e.prototype.parse=function(r){var e,t=this;try{ba(JSON)&&(e=JSON.parse(r))}catch(n){return}var a=ba(this.options.emptyAs),$=this.parsableNumbers,p=this.parsableDates;if(Array.isArray(e)&&($||p||a))for(var s=function(r,s){var i=e[r];qa(i,function(r,e){a&&(i[r]=t.maybeToEmpty(i[r])),$&&(i[r]=t.maybeToNumber(r,i[r])),p&&(i[r]=t.maybeToDate(r,i[r]))})},i=0,o=e.length;i<o;i++)s(i);return e},e}(Ri);var Hn=function(){function e(){this.adapter=new yb(this)}return e.prototype.load=function(e){var r=Array.isArray(e)?e:[e],t=ud(r,function(e){return e.dispatchImmediately("started"),e.dispatchImmediately("loadstarted"),De(e.url,e,e.requestOptions)});Promise.all(t).then(function(e){la(e,function(e){var r=e.target;r.dispatchImmediately("loadended"),e.error?r.events.isEnabled("error")&&r.events.dispatchImmediately("error",{type:"error",code:e.xhr.status,message:r.language.translate("Unable to load file: %1",null,r.url),target:r}):r.processData(e.response,e.type),r.dispatchImmediately("ended")})}).catch(function(e){e.target&&(e.target.dispatchImmediately("loadended"),e.target.events.isEnabled("error")&&e.target.events.dispatchImmediately("error",{type:"error",code:e.xhr.status,message:e.target.language.translate("Unable to load file: %1",null,e.target.url),target:e.target}),e.target.dispatchImmediately("ended"))})},e.prototype.getParserByType=function(e){var r=this.adapter.apply("getParserByType",{parser:null,type:e}).parser;return r||("csv"==e||"text/csv"==e||"application/vnd.ms-excel"==e?new Ge:"json"==e||"application/json"==e?new Nd:void 0)},e.prototype.getParserByData=function(e,r){var t=this.adapter.apply("getParserByData",{parser:null,data:e,type:r}).parser;if(!t){if(t=this.getParserByType(r))return t;if(Nd.isJSON(e))return this.getParserByType("json");if(Ge.isCSV(e))return this.getParserByType("csv")}return t},e}();var og=new Hn;var In=function(e){function t(t,r){var a=e.call(this)||this;return a.adapter=new yb(a),a._requestOptions={},a._incremental=!1,a._incrementalParams={},a._keepCount=!1,a._updateCurrentData=!1,a.showPreloader=!0,a.className="DataSource",t&&(a.url=t),r&&(a.parser="string"==typeof r?og.getParserByType(r):r),a}return da(t,e),t.prototype.processData=function(e,t){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=og.getParserByData(e,t),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",e))),!ba(this.data)&&this.events.isEnabled("parseerror")){var r={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",r)}this.dispatchImmediately("parseended"),ba(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date}else{if(this.events.isEnabled("parseerror")){var a={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",a)}this.dispatchImmediately("parseended")}},Object.defineProperty(t.prototype,"url",{get:function(){var e=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(e=this.addUrlParams(e,this.incrementalParams)),this.adapter.apply("url",e)},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(e){this._requestOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser||(this._parser=new Nd),this.adapter.apply("parser",this._parser)},set:function(e){this._parser=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(e){var t=this;this._reloadFrequency!=e&&(this._reloadFrequency=e,e?ba(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",function(e){t._reloadTimeout=setTimeout(function(){t.load()},t.reloadFrequency)})):ba(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(e){this._incremental=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(e){this._incrementalParams=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(e){this._keepCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(e){this._updateCurrentData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new pc,this.language)},set:function(e){this._language=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new Ld,this.dateFormatter)},set:function(e){this._dateFormatter=e},enumerable:!0,configurable:!0}),t.prototype.timestampUrl=function(e){var t={};return t[new Date().getTime().toString()]="",this.addUrlParams(e,t)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),ba(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0)},t.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),og.load(this))},t.prototype.addUrlParams=function(e,t){var r=e.match(/\?/)?"&":"?",a=[];return qa(t,function(e,t){""!=t?a.push(e+"="+encodeURIComponent(t)):a.push(e)}),a.length?e+r+a.join("&"):e},t.prototype.processConfig=function(t){ca.registeredClasses.json=Nd,ca.registeredClasses.JSONParser=Nd,ca.registeredClasses.csv=Ge,ca.registeredClasses.CSVParser=Ge,e.prototype.processConfig.call(this,t)},t}(Zb);var Jn=function(e){function t(){var t=e.call(this)||this;return t._rules=new Aa,t._appliedRules={},t._appliedTargets=[],t._useDefault=!0,t.adapter=new yb(t),t._enabled=!1,t._responsiveDisposers=[],t._noStates=[],t.className="Responsive",t.rules.events.on("inserted",function(){t.checkRules()},!0),t.rules.events.on("removed",function(){t.checkRules()},!0),t._disposers.push(t.rules.events),t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"component",{get:function(){return this._component},set:function(e){var t=this;e!=this._component&&(this.disposeResponsiveHandlers(),this._component=e,this._responsiveDisposers.push(Ma(this.component).events.on("sizechanged",function(){t.checkRules()},this)),this._responsiveDisposers.push(Ma(this.component).events.on("datavalidated",function(){t._component.isReady()&&t.checkRules(!0)},this)),this.enabled=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(e){this._enabled!=e&&(this._enabled=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(e){this._useDefault!=e&&(this._useDefault=e,this.applyRules())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(e){this._rules=e,this._enabled=!0,this.applyRules()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",gb)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allRules",{get:function(){var e=new Aa;return this.useDefault&&e.copyFrom(this.defaultRules),e.copyFrom(this.rules),this.adapter.apply("allRules",e)},enumerable:!0,configurable:!0}),t.prototype.isApplied=function(e){var t=this._appliedRules[e];return!!ba(t)&&t},t.prototype.checkRules=function(e){var t=this;void 0===e&&(e=!1);var i=this.allRules;if(i&&0!=i.length){var r=!1,n=Ma(this.component);if(fa(i.iterator(),function(e){e.id||(e.id=ca.getUniqueId());var i=e.relevant(n);(i&&!t.isApplied(e.id)||!i&&t.isApplied(e.id))&&(r=!0),t._appliedRules[e.id]=i}),e&&(r=!0),r){if(!this.component.isReady())return n.hidden=!0,void n.events.once("ready",function(e){e.target.show(0),t.applyRules()});this.dispatchImmediately("ruleschanged"),this.applyRules()}}},t.prototype.applyRules=function(e){var t=this,i=ba(e)?e:Ma(this.component),r=!1;if(this.enabled){var n=!1;fa(this.allRules.iterator(),function(e){var s=t.getState(e,i);s&&(r||(-1!==Mb(t._appliedTargets,i.uid)&&i.setState(t.getDefaultState(i)),r=!0),t.isApplied(Ma(e.id))&&(s.transitionDuration=0,t.setTargetState(i,s),t.dispatchImmediately("ruleapplied",{rule:e}),n=!0))}),n?jl(this._appliedTargets,i.uid):pa(this._appliedTargets,i.uid)}i.children&&fa(i.children.iterator(),function(e){t.applyRules(e)})},t.prototype.getState=function(e,t){var i="responsive-"+e.id,r=t.uid+"_"+i;if(-1===Mb(this._noStates,r)){if(t.states.hasKey(i))return t.states.getKey(i);var n=e.state(t,i);return n||this._noStates.push(r),n}},t.prototype.getDefaultState=function(e){return e.states.hasKey("responsive-default")?e.states.getKey("responsive-default"):e.states.create("responsive-default")},t.prototype.setTargetState=function(e,t){var i=this,r=this.getDefaultState(e);qa(t.properties,function(t,n){ba(r.properties[t])||(r.properties[t]=i.getValue(e,t))}),e.setState(t)},t.prototype.getValue=function(e,t){var i=e.getPropertyValue(t);return!ba(i)&&ba(e[t])&&(i=e[t]),i},t.prototype.dispose=function(){this.disposeResponsiveHandlers(),e.prototype.dispose.call(this)},t.prototype.disposeResponsiveHandlers=function(){for(var e=this._responsiveDisposers.pop();e;)e.dispose(),e=this._responsiveDisposers.pop()},t}(Zb);var gb=new Aa;gb.events.on("inserted",function(e){e.newValue.id=ca.getUniqueId()});var pb=function(){function e(){}return e.widthXXS=function(t){return t.pixelWidth<=e.XXS},e.widthXS=function(t){return t.pixelWidth<=e.XS},e.widthS=function(t){return t.pixelWidth<=e.S},e.widthM=function(t){return t.pixelWidth<=e.M},e.widthL=function(t){return t.pixelWidth<=e.L},e.widthXL=function(t){return t.pixelWidth<=e.XL},e.widthXXL=function(t){return t.pixelWidth<=e.XXL},e.heightXXS=function(t){return t.pixelHeight<=e.XXS},e.heightXS=function(t){return t.pixelHeight<=e.XS},e.heightS=function(t){return t.pixelHeight<=e.S},e.heightM=function(t){return t.pixelHeight<=e.M},e.heightL=function(t){return t.pixelHeight<=e.L},e.heightXL=function(t){return t.pixelHeight<=e.XL},e.heightXXL=function(t){return t.pixelHeight<=e.XXL},e.isXXS=function(t){return t.pixelWidth<=e.XXS&&t.pixelHeight<=e.XXS},e.isXS=function(t){return t.pixelWidth<=e.XS&&t.pixelHeight<=e.XS},e.isS=function(t){return t.pixelWidth<=e.S&&t.pixelHeight<=e.S},e.isM=function(t){return t.pixelWidth<=e.M&&t.pixelHeight<=e.M},e.isL=function(t){return t.pixelWidth<=e.L&&t.pixelHeight<=e.L},e.isXL=function(t){return t.pixelWidth<=e.XL&&t.pixelHeight<=e.XL},e.isXXL=function(t){return t.pixelWidth<=e.XXL&&t.pixelHeight<=e.XXL},e.maybeXXS=function(t){return t.pixelWidth<=e.XXS||t.pixelHeight<=e.XXS},e.maybeXS=function(t){return t.pixelWidth<=e.XS||t.pixelHeight<=e.XS},e.maybeS=function(t){return t.pixelWidth<=e.S||t.pixelHeight<=e.S},e.maybeM=function(t){return t.pixelWidth<=e.M||t.pixelHeight<=e.M},e.maybeL=function(t){return t.pixelWidth<=e.L||t.pixelHeight<=e.L},e.maybeXL=function(t){return t.pixelWidth<=e.XL||t.pixelHeight<=e.XL},e.maybeXXL=function(t){return t.pixelWidth<=e.XXL||t.pixelHeight<=e.XXL},e.XXS=100,e.XS=200,e.S=300,e.M=400,e.L=600,e.XL=800,e.XXL=1e3,e}();var Dc=function(t){function e(){var e=t.call(this)||this;return e._disabled=!1,e.hasProperties=!1,e.values={},e.categories={},e.dates={},e.locations={},e.workingLocations={},e.properties={},e.sprites=[],e.isTemplate=!1,e._index=null,e._visible=!0,e._hidden=!1,e._ignoreMinMax=!1,e.hasChildren={},e.isHiding=!1,e._valueAnimations={},e._locationAnimations={},e.className="DataItem",e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new yb(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new bd(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return!this._hidden&&this._visible},set:function(t){t&&(this.hidden=!1),this._visible!=t&&this.setVisibility(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},set:function(t){this._hidden!=t&&(this._hidden=t,t?this.setVisibility(!1):this.setVisibility(!0,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,la(this.sprites,function(e){e.__disabled=t})},enumerable:!0,configurable:!0}),e.prototype.setVisibility=function(t,e){if(la(this.sprites,function(e){t?e.visible=e.defaultState.properties.visible:e.hiddenState?e.visible=e.hiddenState.properties.visible:e.visible=!1}),this._visible=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var i={type:"visibilitychanged",target:this,visible:t};this.events.dispatchImmediately("visibilitychanged",i)}},e.prototype.show=function(t,e,i){var s,n=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),i&&la(i,function(i){s=n.setWorkingValue(i,n.values[i].value,t,e)}),la(this.sprites,function(i){var s=i.show(t);null==s||s.isFinished()||(n._disposers.push(s),null!=e&&e>0&&s.delay(e))}),s},e.prototype.dispose=function(){t.prototype.dispose.call(this),la(this.sprites,function(t){t.dispose()}),this.sprites=[]},e.prototype.hide=function(t,e,i,s){var n=this;if(this.isHiding=!0,la(this.sprites,function(i){var s=i.hide(t);null==s||s.isFinished()||(n._disposers.push(s),null!=e&&e>0&&s.delay(e))}),aa(i)&&s){var a;if(la(s,function(s){var o=n.setWorkingValue(s,i,t,e);o&&(a=o)}),a&&!a.isFinished())return this._hideDisposer=a.events.on("animationended",function(){n.setVisibility(!1,!0),n.isHiding=!1}),this._disposers.push(this._hideDisposer),a;this.isHiding=!1,this.setVisibility(!1,!0)}else this.isHiding=!1,this.setVisibility(!1)},e.prototype.getDuration=function(t){if(!aa(t)){var e=this.component;e&&(t=e.interpolationDuration)}if(null!=t)return this._adapterO?this._adapterO.apply("duration",t):t},e.prototype.getValue=function(t,e){if(t&&this.component){e||(e=this.component.dataFields[t+"Show"])||(e="value");var i=this.values[t][e];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:i,field:t}).value:i}},e.prototype.getWorkingValue=function(t){if(t&&this.component){var e=this.component.dataFields[t+"Show"];return e||(e="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[t][e],field:t}).workingValue:this.values[t][e]}},e.prototype.getActualWorkingValue=function(t){return this.values[t].workingValue},e.prototype.setValue=function(t,e,i,s){var n=this.values[t].value,a=this.getDuration(i);if(n!==(e=La(e))){if(this.values[t].value=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var o={type:"valuechanged",target:this,property:t};this.events.dispatchImmediately("valuechanged",o)}this.component&&this.component.handleDataItemValueChange(this,t)}this.setWorkingValue(t,e,a,s)},e.prototype.setCalculatedValue=function(t,e,i){if(this.values[t][i]!==e&&aa(e)){if(this.values[t][i]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var s={type:"calculatedvaluechanged",target:this,property:t};this.events.dispatchImmediately("calculatedvaluechanged",s)}this.component&&this.component.handleDataItemCalculatedValueChange(this,t)}},e.prototype.setWorkingValue=function(t,e,i,s){if(aa(this.values[t].value)){var n=this.getDuration(i),a=this.values[t].workingValue;if(null!=n&&n>0&&aa(a)&&this.component){if(a!=e){var o=this.animate({childObject:this.values[t],property:"workingValue",from:a,to:e,dummyData:t},n,this.component.interpolationEasing);return null!=s&&o.delay(s),o.events.on("animationstarted",this.handleInterpolationProgress,this),o.events.on("animationprogress",this.handleInterpolationProgress,this),o.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[t]=o,o}(r=this._valueAnimations[t])&&r.stop(),this.values[t].workingValue=e}else{var r;if((r=this._valueAnimations[t])&&r.stop(),this.values[t].workingValue=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var h={type:"workingvaluechanged",target:this,property:t};this.events.dispatchImmediately("workingvaluechanged",h)}this.component&&this.component.handleDataItemWorkingValueChange(this,t)}}},e.prototype.setLocation=function(t,e,i,s){if(this.locations[t]!==e){if(this.locations[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var n={type:"locationchanged",target:this,property:t};this.events.dispatchImmediately("locationchanged",n)}this.component&&this.component.handleDataItemValueChange(this,t),this.setWorkingLocation(t,e,i,s)}},e.prototype.setWorkingLocation=function(t,e,i,s){var n=this.getDuration(i),a=this.workingLocations[t];if(null!=n&&n>0&&aa(a)&&this.component){if(a!=e){var o=this.animate({childObject:this.workingLocations,property:t,from:a,to:e,dummyData:t},n,this.component.interpolationEasing);return null!=s&&o.delay(s),o.events.on("animationstarted",this.handleInterpolationProgress,this),o.events.on("animationprogress",this.handleInterpolationProgress,this),o.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[t]=o,o}(r=this._locationAnimations[t])&&r.stop(),this.workingLocations[t]=e}else{var r;if((r=this._locationAnimations[t])&&r.stop(),this.workingLocations[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var h={type:"workinglocationchanged",target:this,property:t};this.events.dispatchImmediately("workinglocationchanged",h)}this.component&&this.component.handleDataItemWorkingLocationChange(this,t)}},e.prototype.setDate=function(t,e,i){!wd(e)&&this.component&&(e=this.component.dateFormatter.parse(e)),this.dates[t]!==e&&(this.dates[t]=e,this.setValue(t,e.getTime(),i))},e.prototype.getDate=function(t){return this._adapterO?this._adapterO.apply("date",{date:this.dates[t],field:t}).date:this.dates[t]},e.prototype.setProperty=function(t,e){if(this.properties[t]!==e){if(this.hasProperties=!0,this.properties[t]=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var i={type:"propertychanged",target:this,property:t,value:e};this.events.dispatchImmediately("propertychanged",i)}this.component&&this.component.handleDataItemPropertyChange(this,t)}},e.prototype.setCategory=function(t,e){wa(e)||(e=yf(e)),this.categories[t]!==e&&(this.categories[t]=e)},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e.dataContext&&(this.dataContext=Vl(e.dataContext,{})),gc(e.locations,this.locations),e._adapterO&&this.adapter.copyFrom(e._adapterO),this.component=e.component},Object.defineProperty(e.prototype,"opacity",{set:function(t){la(this.sprites,function(e){e.opacity=t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(t){if(this._ignoreMinMax=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var e={type:"propertychanged",target:this,property:"ignoreMinMax",value:t};this.events.dispatchImmediately("propertychanged",e)}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax")},enumerable:!0,configurable:!0}),e.prototype.animate=function(t,e,i){return new Ob(this,t,e,i).start()},e.prototype.handleInterpolationProgress=function(t){var e=t.target.animationOptions[0];if(e){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var i={type:"workingvaluechanged",target:this,property:e.dummyData};this.events.dispatchImmediately("workingvaluechanged",i)}this.component&&this.component.handleDataItemWorkingValueChange(this,e.dummyData)}},e.prototype.hasValue=function(t){for(var e=0,i=t.length;e<i;e++){var s=this.values[t[e]];if(!s||!ba(s.value))return!1}return!0},Object.defineProperty(e.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataContext",{get:function(){return this._dataContext},set:function(t){this._dataContext=t},enumerable:!0,configurable:!0}),e.prototype.addSprite=function(t){t.dataItem&&t.dataItem!=this&&pa(t.dataItem.sprites,t),this.visible||t.hide(0),this.isHiding&&t.hide(),this.sprites.push(t),t.dataItem=this},e}(Zb);var Ec=function(t){function e(){var e=t.call(this)||this;return e.dataFields={},e._dataSources={},e._parseDataFrom=0,e._dataDisposers=[],e._currentDataSetId="",e._start=0,e._end=1,e.skipRangeEvent=!1,e.rangeChangeDuration=0,e.rangeChangeEasing=Cc,e.parsingStepDuration=50,e.dataInvalid=!1,e.rawDataInvalid=!1,e.dataRangeInvalid=!1,e.dataItemsInvalid=!1,e.interpolationDuration=0,e.interpolationEasing=Cc,e.sequencedInterpolation=!0,e.sequencedInterpolationDelay=0,e.dataValidationProgress=0,e._addAllDataItems=!0,e._usesData=!0,e.className="Component",e.minZoomCount=1,e.maxZoomCount=0,e._dataItems=new ke(e.createDataItem()),e._dataItems.events.on("inserted",e.handleDataItemAdded,e,!1),e._dataItems.events.on("removed",e.handleDataItemRemoved,e,!1),e._disposers.push(new Ja(e._dataItems)),e._disposers.push(e._dataItems.template),e.invalidateData(),e.dataUsers.events.on("inserted",e.handleDataUserAdded,e,!1),e._disposers.push(new Pa(e._dataDisposers)),e._start=0,e._end=1,e.maxZoomDeclination=1,e.applyTheme(),e}return da(e,t),e.prototype.createDataItem=function(){return new Dc},e.prototype.handleDataUserAdded=function(t){t.newValue.dataProvider=this},e.prototype.handleDataItemValueChange=function(t,e){this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.handleDataItemWorkingValueChange=function(t,e){},e.prototype.handleDataItemWorkingLocationChange=function(t,e){},e.prototype.handleDataItemCalculatedValueChange=function(t,e){},e.prototype.handleDataItemPropertyChange=function(t,e){},e.prototype.processDataItem=function(t,e){var a=this;if(t){e||(e={}),t.dataContext=e;var i=!1;qa(this.dataFields,function(r,n){var s=r,o=e[n];if(a._adapterO&&a._adapterO.isEnabled("dataContextValue")&&(o=a._adapterO.apply("dataContextValue",{field:s,value:o,dataItem:t}).value),ba(o))if(i=!0,t.hasChildren[s]){var d=a.createDataItem();d.copyFrom(a.mainDataSet.template);var p=new ke(d);p.events.on("inserted",a.handleDataItemAdded,a,!1),p.events.on("removed",a.handleDataItemRemoved,a,!1),a._dataDisposers.push(new Ja(p));for(var h=o.length,l=0;l<h;l++){var m=o[l],u=p.create();u.parent=t,a.processDataItem(u,m)}t[s]=p}else t[s]=o}),qa(this.propertyFields,function(a,r){var n=a,s=e[r];ba(s)&&(i=!0,t.setProperty(n,s))}),this._addAllDataItems||i||this.mainDataSet.remove(t)}},e.prototype.updateDataItem=function(t){var e=this;if(t){var a=t.dataContext;qa(this.dataFields,function(i,r){var n=i,s=a[r];(e._adapterO&&(s=e._adapterO.apply("dataContextValue",{field:n,value:s,dataItem:t}).value),ba(s))&&(t.hasChildren[n]?t[n].each(function(t){e.updateDataItem(t)}):t[n]=s)}),qa(this.propertyFields,function(e,i){var r=e,n=a[i];ba(n)&&t.setProperty(r,n)})}},e.prototype.validateDataElements=function(){for(var t=this.endIndex,e=this.startIndex;e<t;e++){var a=this.dataItems.getIndex(e);a&&this.validateDataElement(a)}},e.prototype.validate=function(){this.validateDataElements(),t.prototype.validate.call(this)},e.prototype.validateDataElement=function(t){},e.prototype.addData=function(t,e,a){var i=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),a||(t instanceof Array?la(t,function(t){i.data.push(t)}):this.data.push(t)),this.inited)this.removeData(e,a);else if(aa(e))for(;e>0;)this.data.shift(),e--;this.invalidateData()},e.prototype.removeData=function(t,e){if(aa(t)&&t>0){for(;t>0;){var a=this.mainDataSet.getIndex(0);a&&this.mainDataSet.remove(a),this.dataUsers.each(function(t){if(!t.data||0==t.data.length){var e=t.mainDataSet.getIndex(0);e&&t.mainDataSet.remove(e)}}),e||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,t--}this.invalidateDataItems()}},e.prototype.invalidateData=function(){this.disabled||this.isTemplate||(ca.addToInvalidComponents(this),xa.requestFrame(),this.dataInvalid=!0,fa(this.dataUsers.iterator(),function(t){t.invalidateDataItems()}))},e.prototype.invalidateDataUsers=function(){fa(this.dataUsers.iterator(),function(t){t.invalidate()})},e.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(Hb(ca.invalidDataItems,this),xa.requestFrame(),this.dataItemsInvalid=!0,fa(this.dataUsers.iterator(),function(t){t.invalidateDataItems()}))},e.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,Hb(ca.invalidDataRange,this),xa.requestFrame())},e.prototype.validateDataRange=function(){pa(ca.invalidDataRange,this),this.dataRangeInvalid=!1,this.startIndex==this._prevStartIndex&&this.endIndex==this._prevEndIndex||(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"))},e.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex},e.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex},e.prototype.appendDataItems=function(){for(var t=this.endIndex,e=this.startIndex;e<t;e++){(a=this.dataItems.getIndex(e))&&(a.__disabled=!1)}for(e=0;e<this.startIndex;e++){(a=this.dataItems.getIndex(e)).__disabled=!0}for(e=this.endIndex;e<this.dataItems.length;e++){var a;(a=this.dataItems.getIndex(e)).__disabled=!0}},e.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(Hb(ca.invalidRawDatas,this),xa.requestFrame(),this.rawDataInvalid=!0,fa(this.dataUsers.iterator(),function(t){t.invalidateRawData()}))},e.prototype.validateRawData=function(){var t=this;pa(ca.invalidRawDatas,this),fa(this.mainDataSet.iterator(),function(e){e&&t.updateDataItem(e)})},e.prototype.dispose=function(){var e=this;this.mainDataSet.template.clones.clear(),qa(this._dataSources,function(t,a){e.removeDispose(a)}),t.prototype.dispose.call(this)},e.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),la(this._dataDisposers,function(t){t.dispose()}),fa(this.dataUsers.iterator(),function(t){t.disposeData()}),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear()},e.prototype.getDataItem=function(t){return this.mainDataSet.create()},e.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,ca.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var t=this.dataItem.dataContext;this._data=t[this.dataFields.data]}if(0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var e=this.preloader;fa(this.dataUsers.iterator(),function(t){t._startIndex=void 0,t._endIndex=void 0});for(var a=0,i=Date.now(),r=this._parseDataFrom,n=this.data.length,s=function(){var t=o.data[r];if(o._usesData){var n=o.getDataItem(t);o.processDataItem(n,t)}if((o.dataUsers.each(function(e){if(0==e.data.length){var a=e.getDataItem(t);e.processDataItem(a,t)}}),100==++a)&&(a=0,Date.now()-i>o.parsingStepDuration&&r<o.data.length-10))return o._parseDataFrom=r+1,e&&(r/o.data.length>.5&&!e.visible||(e.progress=r/o.data.length)),o.dataValidationProgress=r/o.data.length,r=o.data.length,o.invalidateData(),{value:void 0}},o=this;r<n;r++){var d=s();if("object"==typeof d)return d.value}e&&(e.progress=1),this.dataUsers.each(function(t){t.hidden&&t.hide(0)})}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated")}},e.prototype.validateDataItems=function(){pa(ca.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated")},Object.defineProperty(e.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(t){this.setData(t)},enumerable:!0,configurable:!0}),e.prototype.setData=function(t){this._parseDataFrom=0,this.disposeData(),this._data=t,t&&t.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated"))},e.prototype.getDataSource=function(t){var e=this;return ba(this._dataSources[t])||(this._dataSources[t]=new In,this._dataSources[t].component=this,this.setDataSourceEvents(this._dataSources[t],t),this._dataSources[t].adapter.add("dateFields",function(t){return e.dataSourceDateFields(t)}),this._dataSources[t].adapter.add("numberFields",function(t){return e.dataSourceNumberFields(t)}),this.events.on("inited",function(){e.loadData(t)},this,!1)),this._dataSources[t]},Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(t){var e=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=t,this._dataSources.data.component=this,this.events.on("inited",function(){e.loadData("data")},this,!1),this.setDataSourceEvents(t,"data")},enumerable:!0,configurable:!0}),e.prototype.loadData=function(t){this._dataSources[t].load()},e.prototype.dataSourceDateFields=function(t){return t},e.prototype.dataSourceNumberFields=function(t){return t},e.prototype.populateDataSourceFields=function(t,e,a){return la(a,function(a){e[a]&&-1===Mb(t,e[a])&&t.push(e[a])}),t},e.prototype.setDataSourceEvents=function(t,e){var a=this;t.events.on("started",function(t){var e=a.preloader;e&&(e.progress=0)},void 0,!1),t.events.on("loadstarted",function(t){var e=a.preloader;e&&(e.progress=.25)},void 0,!1),t.events.on("loadended",function(t){var e=a.preloader;e&&(e.progress=.5)},void 0,!1),t.events.on("parseended",function(t){var e=a.preloader;e&&(e.progress=.75)},void 0,!1),t.events.on("ended",function(t){var e=a.preloader;e&&(e.progress=1)},void 0,!1),t.events.on("error",function(t){var e=a.preloader;e&&(e.progress=1),a.openModal(t.message)},void 0,!1),e&&t.events.on("done",function(i){var r=a.preloader;r&&(r.progress=1),"data"!=e||ab(i.data)||(i.data=[i.data]),t.incremental&&"data"==e&&a.data.length?a.addData(i.data,t.keepCount?i.data.length:0):t.updateCurrentData&&"data"==e&&a.data.length?(la(a.data,function(t,e){ba(i.data[e])&&qa(t,function(a,r){ba(i.data[e][a])&&(t[a]=i.data[e][a])})}),a.invalidateRawData()):a[e]=i.data})},Object.defineProperty(e.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Jn,this._responsive.component=this),this._responsive},set:function(t){this._responsive=t,this._responsive.component=this},enumerable:!0,configurable:!0}),e.prototype.zoom=function(t,e,a,i){var r=this;void 0===e&&(e=!1),void 0===a&&(a=!1);var n=t.start,s=t.end,o=t.priority;if(t.start==t.end&&(t.start=t.start-.5/this.maxZoomFactor,t.end=t.end+.5/this.maxZoomFactor),"end"==o&&1==s&&0!=n&&n<this.start&&(o="start"),"start"==o&&0==n&&s>this.end&&(o="end"),aa(i)||(i=this.maxZoomDeclination),!aa(n)||!aa(s))return{start:this.start,end:this.end};if(this._finalStart!=n||this._finalEnd!=s){var d=this.maxZoomFactor/this.minZoomCount,p=this.maxZoomFactor/this.maxZoomCount;if("start"==o?(this.maxZoomCount>0&&1/(s-n)<p&&(s=n+1/p),1/(s-n)>d&&(s=n+1/d),s>1&&s-n<1/d&&(n=s-1/d)):(this.maxZoomCount>0&&1/(s-n)<p&&(n=s-1/p),1/(s-n)>d&&(n=s-1/d),n<0&&s-n<1/d&&(s=n+1/d)),n<-i&&(n=-i),1/(s-n)>d&&(s=n+1/d),s>1+i&&(s=1+i),1/(s-n)>d&&(n=s-1/d),this._finalEnd=s,this._finalStart=n,this.skipRangeEvent=e,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!a){var h=this.rangeChangeAnimation;if(h&&h.progress<1){var l=h.animationOptions;if(l.length>1){if(l[0].to==n&&l[1].to==s)return{start:n,end:s};h.isDisposed()||h.stop()}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),h=this.animate([{property:"start",to:n},{property:"end",to:s}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=h,h&&!h.isFinished()?h.events.on("animationended",function(){r.dispatchImmediately("rangechangeended")}):this.dispatchImmediately("rangechangeended")}else this.start=n,this.end=s,this.dispatch("rangechangeended")}return{start:n,end:s}},e.prototype.zoomToIndexes=function(t,e,a,i){if(aa(t)&&aa(e)){var r=t/this.dataItems.length,n=e/this.dataItems.length;this.zoom({start:r,end:n},a,i)}},Object.defineProperty(e.prototype,"zoomFactor",{get:function(){return ma(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(t){this.setPropertyValue("maxZoomFactor",t)&&(1==t&&(this.maxZoomDeclination=0),this.invalidateDataRange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(t){this.setPropertyValue("maxZoomDeclination",t)&&this.invalidateDataRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return aa(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(t){this._startIndex=ma(Math.round(t),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex)},enumerable:!0,configurable:!0}),e.prototype.indexToPosition=function(t){return t/this.dataItems.length},Object.defineProperty(e.prototype,"endIndex",{get:function(){var t=this.dataItems.length;return(!aa(this._endIndex)||this._endIndex>t)&&(this._endIndex=t),this._endIndex},set:function(t){this._endIndex=ma(Math.round(t),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(t){if(this._start!=t){this._start=t;var e=Math.max(0,Math.floor(this.dataItems.length*t)||0);this._startIndex=Math.min(e,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(t){this._end!=t&&(this._end=t,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*t)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"))},enumerable:!0,configurable:!0}),e.prototype.removeFromInvalids=function(){t.prototype.removeFromInvalids.call(this),ca.removeFromInvalidComponents(this),pa(ca.invalidDataItems,this),pa(ca.invalidDataRange,this),pa(ca.invalidRawDatas,this)},Object.defineProperty(e.prototype,"dataItems",{get:function(){if(""!=this._currentDataSetId){var t=this.dataSets.getKey(this._currentDataSetId);if(t)return t}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new Ka),this._dataSets},enumerable:!0,configurable:!0}),e.prototype.setDataSet=function(t){if(this._currentDataSetId!=t){if(this.dataSets.getKey(t))return this.dataItems.each(function(t){t.__disabled=!0}),this._currentDataSetId=t,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(t){t.__disabled=!1}),!0;if(""!=this._currentDataSetId)return this.dataItems.each(function(t){t.__disabled=!0}),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each(function(t){t.__disabled=!1}),!0}return!1},Object.defineProperty(e.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),e.prototype._updateDataItemIndexes=function(t){for(var e=this.mainDataSet.values,a=e.length,i=t;i<a;++i)e[i]._index=i},e.prototype.handleDataItemAdded=function(t){t.newValue.component=this,this._updateDataItemIndexes(t.index),this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.handleDataItemRemoved=function(t){this._updateDataItemIndexes(t.index),this.dataItemsInvalid||this.invalidateDataItems()},e.prototype.bindDataField=function(t,e){this.dataFields[t]=e,this.invalidateDataRange()},e.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange()},e.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null},Object.defineProperty(e.prototype,"dataUsers",{get:function(){var t=this;return this._dataUsers||(this._dataUsers=new Aa,this._disposers.push(new Ga(function(){fa(t._dataUsers.iterator(),function(t){t.dispose()})}))),this._dataUsers},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.dataFields=gc(this.dataFields,{}),e},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.data=e.data,this.sequencedInterpolation=e.sequencedInterpolation,this.sequencedInterpolationDelay=e.sequencedInterpolationDelay,this.interpolationDuration=e.interpolationDuration,this.interpolationEasing=e.interpolationEasing},e.prototype.reinit=function(){this._inited=!1,this.deepInvalidate()},e.prototype.getExporting=function(){var e=t.prototype.getExporting.call(this);return e.adapter.has("data",this._exportData,-1,this)||(e.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",function(t){e.menu&&e.menu.invalidate(),e.handleDataUpdated()})),e},e.prototype._exportData=function(t){return t.data=this.data,t},e.prototype.setDisabled=function(e){var a=t.prototype.setDisabled.call(this,e);return a&&this.invalidateData(),a},e.prototype.setShowOnInit=function(e){e!=this.getPropertyValue("showOnInit")&&(!e||this.inited||this.hidden?this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2):(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),t.prototype.setShowOnInit.call(this,e)},e.prototype.setBaseId=function(e){e!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,ca.removeFromInvalidComponents(this),this._baseId=e,this.invalidateData()),t.prototype.setBaseId.call(this,e)},Object.defineProperty(e.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(t){this.setPropertyValue("minZoomCount",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(t){this.setPropertyValue("maxZoomCount",t)},enumerable:!0,configurable:!0}),e.prototype._systemCheckIfValidate=function(){return!(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},e.prototype.asFunction=function(e){return"interpolationEasing"==e||"rangeChangeEasing"==e||t.prototype.asIs.call(this,e)},e}(na);ca.registeredClasses.Component=Ec;var vb=function(t){function e(){var e=t.call(this)||this;return e.isOversized=!1,e.className="Label",e.fill=new Ba().getFor("text"),e.wrap=!1,e.truncate=!1,e.fullWords=!0,e.ellipsis="\u2026",e.textAlign="start",e.textValign="top",e.layout="absolute",e.baseLineRatio=-.27,e._positionPrecision=1,e.events.on("maxsizechanged",function(){e.inited&&e.handleMaxSize()},e,!1),e.events.once("validated",e.handleValidate,e,!1),e.applyTheme(),e}return da(e,t),e.prototype.afterDraw=function(){t.prototype.afterDraw.call(this),this.validatePosition()},e.prototype.setPaper=function(e){var i=t.prototype.setPaper.call(this,e);return i&&this.hardInvalidate(),i},e.prototype.handleValidate=function(){!this.currentText&&!this.text||0!=this.bbox.width&&0!=this.bbox.height||ca.events.once("exitframe",this.hardInvalidate,this)},e.prototype.handleMaxSize=function(){this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized?this.invalidate():this.alignSVGText()},e.prototype.arrange=function(){},e.prototype.updateCurrentText=function(){var t,e;oe(this.html)&&this.paper.supportsForeignObject()?(t="html",e=this.html):(t="svg",e=this.text),Qa(e)&&(e=e.toString()),ba(e)&&""!==e&&(e=this.populateString(e,this.dataItem)),"html"==t?this._adapterO&&(e=this._adapterO.apply("htmlOutput",e)):this._adapterO&&(e=this._adapterO.apply("textOutput",e));var i=e!=this.currentText||t!=this._currentFormat;return this.currentText=e,this._currentFormat=t,i},e.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate()},e.prototype.getLineBBox=function(t){var e=t&&t.element,i=e&&e.node;i&&i.parentNode&&(t.bbox=e.getBBox())},e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.bbox.width,i=this.bbox.height,r=this.topParent;if(!r||r.maxWidth&&r.maxHeight){var s=ua(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),a=ua(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),n=a+","+s+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=n){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var h=this._currentFormat,o=this.currentText;if(ba(o)&&""!=o){var l=o.split("\n");this._prevStatus=n,this.textAlign=this.textAlign;var p=this.group.getAttr("display");if("none"==p&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===h){this.element.removeAttr("display");var d=this.element;this.resetBBox();for(var u=0,m="",y=0;y<l.length;y++){var $=l[y];if(""!=$){var g=ic().chunk($,null,this.ignoreFormatting),c=0,b=!0,x=!1,f=this.getLineInfo(y);f?(f.text="",f.element.textContent=""):(f={text:"",element:this.getSVGLineElement("",0),complex:!1},d.add(f.element)),f.element.removeAttr("display"),f.element.removeChildren(),this.textPathElement&&f.element.add(this.textPathElement);for(var v=0;v<g.length;v++){v&&(f.complex=!0);var V=g[v];if("format"===V.type)m=V.text;else{if(x)continue;f.text=V.text,f.style=ic().translateStyleShortcuts(m);var P=this.getSvgElement(f.text,f.style);if(this.textPathElement?this.textPathElement.add(P):f.element.add(P),this.getLineBBox(f),f.bbox.width=Math.ceil(f.bbox.width),c<f.bbox.height&&(c=f.bbox.height),(this.wrap||this.truncate)&&f.bbox.width>s){this.isOversized=!0;var R=f.element.textContent,w=f.bbox.width/R.length,S=ya(Math.ceil((f.bbox.width-s)/w),R.length);if(this.truncate){var O=!1,C=f.element.node;if(C&&C.childNodes)for(var E=f.element.node.childNodes.length-1;E>=0;E--){var L=f.element.node.childNodes[E];if(O&&f.bbox.width<=s&&(L.textContent+=" "+this.ellipsis,f.bbox=f.element.getBBox(),f.bbox.width=Math.floor(f.bbox.width),f.bbox.width<=s))break;O=!1;var B=L.textContent;for(R=f.element.textContent,S=ya(Math.ceil((f.bbox.width-s)/w),R.length);f.bbox.width>s&&S<=R.length&&S>0;){(A=ua(R.length-S-this.ellipsis.length,1))<=1&&(S=0,E>0&&(O=!0,f.element.node.removeChild(L))),(B=Qf(B,A,this.ellipsis,this.fullWords,this.rtl)).length>A&&this.fullWords&&(B=Qf(B,A,this.ellipsis,!1,this.rtl)),L.textContent=B,f.bbox=f.element.getBBox(),f.bbox.width=Math.floor(f.bbox.width),S=Math.ceil(1.1*S)}x=!0}}else{if(f.element.node){for(var _=f.element.node.lastChild,W=void 0;f.bbox.width>s&&S<=R.length&&S>0;){var A=ua(V.text.length-S,1);b?W=Pf(V.text,A,!0,this.rtl):((W=Pf(V.text,A,!0,this.rtl))[0].length>A||1===A)&&(f.element.node.removeChild(_),S=0),S>0&&(_.textContent=ic().cleanUp(ai(W.shift()))),f.bbox=f.element.getBBox(),f.bbox.width=Math.floor(f.bbox.width),S=Math.ceil(1.1*S)}if(W.length>0){var T="";ba(W)&&(this.rtl?T+=W.join("")+m:T+=m+W.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var H=v+1;H<g.length;H++)"value"==g[H].type?T+=g[H].text.replace(/([\[\]]{1})/g,"$1$1"):T+=g[H].text;l.splice(y+1,0,T)}x=!0}}}this.bbox.width<f.bbox.width&&(this.bbox.width=f.bbox.width),this.bbox.height=u+c,this.textPathElement?f.element.attr({dy:-this.paddingBottom.toString()}):f.element.attr({x:"0",y:u+c,dy:ga(this.baseLineRatio*c,3).toString()}),b=!1}}var I=f.element.node;if(I)(_=I.lastChild)&&(_.textContent=this.rtl?Yl(_.textContent):Xl(_.textContent));u+=c,this.addLineInfo(f,y)}else{var j=this.getSVGLineElement("",0);j.add(this.getSvgElement(".",ic().translateStyleShortcuts(m))),d.add(j);var z=Math.ceil(j.getBBox().height);z>0&&(u+=z),d.removeElement(j);var M=this.getLineInfo(y);M&&(M.text="",M.element.textContent="")}}this.maybeHideOversized(),this.measureFailed=!1,0!=this.bbox.width&&0!=this.bbox.height||(this.measureFailed=!0),this._measuredWidth=ga(ua(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=ga(ua(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,i==this._measuredHeight&&e==this._measuredWidth||this.dispatch("transformed"),this.hideUnused(l.length)}else{this.element.removeAttr("display"),this.resetBBox(),(d=this.element).removeChildren();var k=this.paper.foreignObject();d.add(k),this.maxWidth&&k.attr({width:this.maxWidth}),this.maxHeight&&k.attr({height:this.maxHeight});var F=this.getHTMLLineElement(o);k.node.appendChild(F),F.style.display="inline-block";var q=F.clientWidth,D=F.clientHeight;F.style.display="block",this._bbox={x:0,y:0,width:q,height:D},k.attr({width:q,height:D}),this.maybeHideOversized(),this._measuredWidth=ua(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=ua(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(F.style.overflow="hidden"),(q>s||D>a)&&(this.isOversized=!0)}this.setStyles(),this.updateCenter(),this.updateBackground(),"none"==p&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement)}else this.element.attr({display:"none"})}}else r.events.once("maxsizechanged",this.hardInvalidate,this,!1)},e.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1))},e.prototype.alignSVGText=function(){var t=this.element,e=t.node.children||t.node.childNodes;if(e&&(!e||0!=e.length)){var i=this._measuredWidth,r=this._measuredHeight;ub(this.pixelPaddingLeft),ub(this.pixelPaddingRight),ub(this.pixelPaddingTop),ub(this.pixelPaddingBottom);for(var s=e.length-1;s>=0;s--){var a=e[s];if(a.setAttribute("text-anchor",this.textAlign),this.textPathElement)a.removeAttribute("x"),a.removeAttribute("y");else{switch(this.textAlign){case"middle":a.setAttribute("x",(i/2).toString()+"px");break;case"end":this.rtl||a.setAttribute("x",i.toString());break;default:this.rtl?a.setAttribute("x",i.toString()):a.removeAttribute("text-anchor");}var n=La(a.getAttribute("y"));switch(this.textValign){case"middle":a.setAttribute("y",((n||0)+(r-this.bbox.height)/2).toString());break;case"bottom":a.setAttribute("y",((n||0)+r-this.bbox.height).toString());break;default:a.setAttribute("y",(n||0).toString());}}}}},e.prototype.getSVGLineElement=function(t,e){var i=this.paper.addGroup("text");return i.textContent=t,i.attr({x:"0"}),ba(e)&&i.attr({y:e.toString()}),(this.truncate||this.wrap)&&i.attr({overflow:"hidden"}),this.rtl&&i.attr({direction:"rtl"}),i},e.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0}},e.prototype.getHTMLLineElement=function(t){var e=document.createElement("div");switch(e.innerHTML=t,this.textAlign){case"middle":e.style.textAlign="center";break;case"end":e.style.textAlign="right";}return this.wrap?e.style.wordWrap="break-word":e.style.whiteSpace="nowrap",this.rtl&&(e.style.direction="rtl"),ba(this.fill)&&(e.style.color=this.fill.toString()),e},e.prototype.setStyles=function(){var t=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?t.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(t.removeStyle("webkitUserSelect"),t.removeStyle("msUserSelect"))},e.prototype.hideUnused=function(t){this.initLineCache();var e=this.getCache("lineInfo");if(e.length>=t)for(var i=t;i<e.length;i++){var r=e[i];r&&r.element&&r.element.attr({display:"none"})}},Object.defineProperty(e.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(t){this.setPropertyValue("text",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(t){this.setPropertyValue("path",t,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:t}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(bg,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:t}),this._disposers.push(this.textPathElement),this.hardInvalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(t){this.setPropertyValue("locationOnPath",t),this.textPathElement&&this.textPathElement.attr({startOffset:100*t+"%"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(t){this.setPropertyValue("baseLineRatio",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(t){this.resetBBox(),this.setPropertyValue("wrap",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(t){this.resetBBox(),this.setPropertyValue("truncate",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(t){this.setPropertyValue("fullWords",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(t){this.setPropertyValue("ellipsis",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(t){this.setPropertyValue("selectable",t,!0),this.setStyles()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(t){this.setPropertyValue("textAlign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(t){this.setPropertyValue("textValign",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(t){this.setPropertyValue("html",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(t){this.setPropertyValue("hideOversized",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(t){this.setPropertyValue("ignoreFormatting",t,!0)},enumerable:!0,configurable:!0}),e.prototype.measureElement=function(){},e.prototype.getLineInfo=function(t){this.initLineCache();var e=this.getCache("lineInfo");return e.length>t?e[t]:void 0},e.prototype.addLineInfo=function(t,e){this.initLineCache(),this.getCache("lineInfo")[e]=t},e.prototype.initLineCache=function(){ba(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0)},e.prototype.setDataItem=function(e){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),e&&(this._sourceDataItemEvents=new Pa([e.events.on("valuechanged",this.invalidate,this,!1),e.events.on("workingvaluechanged",this.invalidate,this,!1),e.events.on("calculatedvaluechanged",this.invalidate,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),t.prototype.setDataItem.call(this,e)},Object.defineProperty(e.prototype,"availableWidth",{get:function(){return ba(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableHeight",{get:function(){return ba(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),e.prototype.getSvgElement=function(t,e){var i=this.paper.add("tspan");return i.textContent=t,e&&i.node.setAttribute("style",e),i},e.prototype.deepInvalidate=function(){t.prototype.deepInvalidate.call(this),this.hardInvalidate()},Object.defineProperty(e.prototype,"readerTitle",{get:function(){var t=this.getPropertyValue("readerTitle");return t||(t=this.populateString(Sf(oe(this.html)?this.html:this.text))),t},set:function(t){t=kb(t),this.setPropertyValue("readerTitle",t)&&this.applyAccessibility()},enumerable:!0,configurable:!0}),e}(na);ca.registeredClasses.Label=vb,gb.push({relevant:pb.heightXS,state:function(t,e){if(t instanceof vb&&t.parent&&t.parent.isBaseSprite){var i=t.states.create(e);return i.properties.disabled=!0,i}return null}});var _b=function(e){function t(){var t=e.call(this)||this;return t.className="RoundedRectangle",t.element=t.paper.add("path"),t.cornerRadius(3,3,3,3),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.innerWidth,r=this.innerHeight;if(aa(t)&&aa(r)){var i=ya(t,r)/2,o=Na(this.cornerRadiusTopLeft,i),s=Na(this.cornerRadiusTopRight,i),n=Na(this.cornerRadiusBottomRight,i),a=Na(this.cornerRadiusBottomLeft,i),u=ya(Math.abs(t/2),Math.abs(r/2)),$=ma(o,0,u),p=ma(s,0,u),c=ma(n,0,u),h=ma(a,0,u),d="M"+$+",0 L"+(t-p)+",0"+(" a"+p+","+p+" 0 0 1 "+p+","+p)+(" L"+t+","+(r-c))+(" a"+c+","+c+" 0 0 1 -"+c+","+c)+(" L"+h+","+r)+(" a"+h+","+h+" 0 0 1 -"+h+",-"+h)+(" L0,"+$)+(" a"+$+","+$+" 0 0 1 "+$+",-"+$)+" Z";this.path=d}},t.prototype.cornerRadius=function(e,t,r,i){this.cornerRadiusTopLeft=e,this.cornerRadiusTopRight=t,this.cornerRadiusBottomLeft=r,this.cornerRadiusBottomRight=i},Object.defineProperty(t.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(e){this.setPercentProperty("cornerRadiusTopLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(e){this.setPercentProperty("cornerRadiusTopRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(e){this.setPercentProperty("cornerRadiusBottomRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(e){this.setPercentProperty("cornerRadiusBottomLeft",e,!0)},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(sa);ca.registeredClasses.RoundedRectangle=_b;var qc=function(e){function t(){var t=e.call(this)||this;t.className="Button",t.tooltipY=0,t.iconPosition="left",t.layout="horizontal",t.contentAlign="center",t.contentValign="middle",t.padding(8,16,8,16),t.setStateOnChildren=!0;var o=new Ba,r=t.background;r.fill=o.getFor("secondaryButton"),r.stroke=o.getFor("secondaryButtonStroke"),r.fillOpacity=1,r.strokeOpacity=1,r.cornerRadius(3,3,3,3),t.label=new vb,t.label.fill=o.getFor("secondaryButtonText"),t.label.shouldClone=!1;var i=r.states.create("hover");i.properties.fillOpacity=1,i.properties.fill=o.getFor("secondaryButtonHover");var n=r.states.create("down");return n.transitionDuration=100,n.properties.fill=o.getFor("secondaryButtonDown"),n.properties.fillOpacity=1,t.role="button",t.focusable=!0,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(e){var t=this._icon;t&&(t.parent=void 0),e&&(this._icon=e,e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(e){this.setPropertyValue("iconPosition",e),this.icon&&("left"==e?this.icon.toBack():this.icon.toFront())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label&&this.removeDispose(this._label),this._label=e,e&&(e.parent=this,e.interactionsEnabled=!1,this._disposers.push(this._label))},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new _b},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t.label&&this.label.copyFrom(t.label),t.icon&&(this.icon=t.icon.clone())},t}(na);ca.registeredClasses.Button=qc;var Fc=function(e){function r(){var r=e.call(this)||this;return r.className="Circle",r.element=r.paper.add("circle"),r.setPercentProperty("radius",ha(100)),r.setPropertyValue("horizontalCenter","middle"),r.setPropertyValue("verticalCenter","middle"),r.applyTheme(),r}return da(r,e),r.prototype.draw=function(){e.prototype.draw.call(this),this.element.attr({r:this.pixelRadius})},Object.defineProperty(r.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pixelRadius",{get:function(){return Na(this.radius,ya(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),r.prototype.measureElement=function(){var e=this.pixelRadius;this._bbox={x:-e,y:-e,width:2*e,height:2*e}},r}(sa);ca.registeredClasses.Circle=Fc;var pg=function(e){function t(){var t=e.call(this)||this;return t.className="Ellipse",t.element=t.paper.add("ellipse"),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY})},Object.defineProperty(t.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(e){this.height=2*e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(e){this.width=2*e,this.invalidate()},enumerable:!0,configurable:!0}),t}(Fc);ca.registeredClasses.Ellipse=pg;var Kn=function(e){function t(){var t=e.call(this)||this;return t.className="Image",t.element=t.paper.add("image"),t.applyTheme(),t.width=50,t.height=50,t}return da(t,e),t.prototype.draw=function(){if(e.prototype.draw.call(this),this.href){var t=this.innerWidth,i=this.innerHeight;aa(this.widthRatio)&&(t=i*this.widthRatio,this.width=t),aa(this.heightRatio)&&(i=t*this.heightRatio,this.height=i),this.element.attr({width:t,height:i}),this.element.attrNS(bg,"xlink:href",this.href)}},Object.defineProperty(t.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(e){this.setPropertyValue("href",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(e){this.setPropertyValue("widthRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(e){this.setPropertyValue("heightRatio",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return{x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),t}(sa);ca.registeredClasses.Image=Kn;var Pb=function(e){function t(){var t=e.call(this)||this;return t.className="Line",t.element=t.paper.add("line"),t.fill=oa(),t.x1=0,t.y1=0,t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2},Object.defineProperty(t.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(e){aa(e)||(e=0);var t=0;this.pixelPerfect&&this.stroke instanceof Kb&&(t=1e-5),this.setPropertyValue("x1",e,!0),this.element.attr({x1:e+t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){var e=this.getPropertyValue("x2");return aa(e)||(e=this.pixelWidth),e},set:function(e){aa(e)||(e=0),this.setPropertyValue("x2",e,!0),this.element.attr({x2:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(e){aa(e)||(e=0);var t=0;this.pixelPerfect&&this.stroke instanceof Kb&&(t=1e-5),this.setPropertyValue("y1",e,!0),this.element.attr({y1:e+t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){var e=this.getPropertyValue("y2");return aa(e)||(e=this.pixelHeight),e},set:function(e){aa(e)||(e=0),this.setPropertyValue("y2",e,!0),this.element.attr({y2:e})},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var t={x:this.x1,y:this.y1},r={x:this.x2,y:this.y2},i=fe(t,r,e),$=lb(t,r);return{x:i.x,y:i.y,angle:$}},t}(sa);ca.registeredClasses.Line=Pb;var Ln=function(e){function t(){var t=e.call(this)||this;return t.className="PointedShape",t.pointerBaseWidth=15,t.pointerLength=10,t.pointerY=0,t.pointerX=0,t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),aa(this.pointerX)||(this.pointerX=this.pixelWidth/2),aa(this.pointerY)||(this.pointerY=this.pixelHeight+10)},Object.defineProperty(t.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(e){this.setPropertyValue("pointerBaseWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(e){this.setPropertyValue("pointerLength",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(e){this.setPropertyValue("pointerX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(e){this.setPropertyValue("pointerY",e,!0)},enumerable:!0,configurable:!0}),t}(sa);var Mn=function(t){function e(){var e=t.call(this)||this;return e.className="PointedRectangle",e.element=e.paper.add("path"),e.cornerRadius=6,e.applyTheme(),e}return da(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.cornerRadius,i=this.innerWidth,n=this.innerHeight;if(i>0&&n>0){var $,r,a=this.pointerX,o=this.pointerY,p=this.pointerBaseWidth/2,T=ya(i/2,n/2),h=ma(e,0,T),m=ma(e,0,T),s=ma(e,0,T),f=ma(e,0,T),l=void 0,d=void 0,B=void 0,L=void 0,c=(a-0)*(n-0)-(o-0)*(i-0),u=(a-0)*(0-n)-(o-n)*(i-0);if(c>0&&u>0)l="M"+h+",0 L"+(($=ma(a,h+p,i-p-m))-p)+",0 L"+a+","+(o=ma(o,-1/0,0))+" L"+($+p)+",0 L"+(i-m)+",0";else l="M"+h+",0 L"+(i-m)+",0";if(c<0&&u<0)B=" L"+(i-s)+","+n+" L"+(($=ma(a,f+p,i-p-s))+p)+","+n+" L"+a+","+(o=ma(o,n,1/0))+" L"+($-p)+","+n+" L"+f+","+n;else B=" L"+f+","+n;if(c<0&&u>0)L=" L0,"+(n-f)+" L0,"+((r=ma(o,h+p,n-f-p))+p)+" L"+(a=ma(a,-1/0,0))+","+o+" L0,"+(r-p)+" L0,"+h;else L=" L0,"+h;if(c>0&&u<0)d=" L"+i+","+m+" L"+i+","+((r=ma(o,m+p,n-p-s))-p)+" L"+(a=ma(a,i,1/0))+","+o+" L"+i+","+(r+p)+" L"+i+","+(n-s);else d=" L"+i+","+(n-s);var R=" a"+m+","+m+" 0 0 1 "+m+","+m,g=" a"+s+","+s+" 0 0 1 -"+s+","+s,v=" a"+f+","+f+" 0 0 1 -"+f+",-"+f,P=" a"+h+","+h+" 0 0 1 "+h+",-"+h;this.path=l+R+d+g+B+v+L+P}},Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(t){this.setPropertyValue("cornerRadius",t,!0)},enumerable:!0,configurable:!0}),e}(Ln);function Od($){var e=ea($[0]),t={x:0,y:0},r=Fa.minPolylineStep;aa(r)||(r=.5);for(var o=0,s=$.length;o<s;o++){var i=$[o];Ea(i,t)>r&&(e+=ea(i),t=i)}return e}function ka($){return" M"+ga($.x,4)+","+ga($.y,4)+" "}function ea($){return" L"+ga($.x,4)+","+ga($.y,4)+" "}function Gc($,e){return" Q"+ga(e.x,4)+","+ga(e.y,4)+" "+ga($.x,4)+","+ga($.y,4)}function He($,e,t){return" C"+ga(e.x,4)+","+ga(e.y,4)+" "+ga(t.x,4)+","+ga(t.y,4)+" "+ga($.x,4)+","+ga($.y,4)}function Va(){return" Z"}function cb($,e,t,r){if(0==e)return"";aa(r)||(r=t);var o="",s=",",i=Math.ceil(Math.abs(e)/180),T=1;e<0&&(T=0);var l=0,p=0,m=-ja($)*t,a=-ia($)*r;if(e<.5&&t>3e3){var n=$+e;return ea({x:x=ga(ja(n)*t,4),y:u=ga(ia(n)*r,4)})}for(var h=0;h<i;h++){var x,u;n=$+e/i*(h+1);o+=" a"+t+s+r+s+0+s+0+s+T+s+(x=ga(ja(n)*t+m-l,4))+s+(u=ga(ia(n)*r+a-p,4)),l=x,p=u}return o}function fd($,e,t,r,o,s,i){if(0==e)return"";if(aa(r)||(r=0),0==t&&r<=0)return"";if(t<r){var T=t;t=r,r=T,aa(o)&&(o=o/r*t)}360==(e=ya(e,360))&&(s=0,i=0);var l=$+e,p=ia(ya(e,45)/2),m=(o=aa(o)?o:t)/t*r,a=o/t*(s=s||0),n=o/t*(i=aa(i)?i:s);s=ma(s,0,(t-r)/2),a=ma(a,0,(o-m)/2),i=ma(i,0,(t-r)/2),n=ma(n,0,(o-m)/2),s=ga(ma(s,0,t*p),4),a=ga(ma(a,0,o*p),4),i=ga(ma(i,0,r*p),4),n=ga(ma(n,0,m*p),4);var h=Math.asin(s/t/2)*lc*2,x=Math.asin(a/o/2)*lc*2;r<i&&(r=i),m<n&&(m=n);var u=Math.asin(i/r/2)*lc*2,c=Math.asin(n/m/2)*lc*2;aa(u)||(u=0),aa(c)||(c=0);var y=$+e/2,v={x:ga(ja(y)*r,4),y:ia(y)*m},f={x:ja($)*(r+i),y:ia($)*(m+n)},d={x:ja($)*(t-s),y:ia($)*(o-a)},g={x:ja(l)*(t-s),y:ia(l)*(o-a)},P={x:ja(l)*(r+i),y:ia(l)*(m+n)},b={x:ja($+h)*t,y:ia($+x)*o},E={x:ja(l-u)*r,y:ia(l-c)*m};i+=i*ia(u/2),n+=n*ia(c/2),u>(l-$)/2&&(E=v);var R="";return 360==e?R=ka(d):(R=ka(f),R+=ea(d),R+=Fb(b,s,a,!0)),R+=cb($+h,e-2*h,t,o),aa(r)&&0!=r?(360==e&&0==s?R+=ka(P):(R+=Fb(g,s,a,!0),R+=ea(P),R+=Fb(E,i,n,!0)),R+=cb(l-u,-(e-2*u),r,m),(e<360||s>0)&&(R+=Fb(f,i,n,!0)),R+=ea(f)):(R+=Fb(g,s,a,!0),e<360&&(R+=ea(f))),R}function Fb($,e,t,r,o,s){if(0==e)return"";var i=",";return" A"+e+i+t+i+(s=s||0)+i+ +(o=Boolean(o))+i+ +(r=Boolean(r))+i+ga($.x,4)+i+ga($.y,4)}function qg($,e,t,r){return aa(t)||(t=0),aa(r)||(r=0),ka({x:t,y:r})+ea({x:t+$,y:r})+ea({x:t+$,y:r+e})+ea({x:t,y:r+e})+Va()}function rc($,e){var t=",",r=" L";return e?"M"+$.x+t+$.y+r+$.x+t+($.y+$.height)+r+($.x+$.width)+t+($.y+$.height)+r+($.x+$.width)+t+$.y+r+$.x+t+$.y:"M"+$.x+t+$.y+r+($.x+$.width)+t+$.y+r+($.x+$.width)+t+($.y+$.height)+r+$.x+t+($.y+$.height)+r+$.x+t+$.y}var Pd=function(e){function r(){var r=e.call(this)||this;return r._distance=0,r.className="Polyline",r.element=r.paper.add("path"),r.shapeRendering="auto",r.fill=oa(),r.strokeOpacity=1,r.applyTheme(),r}return da(r,e),r.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){for(var r="",t=0,i=e.length;t<i;t++){var n=e[t];if(n.length>0){r+=ka(n[0]);for(var a=1;a<n.length;a++){var o=n[a];r+=ea(o),this._distance+=Ea(n[a-1],o)}}}this.path=r}this._realSegments=e},Object.defineProperty(r.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(e){this.setPropertyValue("segments",e),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),r.prototype.positionToPoint=function(e){var r=0;e<0&&(e=Math.abs(e),r=180);var t=this._realSegments;if(t){for(var i=this.distance,n=0,a=0,o=0,$=void 0,l=void 0,s=0;s<t.length;s++){var p=t[s];if(p.length>1){for(var f=1;f<p.length;f++)if($=p[f-1],l=p[f],a=n/i,o=(n+=Ea($,l))/i,a<=e&&o>e){s=t.length;break}}else 1==p.length&&($=p[0],l=p[0],a=0,o=1)}if($&&l){var h=(e-a)/(o-a),g=fe($,l,h);return{x:g.x,y:g.y,angle:r+lb($,l)}}}return{x:0,y:0,angle:0}},Object.defineProperty(r.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),r}(sa);ca.registeredClasses.Polyline=Pd;var Nn=function(t){function e(){var e=t.call(this)||this;return e.className="Polyarc",e.controlPointDistance=.5,e.controlPointPosition=.5,e.applyTheme(),e}return da(e,t),e.prototype.makePath=function(){this._distance=0;var t=this.segments;if(t&&t.length>0){var e="";this._realSegments=[];for(var r=0,o=t.length;r<o;r++){var i=t[r],n=[];if(this._realSegments.push(n),i.length>0){e+=ka(i[0]);for(var l=1;l<i.length;l++){var $=i[l-1],a=i[l],p=Ea(a,$),s=p*this.controlPointDistance,u=this.controlPointPosition,c=-lb($,a),h={x:$.x+(a.x-$.x)*u*.5-s*ia(c),y:$.y+(a.y-$.y)*u*.5-s*ja(c)},P={x:$.x+(a.x-$.x)*u*1.5-s*ia(c),y:$.y+(a.y-$.y)*u*1.5-s*ja(c)};e+=He(a,h,P);var m=Math.ceil(p),y=$;if(m>0)for(var k=0;k<=m;k++){var g=Df($,a,h,P,k/m);n.push(g),this._distance+=Ea(y,g),y=g}else n.push($)}}}this.path=e}},Object.defineProperty(e.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(t){this.setPropertyValue("controlPointPosition",t),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(t){this.setPropertyValue("controlPointDistance",t),this.makePath()},enumerable:!0,configurable:!0}),e}(Pd);ca.registeredClasses.Polyarc=Nn;var On=function(t){function r(r){var o=t.call(this)||this;return o._bboxes=[],o.morphDuration=800,o.morphEasing=Cc,o.morphToSingle=!0,o.scaleRatio=1,o.className="Morpher",o.morphable=r,o.applyTheme(),o}return da(r,t),r.prototype.morphToPolygon=function(t,r,o){var i=this.morphable.currentPoints;if(i&&t){this.sortPoints(i),this.sortPoints(t),this._morphFromPointsReal=[],this._morphToPointsReal=[],ba(r)||(r=this.morphDuration),ba(o)||(o=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(t,i),this._morphToPointsReal=this.normalizePoints(i,t),this.morphable.currentPoints=this._morphFromPointsReal;var e=new Ob(this,{property:"morphProgress",from:0,to:1},r,o);return this._disposers.push(e),e.start(),e}},r.prototype.normalizePoints=function(t,r){for(var o=0,i=t.length;o<i;o++){var e=t[o][0],h=t[o][1],s=Ma(xd(e)),n=s.x+s.width,a=s.y+s.height;if(r[o]||(r[o]=[]),e&&!r[o][0]&&(r[o][0]=[{x:n,y:a},{x:n,y:a}]),r[o][0]){r[o][0]=this.addPoints(r[o][0],e.length);for(var p=1/0,$=0,m=0;m<r[o][0].length;m++){var l=Ea(r[o][0][m],e[0]);l<p&&($=m,p=l)}var u=r[o][0].slice(0,$),g=r[o][0].slice($);r[o][0]=g.concat(u)}h&&(r[o][1]||(r[o][1]=[{x:n,y:a},{x:n,y:a}]),r[o][1]=this.addPoints(r[o][1],h.length))}return r},r.prototype.sortPoints=function(t){t.sort(function(t,r){var o=Ma(xd(t[0])),i=Ma(xd(r[0]));return o.width*o.height>i.width*i.height?-1:1});for(var r=[],o=0,i=t.length;o<i;o++){var e=t[o][0];e&&r.push(Ma(xd(e)))}return yd(r)},r.prototype.morphToCircle=function(t,r,o){var i=this.morphable.points,e=this.sortPoints(i);this._morphFromPointsReal=[],this._morphToPointsReal=[],ba(r)||(r=this.morphDuration),ba(o)||(o=this.morphEasing);for(var h=0,s=i.length;h<s;h++){var n=i[h][0],a=i[h][1];if(this._morphFromPointsReal[h]=[],this._morphToPointsReal[h]=[],n){var p=n,$=n,m=Ma(xd($));this.morphToSingle&&(m=Ma(e));var l=m.x+m.width/2,u=m.y+m.height/2,g=t;aa(g)||(g=Math.min(m.width/2,m.height/2)),p=[];var y=lb({x:l,y:u},n[0]),P=100;n.length>P&&(P=n.length);for(var c=360/((P=($=this.addPoints(n,P)).length)-1),O=0;O<P;O++){var f=c*O+y,v={x:l+g*ja(f),y:u+g*ia(f)};p[O]=v}if(a&&a.length>0)for(var U=0,x=a.length;U<x;U++)p.push({x:l,y:u});this._morphFromPointsReal[h][0]=$,this._morphToPointsReal[h][0]=p}}this.morphable.currentPoints=this._morphFromPointsReal;var _=new Ob(this,{property:"morphProgress",from:0,to:1},r,o);return this._disposers.push(_),_.start(),_},r.prototype.addPoints=function(t,r){for(var o=Math.round(r/t.length),i=[],e=0,h=t.length;e<h;e++){var s=t[e],n=void 0;n=e==t.length-1?t[0]:t[e+1],i.push(s);for(var a=1;a<o;a++){var p=a/o,$={x:s.x+(n.x-s.x)*p,y:s.y+(n.y-s.y)*p};i.push($)}i.length+t.length-e==r&&(o=0)}if(i.length<r&&t.length>0){var m=t[t.length-1];for(a=i.length;a<r;a++)i.push({x:m.x,y:m.y})}return i},r.prototype.morphToRectangle=function(t,r,o,i){var e=this.morphable.points;this.sortPoints(e),this._morphFromPointsReal=[],this._morphToPointsReal=[],ba(o)||(o=this.morphDuration),ba(i)||(i=this.morphEasing);for(var h=0,s=e.length;h<s;h++){var n=e[h][0],a=e[h][1];if(this._morphFromPointsReal[h]=[],this._morphToPointsReal[h]=[],n){var p=n,$=n,m=this._bboxes[h];this.morphToSingle;var l=m.x,u=m.y,g=t,y=r;if(aa(g)||(g=m.width),aa(y)||(y=m.height),p=[{x:l,y:u},{x:l+g,y:u},{x:l+g,y:u+y},{x:l,y:u+y}],p=this.addPoints(p,n.length),n.length<4)for(var P=n.length;P<4;P++)p.push({x:n[P].x,y:n[P].y});if(a&&a.length>0)for(var c=m.x+m.width/2,O=m.y+m.height/2,f=0,v=a.length;f<v;f++)p.push({x:c,y:O});this._morphFromPointsReal[h][0]=$,this._morphToPointsReal[h][0]=p}}this.morphable.currentPoints=this._morphFromPointsReal;var U=new Ob(this,{property:"morphProgress",from:0,to:1},o,i);return this._disposers.push(U),U.start(),U},Object.defineProperty(r.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(t){this._morphProgress=t;var r=[];if(null!=t){var o=this._morphFromPointsReal,i=this._morphToPointsReal;if(null!=o&&null!=i)for(var e=0,h=o.length;e<h;e++){var s=[];r.push(s);var n=o[e][0],a=o[e][1],p=i[e][0],$=i[e][1];if(n&&n.length>0&&p&&p.length>0){for(var m=[],l=0,u=n.length;l<u;l++){var g=n[l],y=p[l],P={x:g.x+(y.x*this.scaleRatio-g.x)*t,y:g.y+(y.y*this.scaleRatio-g.y)*t};m.push(P)}s[0]=m}if(a&&a.length>0&&$&&$.length>0){for(var c=[],O=0,f=a.length;O<f;O++){g=a[O],y=$[O],P={x:g.x+(y.x*this.scaleRatio-g.x)*t,y:g.y+(y.y*this.scaleRatio-g.y)*t};c.push(P)}s[1]=c}}}this.morphable.currentPoints=r},enumerable:!0,configurable:!0}),r.prototype.morphBack=function(t,r){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,ba(t)||(t=this.morphDuration),ba(r)||(r=this.morphEasing);var o=new Ob(this,{property:"morphProgress",from:0,to:1},t,r);return this._disposers.push(o),o.start(),o},Object.defineProperty(r.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new bd(this._animations))),this._animations},enumerable:!0,configurable:!0}),r}(rb);var Pn=function(t){function e(){var e=t.call(this)||this;return e.className="Polygon",e.element=e.paper.add("path"),e.shapeRendering="auto",e._currentPoints=[],e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"points",{get:function(){var t=this.getPropertyValue("points"),e=this.path;if(e&&(!t||0==t.length)){for(var r=e.slice(1,e.length-1).split("ZM"),i=0;i<r.length;i++){var o=r[i];if(o.length>0){var n=o.split("M"),s=n[0],p=n[1];if(s&&s.length>0){var h=s.split("L");if(h.length>0){var $=[],l=[$];t.push(l);for(var a=0;a<h.length;a++){var u=h[a].split(",");$.push({x:+u[0],y:+u[1]})}if(p&&p.length>0){var b=p.split("L");if(b.length>0){var c=[];l.push(c);for(a=b.length-1;a>=0;a--){u=b[a].split(",");c.push({x:+u[0],y:+u[1]})}}}}}}}this.setPropertyValue("points",t),this._currentPoints=t}return t},set:function(t){this.setPropertyValue("points",t,!0),this._currentPoints=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPoints",{get:function(){return this._currentPoints&&0!=this._currentPoints.length||!this.path||(this._currentPoints=this.points),this._currentPoints},set:function(t){this._currentPoints!=t&&(this._currentPoints=t,this.draw())},enumerable:!0,configurable:!0}),e.prototype.draw=function(){var e,r,i,o,n="",s=this._currentPoints;if(s.length>0){for(var p=0,h=s.length;p<h;p++){var $=s[p][0],l=s[p][1];if($&&$.length>0){var a=$[0];n+=ka(a);for(var u=0;u<$.length;u++)a=$[u],n+=ea(a),(!aa(r)||r<a.x)&&(r=a.x),(!aa(e)||e>a.x)&&(e=a.x),(!aa(i)||i>a.y)&&(i=a.y),(!aa(o)||o<a.y)&&(o=a.y)}if(l&&l.length>0){a=l[0];n+=ka(a);for(var b=0,c=l.length;b<c;b++)a=l[b],n+=ea(a)}}n&&(n+=Va()),this.bbox.x=e,this.bbox.y=i,this.bbox.width=r-e,this.bbox.height=o-i,t.prototype.setPath.call(this,n)}},e.prototype.setPath=function(e){return!!t.prototype.setPath.call(this,e)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},e.prototype.measureElement=function(){},Object.defineProperty(e.prototype,"centerPoint",{get:function(){return{x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new On(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),e}(sa);ca.registeredClasses.Polygon=Pn;var Ie=function(t){function e(){var e=t.call(this)||this;return e.className="Polyspline",e.tensionX=.5,e.tensionY=.5,e.applyTheme(),e}return da(e,t),e.prototype.makePath=function(){this._distance=0;var t=this.segments,e=this.tensionX,r=this.tensionY;if(this.allPoints=[],t&&t.length>0){var i="";this._realSegments=[];for(var n=0,o=t.length;n<o;n++){var $=t[n],a=[];if(this._realSegments.push(a),$.length>0){var l=$[0],s=$[$.length-1],h=!1;ga(l.x,3)==ga(s.x)&&ga(l.y)==ga(s.y)&&(h=!0),i+=ka($[0]);for(var c=0;c<$.length-1;c++){var p=$[c-1],v=$[c],g=$[c+1],u=$[c+2];0===c?p=$[c]:c==$.length-2&&(u=$[c+1]),u||(u=g),0===c?p=h?$[$.length-2]:$[n]:c==$.length-2&&(u=h?$[1]:$[c+1]);var m=Ih(p,v,g,u,e,r),y=Jh(p,v,g,u,e,r);i+=He(g,m,y);var Y=1.2*Math.ceil(ql(v,g,m,y,20)),f=v;if(Y>0)for(var A=0;A<=Y;A++){var x=Df(v,g,m,y,A/Y);if(x.x!=f.x||x.y!=f.y){a.push(x);var P=ga(lb(f,x),5);this._distance+=Ea(f,x),this.allPoints[Math.floor(this._distance)]={x:x.x,y:x.y,angle:P},f=x}}else a.push(p)}}var b=this.allPoints;if(b.length>1)for(var d=0;d<b.length;d++)if(!b[d])if(d>1)b[d]=b[d-1];else for(var C=1;C<b.length;C++)if(b[C]){b[d]=b[C];break}}this.path=i}},e.prototype.getClosestPointIndex=function(t){var e,r=this.allPoints,i=1/0;if(r.length>1)for(var n=1;n<r.length;n++){var o=Ea(t,r[n]);o<i&&(e=n,i=o)}return e},Object.defineProperty(e.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(t){this.setPropertyValue("tensionX",t),this.makePath()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(t){this.setPropertyValue("tensionY",t,!0),this.makePath()},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){var r=0,i=this.allPoints,n=i.length;if(aa(t)||(t=0),n>1){if(e&&n>3){if(t<0){t<-.01&&(t=-.01);var o=i[0],$=i[1];return{x:a=o.x-(o.x-$.x)*n*t,y:l=o.y-(o.y-$.y)*n*t,angle:lb(o,$)}}if(t>1){t>1.01&&(t=1.01);var a,l;o=i[i.length-2],$=i[i.length-3];return{x:a=o.x+(o.x-$.x)*n*(t-1),y:l=o.y+(o.y-$.y)*n*(t-1),angle:lb(o,{x:a,y:l})}}if(1==t){var s=i[i.length-1];return{x:s.x,y:s.y,angle:s.angle}}}else t<0&&(t=Math.abs(t),r=180),t>=1&&(t=.9999999999999);var h;return{x:(h=i[Math.floor(t*n)]).x,y:h.y,angle:h.angle+r}}return 1==n?{x:(h=i[0]).x,y:h.y,angle:h.angle}:{x:0,y:0,angle:0}},e}(Pd);ca.registeredClasses.Polyspline=Ie;var Hc=function(e){function t(){var t=e.call(this)||this;return t.className="Slice",t.setPropertyValue("cornerRadius",0),t.setPropertyValue("startAngle",0),t.setPercentProperty("innerRadius",0),t.setPercentProperty("radius",0),t.setPropertyValue("arc",0),t.setPropertyValue("shiftRadius",0),t.strokeOpacity=1,t.setPropertyValue("layout","none"),t.slice=t.createChild(sa),t.slice.isMeasured=!1,t._disposers.push(t.slice),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.radiusY;this.radius>0&&0==t&&(t=.01),this.slice.path=fd(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,t,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof oc&&this.updateGradient(this.realFill),this.realStroke instanceof oc&&this.updateGradient(this.realStroke)},t.prototype.updateGradient=function(e){e.element.attr({gradientUnits:"userSpaceOnUse"}),e.element.attr({r:this.radius}),e.cx=0,e.cy=0,e.element.attr({radius:this.radius})},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;if(this.isMeasured){var e=Wb(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),t=Wb(this.startAngle,this.startAngle+this.arc,this.radius);return yd([e,t])}return{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",yc(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){aa(e)||(e=0),this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){var e=this.getPropertyValue("radius");return aa(e)||(e=0),e},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return aa(e)||(e=this.radius),e},set:function(e){this.setPropertyValue("radiusY",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Na(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(e){this.setPropertyValue("innerCornerRadius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(e){this.setPropertyValue("shiftRadius",e),this.dx=e*this.radius*this.ix,this.dy=e*this.radiusY*this.iy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ix",{get:function(){return ja(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iy",{get:function(){return this.radius,ia(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");if(aa(e))return e;var t=.5;e instanceof za&&(t=e.value);var r=Na(this.innerRadius,this.radius);return this.ix*(r+(this.radius-r)*t)},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");if(aa(e))return e;var t=.5;e instanceof za&&(t=e.value);var r=Na(this.innerRadius,this.radius);return this.iy*(r+(this.radius-r)*t)+this.slice.dy},t}(na);ca.registeredClasses.Slice=Hc;var Si=function(e){function r(){var r=e.call(this)||this;r.className="Preloader",r.width=ha(100),r.height=ha(100);var t=new Ba,i=r.createChild(na);i.shouldClone=!1;var s=i.createChild(Hc);s.shouldClone=!1,s.radius=53,s.arc=360,s.fill=t.getFor("fill"),s.fillOpacity=.8,s.innerRadius=42,s.isMeasured=!1,r.backgroundSlice=s;var a=i.createChild(Hc);a.shouldClone=!1,a.radius=50,a.innerRadius=45,a.fill=t.getFor("alternativeBackground"),a.fillOpacity=.2,a.isMeasured=!1,r.progressSlice=a;var l=i.createChild(vb);return l.shouldClone=!1,l.horizontalCenter="middle",l.verticalCenter="middle",l.isMeasured=!1,l.fill=t.getFor("text"),l.align="center",l.valign="middle",l.textAlign="middle",l.fillOpacity=.4,r.label=l,r.background.opacity=1,r.background.fill=t.getFor("background"),r.contentAlign="center",r.contentValign="middle",r.delay=300,r.states.create("hidden").properties.opacity=0,r.visible=!1,r.hide(0),r.__disabled=!0,r._disposers.push(r.backgroundSlice),r._disposers.push(r.progressSlice),r._disposers.push(r.label),r._disposers.push(i),r}return da(r,e),Object.defineProperty(r.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(e){var r=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",e),this.progressSlice.arc=360*e,this.label&&(this.label.text=Math.round(100*e)+"%"),e>=1?(this._started&&(this._started=void 0),ca.events.once("enterframe",function(){var e=r.hide();e&&!e.isFinished()?e.events.once("animationended",function(){r.__disabled=!0}):r.__disabled=!0}),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):e>0&&(this.delay?this._started?this._started+this.delay<=new Date().getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=new Date().getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(e){this.setPropertyValue("delay",e)},enumerable:!0,configurable:!0}),r}(na);ca.registeredClasses.Preloader=Si;var rg=function(e){function t(){var t=e.call(this)||this;t.className="ResizeButton",t.orientation="horizontal",t.layout="absolute",t.horizontalCenter="middle",t.verticalCenter="middle",t.draggable=!0,t.padding(8,8,8,8),t.background.cornerRadius(20,20,20,20);var r=new sa;r.element=t.paper.add("path");var o=ka({x:-2,y:-6});return o+=ea({x:-2,y:6}),o+=ka({x:2,y:-6}),o+=ea({x:2,y:6}),r.path=o,r.pixelPerfect=!0,r.padding(0,4,0,4),r.stroke=new Ba().getFor("alternativeText"),r.strokeOpacity=.7,t.icon=r,t.label.dispose(),t.label=void 0,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"orientation",{set:function(e){var t=this.icon;t&&(t.rotation="horizontal"==e?0:-90)},enumerable:!0,configurable:!0}),t}(qc);ca.registeredClasses.ResizeButton=rg;var Qn=function(e){function t(){var t=e.call(this)||this;t.className="CloseButton",t.padding(8,8,8,8),t.showSystemTooltip=!0,t.width=30,t.height=30;var r=new Ba;t.cursorOverStyle=fb.pointer;var o=t.background;o.cornerRadius(20,20,20,20);var i=r.getFor("background");o.fill=i,o.stroke=r.getFor("primaryButton"),o.strokeOpacity=1,o.strokeWidth=1;var a=r.getFor("primaryButtonActive"),$=o.states.getKey("hover");$.properties.strokeWidth=3,$.properties.fill=i;var p=o.states.getKey("down");p.properties.stroke=a,p.properties.fill=i;var s=new sa;return s.element=t.paper.add("path"),s.stroke=o.stroke,t.icon=s,t.applyTheme(),t}return da(t,e),t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.pixelWidth/3,r=this.pixelHeight/3,o=ka({x:-t/2,y:-r/2});o+=ea({x:t/2,y:r/2}),o+=ka({x:t/2,y:-r/2}),o+=ea({x:-t/2,y:r/2}),this.icon.path=o,this.invalidateLayout()},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Close"))},t}(qc);ca.registeredClasses.CloseButton=Qn;var Rn=function(t){function e(){var e=t.call(this)||this;e.className="SwitchButton",e.tooltipY=0,e.layout="horizontal",e.contentAlign="center",e.contentValign="middle",e.padding(8,16,8,16),e.setStateOnChildren=!0,e.states.create("active");var i=new Ba,r=new vb;r.fillOpacity=.3,r.states.create("active").properties.fillOpacity=1,r.isActive=!0,e.leftLabel=r;var o=new qc,n=new Fc;o.contentValign="none",o.padding(0,0,0,0),n.radius=10,o.icon=n,o.icon.valign="middle",o.label=void 0;var l=ha(100);o.background.cornerRadius(l,l,l,l),o.width=3.5*n.radius,o.height=2.1*n.radius,o.marginLeft=8,o.marginRight=8,o.togglable=!0,n.dx=.7*-n.radius,n.fill=i.getFor("primaryButton"),n.states.create("hover").properties.fill=i.getFor("primaryButtonHover");var s=n.states.create("active");s.properties.fill=i.getFor("primaryButtonActive"),s.properties.dx=.7*n.radius,e.switchButton=o,e.events.on("toggled",function(){e.leftLabel.isActive=!e.isActive,e.rightLabel.isActive=e.isActive});var a=new vb;return a.fillOpacity=.3,a.states.create("active").properties.fillOpacity=1,e.rightLabel=a,e.role="button",e.focusable=!0,a.valign="middle",r.valign="middle",o.valign="middle",e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(t){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=t,t&&(t.parent=this,t.interactionsEnabled=!1,t.shouldClone=!1,this._disposers.push(this._leftLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(t){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=t,t&&(t.parent=this,t.interactionsEnabled=!1,t.shouldClone=!1,this._disposers.push(this._rightLabel))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"switchButton",{set:function(t){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=t,t&&(t.parent=this,t.shouldClone=!1,this._disposers.push(this._switchButton))},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),e.leftLabel&&this.leftLabel.copyFrom(e.leftLabel),e.rightLabel&&this.rightLabel.copyFrom(e.rightLabel),e.switchButton&&this.switchButton.copyFrom(e.switchButton)},e}(na);ca.registeredClasses.SwitchButton=Rn;var Je=function(t){function e(){var e=t.call(this)||this;e._previousStart=0,e._previousEnd=1,e._prevStart=0,e._prevEnd=1,e._isBusy=!1,e._skipRangeEvents=!1,e.updateWhileMoving=!0,e.className="Scrollbar",e.minHeight=12,e.minWidth=12,e.animationDuration=0,e.animationEasing=Cc,e.margin(10,10,10,10);var i=new Ba,r=e.background;return r.cornerRadius(10,10,10,10),r.fill=i.getFor("fill"),r.fillOpacity=.5,e.showSystemTooltip=!0,e.startGrip=new rg,e.endGrip=new rg,e.events.on("transformed",e.updateThumb,e,!1),e.start=0,e.end=1,e.role="scrollbar",e.thumb.role="slider",e.thumb.readerLive="polite",e.startGrip.role="slider",e.endGrip.role="slider",e.events.once("inited",function(){e._previousStart=void 0,e.dispatchRangeChange()},void 0,!1),e.hideGrips=!1,e.orientation="horizontal",e.setSVGAttribute({"aria-valuemin":"0"}),e.setSVGAttribute({"aria-valuemax":"100"}),e.applyTheme(),e}return da(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),"horizontal"===this.orientation?(ba(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),ba(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),ba(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),ba(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(ba(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),ba(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),ba(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),ba(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr()},e.prototype.validateLayout=function(){this.updateSize(),t.prototype.validateLayout.call(this),this.updateExtremes()},e.prototype.processBackground=function(){t.prototype.processBackground.call(this);var e=this.background;e.clickable=!0,e.events.on("hit",this.handleBgHit,this,void 0)},e.prototype.handleBgHit=function(t){this.makeBusy();var e=t.spritePoint;e=wb(e,this.background,this);var i=this.thumb;if("horizontal"==this.orientation){var r=e.x-i.pixelWidth/2;r=ma(r,0,this.innerWidth-i.pixelWidth),this._thumbAnimation=i.animate({property:"x",to:r},this.animationDuration,this.animationEasing)}else{var s=e.y-i.pixelHeight/2;s=ma(s,0,this.innerHeight-i.pixelHeight),this._thumbAnimation=i.animate({property:"y",to:s},this.animationDuration,this.animationEasing)}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy())},e.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations()},e.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0)},e.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration)},e.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange()},e.prototype.dispatchRangeChange=function(){this._previousEnd==this.end&&this._previousStart==this.start||(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"))},e.prototype.updateThumb=function(){if(this.parent){var t=this.thumb,e=this.start,i=this.end,r=this.startGrip,s=this.endGrip;if("horizontal"==this.orientation){var n=this.innerWidth;t.width=n*(i-e),t.maxX=n-t.pixelWidth,t.x=e*n,r.moveTo({x:t.pixelX,y:0},void 0,void 0,!0),s.moveTo({x:t.pixelX+t.pixelWidth,y:0},void 0,void 0,!0),r.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*e)+"%",position:e}).value),r.readerValueNow=""+Math.round(100*e),r.readerValueText=r.readerTitle,s.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*i)+"%",position:i}).value),s.readerValueNow=""+Math.round(100*i),s.readerValueText=s.readerTitle}else{var o=this.innerHeight;t.height=o*(i-e),t.maxY=o-t.pixelHeight,t.y=(1-i)*o,r.moveTo({x:0,y:t.pixelY+t.pixelHeight},void 0,void 0,!0),s.moveTo({x:0,y:t.pixelY},void 0,void 0,!0),r.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-e))+"%",position:1-e}).value),r.readerValueNow=""+Math.round(100*e),r.readerValueText=r.readerTitle,s.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-i))+"%",position:1-i}).value),s.readerValueNow=""+Math.round(100*i),s.readerValueText=s.readerTitle}t.readerTitle=this.language.translate("From %1 to %2",void 0,this.adapter.apply("positionValue",{value:Math.round(100*e)+"%",position:e}).value,this.adapter.apply("positionValue",{value:Math.round(100*i)+"%",position:i}).value),t.readerValueNow=""+Math.round(100*e),t.readerValueText=t.readerTitle,this.readerValueNow=""+Math.round(100*e),this.readerValueText=t.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&this.dispatchRangeChange()}},e.prototype.updateExtremes=function(){var t=0,e=0,i=0,r=0;"horizontal"==this.orientation?(i=this.innerWidth,e=r=this.innerHeight/2):(r=this.innerHeight,t=i=this.innerWidth/2);var s=this.startGrip;s.minX=t,s.maxX=i,s.minY=e,s.maxY=r;var n=this.endGrip;n.minX=t,n.maxX=i,n.minY=e,n.maxY=r;var o=this.thumb;o.minX=t,o.maxX=i,o.minY=e,o.maxY=r},e.prototype.updateSize=function(){var t=this.orientation,e=this.startGrip;e&&(e.orientation=t),this.endGrip&&(this.endGrip.orientation=t);var i=this.thumb;i&&("horizontal"==t?(aa(this._pixelWidth)||this.width instanceof za||(this.width=ha(100)),ba(this.percentHeight)&&(this.height=this.minHeight),i.height=this.innerHeight,i.verticalCenter="middle",i.horizontalCenter="left"):(aa(this._pixelHeight)||this.height instanceof za||(this.height=ha(100)),ba(this.percentWidth)&&(this.width=this.minWidth),i.width=this.innerWidth,i.verticalCenter="top",i.horizontalCenter="middle"))},Object.defineProperty(e.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(t){this._isBusy||(this.__start=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__start",{get:function(){return this._start},set:function(t){this._start=this.getPosition(t),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(t){this._isBusy||(this.__end=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"__end",{get:function(){return this._end},set:function(t){this._end=this.getPosition(t),this.updateThumb()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return{start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),e.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0)},e.prototype.fixRange=function(t){t.start==ga(this._start,2)&&t.end==ga(this._end,2)||(this._start=t.start,this._end=t.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate())},e.prototype.getPosition=function(t){return ma(ga(t,4),0,1)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t)&&("horizontal"===t?(this.startGrip.cursorOverStyle=fb.horizontalResize,this.endGrip.cursorOverStyle=fb.horizontalResize):(this.startGrip.cursorOverStyle=fb.verticalResize,this.endGrip.cursorOverStyle=fb.verticalResize),this.updateByOrientation(),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.updateByOrientation=function(){},Object.defineProperty(e.prototype,"startGrip",{get:function(){return this._startGrip},set:function(t){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=t,this.processGrip(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endGrip",{get:function(){return this._endGrip},set:function(t){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=t,this.processGrip(t)},enumerable:!0,configurable:!0}),e.prototype.processGrip=function(t){t.parent=this,t.isMeasured=!1,t.focusable=!0,t.shouldClone=!1,t.zIndex=100,t.events.on("drag",this.handleGripDrag,this,!1),t.events.on("dragstop",this.makeUnbusy,this,!1),t.events.on("down",this.makeBusy,this,!1),this._disposers.push(t)},e.prototype.handleGripDrag=function(t){this.makeBusy(),t.target===this._startGrip?this._usingGrip="start":this._usingGrip="end","horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb()},Object.defineProperty(e.prototype,"thumb",{get:function(){if(!this._thumb){var t=new qc;t.background.cornerRadius(10,10,10,10),t.padding(0,0,0,0),this.thumb=t}return this._thumb},set:function(t){var e=this;t&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=t,t.parent=this,t.isMeasured=!1,t.inert=!0,t.draggable=!0,t.clickable=!0,t.hoverable=!0,t.focusable=!0,t.shouldClone=!1,t.zIndex=0,t.cursorOverStyle=fb.grab,t.cursorDownStyle=fb.grabbing,t.events.on("dragstart",this.makeBusy,this,!1),t.events.on("dragstop",this.makeUnbusy,this,!1),t.events.on("positionchanged",this.handleThumbPosition,this,!1),t.events.on("sizechanged",this.handleThumbPosition,this,!1),t.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(ra().body.events.on("keyup",function(t){hc.isKey(t.event,["space","enter"])&&e.thumb.isFocused&&(t.event.preventDefault(),e.handleDoubleClick())})),this._disposers.push(this._thumb))},enumerable:!0,configurable:!0}),e.prototype.handleDoubleClick=function(){this.makeBusy();var t=0,e=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(t=this._prevStart,e=this._prevEnd);var i=this.animate([{property:"__start",to:t},{property:"__end",to:e}],this.animationDuration,this.animationEasing);i&&!i.isFinished()?(i.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=i):this.makeUnbusy()},e.prototype.handleThumbPosition=function(){var t=this.thumb;if("horizontal"==this.orientation){var e=this.innerWidth,i=t.innerWidth,r=t.pixelX;this._start=r/e,this._end=(r+i)/e,this.updateThumb()}else{var s=this.innerHeight,n=t.innerHeight,o=t.pixelY;this._start=1-(o+n)/s,this._end=1-o/s,this.updateThumb()}},e.prototype.createBackground=function(){return new _b},Object.defineProperty(e.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(t){var e=this;this._hideGrips=t,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),t?(this._overDisposer=this.events.on("over",function(){e.startGrip.show(),e.endGrip.show()},void 0,!1),this._outDisposer=this.events.on("out",function(){e.startGrip.hide(),e.endGrip.hide()},void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(t){this.setPropertyValue("animationDuration",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(t){this.setPropertyValue("animationEasing",t)},enumerable:!0,configurable:!0}),e.prototype.asFunction=function(e){return"animationEasing"==e||t.prototype.asIs.call(this,e)},e}(na);ca.registeredClasses.Scrollbar=Je;var Sn=function(e){function r(){var r=e.call(this)||this;return r.className="Slider",r.thumb.opacity=0,r.thumb.interactionsEnabled=!1,r.endGrip.opacity=0,r.endGrip.interactionsEnabled=!1,r.startGrip.events.on("drag",function(){r.endGrip.x=r.startGrip.x,r.endGrip.y=r.startGrip.y}),r.applyTheme(),r}return da(r,e),Object.defineProperty(r.prototype,"__end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this._start},set:function(e){this._isBusy||(this.__start=e)},enumerable:!0,configurable:!0}),r}(Je);ca.registeredClasses.Slider=Sn;var sg=function(e){function r(){var r=e.call(this)||this;r.className="TextLink",r.selectable=!0;var t=new Ba;return r.fill=t.getFor("primaryButton").brighten(.3),r.states.create("hover").properties.fill=t.getFor("primaryButtonHover").brighten(.3),r.states.create("down").properties.fill=t.getFor("primaryButtonDown").brighten(.3),r.cursorOverStyle=fb.pointer,r.applyTheme(),r}return da(r,e),r}(vb);ca.registeredClasses.TextLink=sg;var gd=function(e){function t(){var t=e.call(this)||this;return t.properties={},t.isTemplate=!1,t._scale=1,t._nonScaling=!0,t.className="Filter",t.filterPrimitives=new Aa,t.properties.filterUnits="objectBoundingBox",t.filterPrimitives.events.on("inserted",function(e){t._disposers.push(e.newValue)}),t.width=120,t.height=120,t.applyTheme(),t}return da(t,e),t.prototype.appendPrimitives=function(e){fa(this.filterPrimitives.iterator(),function(t){e.add(t)})},t.prototype.animate=function(e,t,i){return new Ob(this,e,t,i).start()},Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),qa(t.properties,function(e,t){i[e]=t})},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:Kd()},set:function(e){this._paper!=e&&(this._paper=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new bd(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.updateScale()},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){},Object.defineProperty(t.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(e){this.properties.filterUnits=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(e){this._nonScaling=e,e||(this._scale=1),this.updateScale()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{set:function(e){this.setSprite(e)},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.filters.removeValue(this),this._sprite=e},t}(rb);var Ti=function(e){function r(){var r=e.call(this)||this;return r.className="DropShadowFilter",r.color=oa("#000"),r.feGaussianBlur=r.paper.add("feGaussianBlur"),r.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),r.filterPrimitives.push(r.feGaussianBlur),r.feOffset=r.paper.add("feOffset"),r.feOffset.attr({result:"offsetBlur"}),r.filterPrimitives.push(r.feOffset),r.feFlood=r.paper.add("feFlood"),r.feFlood.attr({"flood-color":r.color}),r.filterPrimitives.push(r.feFlood),r.feComposite=r.paper.add("feComposite"),r.feComposite.attr({in2:"offsetBlur",operator:"in"}),r.filterPrimitives.push(r.feComposite),r.feMerge=r.paper.addGroup("feMerge"),r.feMerge.add(r.paper.add("feMergeNode")),r.feMerge.add(r.paper.add("feMergeNode").attr({in:"SourceGraphic"})),r.filterPrimitives.push(r.feMerge),r.width=200,r.height=200,r.blur=1.5,r.dx=3,r.dy=3,r.opacity=.5,r.applyTheme(),r}return da(r,e),Object.defineProperty(r.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.feFlood&&this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feFlood.attr({"flood-opacity":e})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dx",{get:function(){return this.properties.dx},set:function(e){this.properties.dx=e,this.feOffset.attr({dx:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dy",{get:function(){return this.properties.dy},set:function(e){this.properties.dy=e,this.feOffset.attr({dy:e/this.scale})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale})},enumerable:!0,configurable:!0}),r.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur},r}(gd);ca.registeredClasses.DropShadowFilter=Ti;var Ke=function(t){function e(){var e=t.call(this)||this;e._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},e._pointTo={x:0,y:0},e.fitPointerToBounds=!1,e._verticalOrientation="up",e.className="Tooltip",e.isMeasured=!1,e.getFillFromObject=!0,e.margin(5,5,5,5),e.defaultState.transitionDuration=1,e.hiddenState.transitionDuration=1;var i=e.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=oa("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var o=new Ti;o.dy=1,o.dx=1,o.opacity=.5,i.filters.push(o),e.autoTextColor=!0;var r=e.createChild(vb);return r.shouldClone=!1,e.label=r,r.padding(7,12,4,12),r.interactionsEnabled=!1,r.horizontalCenter="middle",r.fill=oa("#ffffff"),e._disposers.push(r),e.label.events.on("sizechanged",e.drawBackground,e),e.label.zIndex=1,e.pointerOrientation="vertical",e.animationDuration=0,e.animationEasing=Cc,e.setPropertyValue("showInViewport",!1),e.role="tooltip",e.visible=!1,e.opacity=0,e.x=0,e.y=0,e.events.on("visibilitychanged",e.handleVisibility,e),e.applyTheme(),e}return da(e,t),e.prototype.handleVisibility=function(){this.visible&&this.label.invalidate()},Object.defineProperty(e.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(t){this.setPropertyValue("getStrokeFromObject",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(t){this.setPropertyValue("autoTextColor",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(t){var e=this;this.setPropertyValue("keepTargetHover",t,!0)&&t&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",function(t){e.targetSprite&&e.targetSprite.hoverable&&(e.targetSprite.isHover=!0)})),this._disposers.push(this.events.on("out",function(t){e.targetSprite&&e.targetSprite.hoverable&&(e.targetSprite.isHover=!1)})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(t){this.setPropertyValue("showInViewport",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(t){this.setPropertyValue("getFillFromObject",t,!0)},enumerable:!0,configurable:!0}),e.prototype.createBackground=function(){return new Mn},Object.defineProperty(e.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(t){this.setPropertyValue("pointerOrientation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(t){this.setPropertyValue("animationDuration",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(t){this.setPropertyValue("animationEasing",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.label.html},set:function(t){this.label.html!=t&&(this.label.html=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.label.text},set:function(t){this.label.text!=t&&(this.label.text=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.label;e.invalid&&e.validate();var i,o,r=this._pointTo.x,n=this._pointTo.y,a=this._boundingRect,s=e.measuredWidth,p=e.measuredHeight,l=this.background.pointerLength;if(s>a.width){Yf({x:a.x,y:a.y},this.parent);var u=Yf({x:a.x+a.width,y:a.y+a.height},this.parent),h=document.body.offsetWidth;ub(document.body.offsetHeight),u.x>h/2?a.x=a.width-s:a.width=a.x+s}var c=this.pointerOrientation;"horizontal"==c||"left"==c||"right"==c?(o=-p/2,i="horizontal"==c?r>a.x+a.width/2?-s/2-l:s/2+l:"left"==c?s/2+l:-s/2-l):(i=ma(0,a.x-r+s/2,a.x-r+a.width-s/2),"vertical"==c?n>a.y+p+l?(o=-p-l,this._verticalOrientation="up"):(o=l,this._verticalOrientation="down"):"down"==c?(o=-p-l,this._verticalOrientation="up"):(o=l,this._verticalOrientation="down")),o=ma(o,a.y-n,a.y+a.height-p-n),e.x=i,e.y=o,this.drawBackground()},e.prototype.updateBackground=function(){this.group.addToBack(this.background.group)},e.prototype.drawBackground=function(){var t=this.label,e=this.background,i=t.measuredWidth,o=t.measuredHeight,r=this._boundingRect,n=i,a=t.pixelX-i/2,s=o,p=t.pixelY,l=this._pointTo.x,u=this._pointTo.y,h=r.x-l,c=h+r.width,d=r.y-u,g=d+r.height;e.x=a,e.y=p,e.width=n,e.height=s,this.fitPointerToBounds?(e.pointerX=ma(-e.x,h-e.x,c-e.x),e.pointerY=ma(-e.y,d-e.y,g-e.y)):(e.pointerX=-e.x,e.pointerY=-e.y),e.validate()},e.prototype.delayedPointTo=function(t,e){var i=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=ca.events.once("exitframe",function(){i.pointTo(t,e)}),this.addDisposer(this._pointToDisposer)},e.prototype.pointTo=function(t,e){this._pointTo.x==t.x&&this._pointTo.y==t.y||(this._pointTo=t,this.invalidate(),!this.visible||e?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new Ob(this,[{property:"x",to:t.x,from:this.pixelX},{property:"y",to:t.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()))},e.prototype.setBounds=function(t){var e=this._boundingRect;e.x==t.x&&e.y==t.y&&e.width==t.width&&e.height==t.height||(this._boundingRect=t,this.invalidate())},Object.defineProperty(e.prototype,"boundingContainer",{set:function(t){this._boundingContainer=t,t.events.on("sizechanged",this.updateBounds,this),t.events.on("positionchanged",this.updateBounds,this)},enumerable:!0,configurable:!0}),e.prototype.updateBounds=function(){var t=this._boundingContainer,e=Xf({x:t.pixelX,y:t.pixelY,width:t.maxWidth,height:t.maxHeight},t);this.setBounds(e)},Object.defineProperty(e.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.label.copyFrom(e.label),e._boundingRect&&(this._boundingRect=e._boundingRect)},e.prototype.asFunction=function(e){return"animationEasing"==e||t.prototype.asIs.call(this,e)},e}(na);ca.registeredClasses.Tooltip=Ke;var Ui=function(t){function e(){var e=t.call(this)||this;return e.className="Trapezoid",e.element=e.paper.add("path"),e.topSide=ha(100),e.bottomSide=ha(100),e.leftSide=ha(100),e.rightSide=ha(100),e.isMeasured=!1,e.applyTheme(),e}return da(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.pixelWidth,r=this.pixelHeight,i=Na(this.topSide,e),o=Na(this.bottomSide,e),$=Na(this.leftSide,r),p=Na(this.rightSide,r),a=(e-i)/2,h=(r-$)/2,n=e-(e-i)/2,l=(r-p)/2,f=e-(e-o)/2,u=r-(r-p)/2,c=(e-o)/2,s=r-(r-$)/2,d="",m="",y="",G="";if(ba(this.horizontalNeck)){var g=this.horizontalNeck.value;d=ea({x:e*g,y:Math.max(h,l)}),y=ea({x:e*g,y:Math.min(u,s)})}if(ba(this.verticalNeck)){var b=this.verticalNeck.value;m=ea({x:Math.min(n,f),y:r*b}),G=ea({x:Math.max(a,c),y:r*b})}var P=ka({x:a,y:h})+d+ea({x:n,y:l})+m+ea({x:f,y:u})+y+ea({x:c,y:s})+G;this.path=P},Object.defineProperty(e.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(t){this.setPercentProperty("topSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(t){this.setPercentProperty("bottomSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(t){this.setPercentProperty("leftSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(t){this.setPercentProperty("rightSide",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(t){this.setPropertyValue("horizontalNeck",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(t){this.setPropertyValue("verticalNeck",t,!0)},enumerable:!0,configurable:!0}),e}(sa);ca.registeredClasses.Trapezoid=Ui;var tg=function(t){function e(){var e=t.call(this)||this;return e.className="Triangle",e.element=e.paper.add("path"),e.direction="top",e.applyTheme(),e}return da(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e,$=this.pixelWidth,r=this.pixelHeight;switch(this.direction){case"right":e=ka({x:0,y:0})+ea({x:$,y:r/2})+ea({x:0,y:r})+Va();break;case"left":e=ka({x:$,y:0})+ea({x:0,y:r/2})+ea({x:$,y:r})+Va();break;case"bottom":e=ka({x:0,y:0})+ea({x:$,y:0})+ea({x:$/2,y:r})+Va();break;case"top":e=ka({x:$/2,y:0})+ea({x:$,y:r})+ea({x:0,y:r})+Va();}this.path=e},Object.defineProperty(e.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(t){this.setPropertyValue("direction",t,!0)},enumerable:!0,configurable:!0}),e}(sa);ca.registeredClasses.Triangle=tg;var sc=function(){function $($,t){this._tensionX=$,this._tensionY=t}return $.prototype.smooth=function($){for(var t=$.length-1;t>0;t--){var r=$[t],e=$[t-1];Math.abs(r.x-e.x)<.1&&Math.abs(r.y-e.y)<.1&&$.splice(t,1)}var o=this._tensionX,i=this._tensionY;if($.length<3||o>=1&&i>=1)return Od($);var a=$[0],n=$[$.length-1],s=!1;ga(a.x,3)==ga(n.x)&&ga(a.y)==ga(n.y)&&(s=!0);for(var p="",h=(t=0,$.length-1);t<h;t++){r=$[t-1],e=$[t];var c=$[t+1],E=$[t+2];0===t?r=s?$[$.length-2]:$[t]:t==$.length-2&&(E=s?$[1]:$[t+1]);var G=Ih(r,e,c,E,o,i),I=Jh(r,e,c,E,o,i);p+=He(c,G,I)}return p},$}();function Qd($,t,r,e,o,i){var a=$.x,n=$.y,s=t.x,p=t.y,h=Ea($,t);i&&(r=h/Math.round(h/r));var c=ca.getCache(_h(["wavedLine",$.x,t.x,$.y,t.y,r,e]));if(!c){if(h>0){var E=Math.atan2(p-n,s-a),G=Math.cos(E),I=Math.sin(E),l=r*G,m=r*I;if(r<=1||e<=1)c=ea(t);else{var u=Math.round(2*h/r),x=[],y=1;s<a&&(y*=-1),p<n&&(y*=-1);for(var v=0;v<=u;v++){var f=a+v*l/2+(y*=-1)*e/2*I,N=n+v*m/2-y*e/2*G;x.push({x:f,y:N})}c=new sc(o,o).smooth(x)}}else c="";ca.setCache(_h(["wavedLine",$.x,t.x,$.y,t.y,r,e]),c)}return c}var e=function(){function $($){this._closed=$.closed}return $.prototype.smooth=function($){var t=this,r=NaN,e=NaN,o=NaN,i=NaN,a=NaN,n=NaN,s=NaN,p=NaN,h=NaN,c=NaN,E=0,G="",I=function($,t){G+=He({x:(r+4*e+$)/6,y:(n+4*s+t)/6},{x:(2*r+e)/3,y:(2*n+s)/3},{x:(r+2*e)/3,y:(n+2*s)/3})},l=function($){var l=$.x,m=$.y;switch(E){case 0:E=1,t._closed?(o=l,p=m):G+=ea({x:l,y:m});break;case 1:E=2,t._closed&&(i=l,h=m);break;case 2:if(E=3,t._closed){a=l,c=m,G+=ka({x:(r+4*e+l)/6,y:(n+4*s+m)/6});break}G+=ea({x:(5*r+e)/6,y:(5*n+s)/6});default:I(l,m);}r=e,e=l,n=s,s=m};if(la($,l),this._closed)switch(E){case 1:G+=ka({x:o,y:p}),G+=Va();break;case 2:G+=ka({x:(o+2*i)/3,y:(p+2*h)/3}),G+=ea({x:(i+2*o)/3,y:(h+2*p)/3}),G+=Va();break;case 3:l({x:o,y:p}),l({x:i,y:h}),l({x:a,y:c});}else{switch(E){case 3:I(e,s);case 2:G+=ea({x:e,y:s});}G+=Va()}return G},$}();var Le=function(e){function t(){var t=e.call(this)||this;return t.className="WavedCircle",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.fill=void 0,t.fillOpacity=0,t.tension=.8,t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){var e="",t=this.pixelRadius;if(t>0){var i=this.getPoints(t);e=ka(i[0])+new sc(this.tension,this.tension).smooth(i)}var r=this.pixelInnerRadius;r>0&&((i=this.getPoints(r)).reverse(),e+=ka(i[0])+new sc(this.tension,this.tension).smooth(i));this.path=e},t.prototype.getPoints=function(e){for(var t=e*Math.PI*2,i=this.waveHeight/2,r=t/Math.round(t/this.waveLength),n=r/2,o=[],a=t/r,s=0;s<=a;s++){var $=s*r/t*360,p=(s*r+n)/t*360;o.push({x:(e-i)*ja($),y:(e-i)*ia($)}),o.push({x:(e+i)*ja(p),y:(e+i)*ia(p)})}return o.pop(),o},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return Na(this.innerRadius,ya(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(Fc);ca.registeredClasses.WavedCircle=Le;var Ic=function(e){function t(){var t=e.call(this)||this;return t.className="WavedLine",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.tension=.8,t.pixelPerfect=!1,t.fill=oa(),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){var e={x:this.x1,y:this.y1},t={x:this.x2,y:this.y2};this.path=ka(e)+Qd(e,t,this.waveLength,this.waveHeight,this.tension,!0)},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),t}(Pb);var Vi=function(e){function t(){var t=e.call(this)||this;return t.className="WavedRectangle",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.tension=.8,t.setPropertyValue("wavedLeft",!0),t.setPropertyValue("wavedRight",!0),t.setPropertyValue("wavedTop",!0),t.setPropertyValue("wavedBottom",!0),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.pixelWidth,i=this.pixelHeight;if(t>0&&i>0){var r={x:0,y:0},a={x:t,y:0},o={x:t,y:i},n={x:0,y:i},p=Math.min(t,this.waveLength),s=Math.min(i,this.waveHeight),h=Math.min(i,this.waveLength),c=Math.min(t,this.waveHeight),u="",l="",v="",d="";this.wavedTop&&(u=Qd(r,a,p,s,this.tension,!0)),this.wavedRight&&(l=Qd(a,o,h,c,this.tension,!0)),this.wavedBottom&&(v=Qd(o,n,p,s,this.tension,!0)),this.wavedLeft&&(d=Qd(n,r,h,c,this.tension,!0)),this.path=ka(r)+u+ea(a)+l+ea(o)+v+ea(n)+d+"z"}},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.setWavedSides=function(e,t,i,r){this.wavedTop=e,this.wavedRight=t,this.wavedBottom=i,this.wavedLeft=r},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(e){this.setPropertyValue("wavedRight",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(e){this.setPropertyValue("wavedLeft",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(e){this.setPropertyValue("wavedTop",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(e){this.setPropertyValue("wavedBottom",e,!0)},enumerable:!0,configurable:!0}),t}(Fe);var Wi=function(t){function e(){var e=t.call(this)||this;e.className="ZoomOutButton",e.padding(9,9,9,9),e.showSystemTooltip=!0;var r=new Ba,o=e.background;o.cornerRadius(20,20,20,20),o.fill=r.getFor("primaryButton"),o.stroke=r.getFor("primaryButtonStroke"),o.strokeOpacity=0,o.states.getKey("hover").properties.fill=r.getFor("primaryButtonHover"),o.states.getKey("down").properties.fill=r.getFor("primaryButtonActive");var a=new sa;a.element=e.paper.add("path");var i=ka({x:0,y:0});return i+=ea({x:11,y:0}),a.path=i,a.pixelPerfect=!0,a.padding(8,3,8,3),a.stroke=r.getFor("primaryButtonText"),e.icon=a,e.applyTheme(),e}return da(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"))},e}(qc);ca.registeredClasses.ZoomOutButton=Wi;var Tn=function(t){function e(){var e=t.call(this)||this;e.className="PlayButton",e.padding(12,12,12,12),e.showSystemTooltip=!0;var r=new Ba,i=e.background;i.cornerRadius(25,25,25,25),i.fill=r.getFor("primaryButton"),i.stroke=r.getFor("primaryButtonStroke"),i.strokeOpacity=0,i.states.getKey("hover").properties.fill=r.getFor("primaryButtonHover"),i.states.getKey("down").properties.fill=r.getFor("primaryButtonActive");var o=new tg;o.direction="right",o.width=9,o.height=11,o.marginLeft=1,o.marginRight=1,o.horizontalCenter="middle",o.verticalCenter="middle",o.stroke=r.getFor("primaryButtonText"),o.fill=o.stroke,e.icon=o;var a=new _b;a.width=11,a.height=11,a.horizontalCenter="middle",a.verticalCenter="middle",a.cornerRadius(0,0,0,0),a.stroke=r.getFor("primaryButtonText"),a.fill=o.stroke,e.togglable=!0;var l=e.states.create("active");return l.transitionDuration=0,l.properties.icon=a,e.defaultState.transitionDuration=0,e.applyTheme(),e}return da(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Play"))},e}(qc);ca.registeredClasses.PlayButton=Tn;var Xi=function(r){function e(){var e=r.call(this)||this;return e.className="ColorModifier",e.applyTheme(),e}return da(e,r),e.prototype.modify=function(r){return r},e}(rb);ca.registeredClasses.ColorModifier=Xi;var ug=function(t){function e(){var e=t.call(this)||this;return e.lightnesses=[],e.brightnesses=[],e.opacities=[],e.offsets=[],e.className="GradientModifier",e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(t){this._lightnesses=t,this._brightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(t){this._brightnesses=t,this._lightnesses=[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacities",{get:function(){return this._opacities},set:function(t){this._opacities=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(t){this._offsets=t},enumerable:!0,configurable:!0}),e.prototype.modify=function(t){this.gradient.clear();var e=0;this.opacities&&(e=ua(e,this.opacities.length)),this.lightnesses&&(e=ua(e,this.lightnesses.length)),this.brightnesses&&(e=ua(e,this.brightnesses.length));for(var s,i,r=1,o=0;o<e;o++){var n=t;this.opacities&&aa(this.opacities[o])&&(r=this.opacities[o]),this.lightnesses&&aa(this.lightnesses[o])&&(s=this.lightnesses[o],i=void 0),this.brightnesses&&aa(this.brightnesses[o])&&(i=this.brightnesses[o],s=void 0),aa(i)?n=t.brighten(this.brightnesses[o]):aa(s)&&(n=t.lighten(this.lightnesses[o]));var p=this.offsets[o];this.gradient.addColor(n,r,p)}return this.gradient},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this._offsets=e.offsets,this._brightnesses=e.brightnesses,this._lightnesses=e.lightnesses,this._opacities=e.opacities},e}(Xi);ca.registeredClasses.GradientModifier=ug;var Me=function(r){function e(){var e=r.call(this)||this;return e.className="LinearGradientModifier",e.gradient=new Kb,e.applyTheme(),e}return da(e,r),e.prototype.copyFrom=function(e){r.prototype.copyFrom.call(this,e),this.gradient=e.gradient.clone()},e}(ug);ca.registeredClasses.LinearGradientModifier=Me;var Un=function(t){function e(){var e=t.call(this)||this;return e.className="Cone",e.angle=30,e.radius=ha(100),e.topRadius=ha(100),e.top=e.createChild(pg),e.top.shouldClone=!1,e.bottom=e.createChild(pg),e.bottom.shouldClone=!1,e.body=e.createChild(sa),e.body.shouldClone=!1,e.body.setElement(e.paper.add("path")),e.layout="none",e.bodyFillModifier=new Me,e.bodyFillModifier.lightnesses=[0,-.25,0],e.body.fillModifier=e.bodyFillModifier,e.applyTheme(),e}return da(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),Wa(this,this.top,Ua),Wa(this,this.bottom,Ua),Wa(this,this.body,Ua);var e,r,i,o=this.innerWidth,a=this.innerHeight,$=this.bottom,p=this.top,n=this.angle;"horizontal"==this.orientation?(e=a/2,$.y=a/2,p.y=a/2,p.x=o,r=(90-n)/90,i=0,this.bodyFillModifier.gradient.rotation=90):(r=0,i=(90-n)/90,e=o/2,$.y=a,$.x=o/2,p.x=o/2,this.bodyFillModifier.gradient.rotation=0);var s,l=this.radius.value*e,u=this.topRadius.value*e;$.radius=l-l*r,$.radiusY=l-l*i,p.radius=u-u*r,p.radiusY=u-u*i,s="horizontal"==this.orientation?ka({x:0,y:a/2-$.radiusY})+cb(-90,-180,$.radius,$.radiusY)+ea({x:o,y:a/2+p.radiusY})+cb(90,180,p.radius,p.radiusY)+Va():ka({x:o/2-p.radius,y:0})+cb(180,-180,p.radius,p.radiusY)+ea({x:o/2+$.radius,y:a})+cb(0,180,$.radius,$.radiusY)+Va(),this.body.path=s},Object.defineProperty(e.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(t){this.setPropertyValue("angle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPropertyValue("radius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(t){this.setPropertyValue("topRadius",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0}),e}(na);var vg=function(e){function r(){var r=e.call(this)||this;return r.className="LightenFilter",r.feColorMatrix=r.paper.add("feColorMatrix"),r.feColorMatrix.attr({type:"matrix"}),r.filterPrimitives.push(r.feColorMatrix),r.lightness=0,r.applyTheme(),r}return da(r,e),Object.defineProperty(r.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(e){this.properties.lightness=e;var r=e+1;this.feColorMatrix.attr({values:r+" 0 0 0 0 0 "+r+" 0 0 0 0 0 "+r+" 0 0 0 0 0 1 0"})},enumerable:!0,configurable:!0}),r}(gd);ca.registeredClasses.LightenFilter=vg;var Vn=function(e){function t(){var t=e.call(this)||this;t.angle=30,t.depth=30,t.className="Rectangle3D",t.layout="none";var i=t.createChild(sa);i.shouldClone=!1,i.setElement(t.paper.add("path")),i.isMeasured=!1,t.sideBack=i,t._disposers.push(t.sideBack);var $=t.createChild(sa);$.shouldClone=!1,$.setElement(t.paper.add("path")),$.isMeasured=!1,t.sideBottom=$,t._disposers.push(t.sideBottom);var o=t.createChild(sa);o.shouldClone=!1,o.setElement(t.paper.add("path")),o.isMeasured=!1,t.sideLeft=o,t._disposers.push(t.sideLeft);var r=t.createChild(sa);r.shouldClone=!1,r.setElement(t.paper.add("path")),r.isMeasured=!1,t.sideRight=r,t._disposers.push(t.sideRight);var p=t.createChild(sa);p.shouldClone=!1,p.setElement(t.paper.add("path")),p.isMeasured=!1,t.sideTop=p,t._disposers.push(t.sideTop);var s=t.createChild(sa);return s.shouldClone=!1,s.setElement(t.paper.add("path")),s.isMeasured=!1,t.sideFront=s,t._disposers.push(t.sideFront),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.innerWidth,i=this.innerHeight,$=this.depth,o=this.angle,r=ia(o),p=ja(o),s={x:0,y:0},a={x:t,y:0},l={x:t,y:i},h={x:0,y:i},n={x:$*p,y:-$*r},f={x:$*p+t,y:-$*r},d={x:$*p+t,y:-$*r+i},m={x:$*p,y:-$*r+i};this.sideFront.path=ka(s)+ea(a)+ea(l)+ea(h)+Va(),this.sideBack.path=ka(n)+ea(f)+ea(d)+ea(m)+Va(),this.sideLeft.path=ka(s)+ea(n)+ea(m)+ea(h)+Va(),this.sideRight.path=ka(a)+ea(f)+ea(d)+ea(l)+Va(),this.sideBottom.path=ka(h)+ea(m)+ea(d)+ea(l)+Va(),this.sideTop.path=ka(s)+ea(n)+ea(f)+ea(a)+Va()},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(t){var i;if(e.prototype.setFill.call(this,t),wa(t)&&(t=Ib(t)),t instanceof Ca)i=t.hex;else if(t instanceof Kb||t instanceof oc)i=t.stops.getIndex(0).color.hex;else{var $=new vg;$.lightness=-.2,this.sideBack.filters.push($);var o=$.clone();o.lightness=-.4,this.sideLeft.filters.push(o);var r=$.clone();r.lightness=-.2,this.sideRight.filters.push(r);var p=$.clone();p.lightness=-.1,this.sideTop.filters.push(p);var s=$.clone();s.lightness=-.5,this.sideBottom.filters.push(s)}i&&(this.sideBack.fill=oa(i).lighten(-.2),this.sideLeft.fill=oa(i).lighten(-.4),this.sideRight.fill=oa(i).lighten(-.2),this.sideTop.fill=oa(i).lighten(-.1),this.sideBottom.fill=oa(i).lighten(-.5))},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.sideBack.copyFrom(t.sideBack),this.sideLeft.copyFrom(t.sideLeft),this.sideRight.copyFrom(t.sideRight),this.sideTop.copyFrom(t.sideTop),this.sideBottom.copyFrom(t.sideBottom)},t}(na);var Wn=function(t){function i(){var i=t.call(this)||this;i.className="Slice3D",i.layout="none";var e=i.createChild(sa);i.edge=e,e.shouldClone=!1,e.isMeasured=!1,e.toBack(),i.angle=30,i.depth=20;var $=i.createChild(sa);i.sideA=$,$.shouldClone=!1,$.isMeasured=!1;var r=i.createChild(sa);return i.sideB=r,r.shouldClone=!1,r.isMeasured=!1,i.applyTheme(),i}return da(i,t),i.prototype.setFill=function(i){var e;if(t.prototype.setFill.call(this,i),i instanceof Ca)e=i.hex;else if(i instanceof Kb||i instanceof oc)e=i.stops.getIndex(0).color.hex;else{var $=new vg;$.lightness=-.25,this.edge.filters.push($),this.sideA.filters.push($.clone()),this.sideB.filters.push($.clone())}if(e){var r=oa(e).lighten(-.25);this.edge.fill=r,this.sideA.fill=r,this.sideB.fill=r,this.edge.stroke=r,this.sideA.stroke=r,this.sideB.stroke=r}},i.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,t.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var i=this.startAngle,e=this.arc,$=this.pixelInnerRadius||0,r=this.radiusY||0,o=this.radius,s=i+e,p=r/o*$,a={x:ja(i)*$,y:ia(i)*p},h={x:ja(i)*o,y:ia(i)*r},n={x:ja(s)*o,y:ia(s)*r},l={x:ja(s)*$,y:ia(s)*p},m=this.depth,P={x:a.x,y:a.y-m},b={x:h.x,y:h.y-m},c={x:n.x,y:n.y-m},d={x:l.x,y:l.y-m},E="",u=Math.ceil(e/5),y=e/u,x=i,f=b,g=0;g<u;g++)if((x+=y)>0&&x<180){E+=ka(f);var T={x:ja(x)*o,y:ia(x)*r-m};E+=ea({x:f.x,y:f.y+m}),E+=Fb({x:T.x,y:T.y+m},o,r,!0),E+=ea(T),E+=Fb(f,o,r),E+="z",f=T}else{E+=ka(f);T={x:ja(x)*o,y:ia(x)*r-m};E+=Fb(T,o,r,!0),E+=ea({x:T.x,y:T.y+m}),E+=Fb({x:f.x,y:f.y+m},o,r),E+=ea(f),E+="z",f=T}f=P,x=i;for(g=0;g<u;g++)if((x+=y)>0&&x<180){E+=ka(f);T={x:ja(x)*$,y:ia(x)*p-m};E+=ea({x:f.x,y:f.y+m}),E+=Fb({x:T.x,y:T.y+m},$,p,!0),E+=ea(T),E+=Fb(f,$,p),E+="z",f=T}else{E+=ka(f);T={x:ja(x)*$,y:ia(x)*p-m};E+=Fb(T,$,p,!0),E+=ea({x:T.x,y:T.y+m}),E+=Fb({x:f.x,y:f.y+m},$,p),E+=ea(f),E+="z",f=T}this.edge.path=E,this.sideA.path=ka(a)+ea(h)+ea(b)+ea(P)+Va(),this.sideB.path=ka(n)+ea(l)+ea(d)+ea(c)+Va(),this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-m}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0)},Object.defineProperty(i.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(t){this.setPropertyValue("depth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){var t=this.getPropertyValue("angle");return aa(t)||(t=0),t},set:function(t){this.setPropertyValue("angle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radiusY",{get:function(){var t=this.getPropertyValue("radiusY");return aa(t)||(t=this.radius-this.radius*this.angle/90),t},set:function(t){this.setPropertyValue("radiusY",t,!0)},enumerable:!0,configurable:!0}),i.prototype.copyFrom=function(i){t.prototype.copyFrom.call(this,i),this.edge.copyFrom(i.edge),this.sideA.copyFrom(i.sideA),this.sideB.copyFrom(i.sideB)},i}(Hc);var Xn=function(r){function i(){var i=r.call(this)||this;return i.className="RadialGradientModifier",i.gradient=new oc,i.applyTheme(),i}return da(i,r),i.prototype.copyFrom=function(i){r.prototype.copyFrom.call(this,i),this.gradient=i.gradient.clone()},i}(ug);ca.registeredClasses.RadialGradientModifier=Xn;var Yi=function(t){function i(){var i=t.call(this)||this;return i.properties.gap=0,i._line=i.paper.add("path"),i.addElement(i._line),i}return da(i,t),i.prototype.draw=function(){if(t.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var i=this.width,r=this.height,e="";if(this.gap)for(var o=this.gap+this.strokeWidth,$=this.height/o,p=-$/2;p<1.5*$;p++)Math.round(this.rotation/90)!=this.rotation/90?(e+=ka({x:-i,y:(p+.5)*o})+ea({x:2*i,y:(p+.5)*o}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):e+=ka({x:-i,y:p*o})+ea({x:2*i,y:p*o});else Math.round(this.rotation/90)!=this.rotation/90?(e=ka({x:-i,y:r/2})+ea({x:2*i,y:r/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):e=ka({x:0,y:0})+ea({x:i,y:0});this._line.attr({d:e})}},Object.defineProperty(i.prototype,"gap",{get:function(){return this.properties.gap},set:function(t){this.properties.gap=t,this.draw()},enumerable:!0,configurable:!0}),i}(dd);ca.registeredClasses.LinePattern=Yi;var Zi=function(r){function e(){var e=r.call(this)||this;return e.properties.radius=2,e._circle=e.paper.add("circle"),e.addElement(e._circle),e.shapeRendering="auto",e}return da(e,r),e.prototype.draw=function(){r.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2})},Object.defineProperty(e.prototype,"radius",{get:function(){return this.properties.radius},set:function(r){this.properties.radius=r,this.draw()},enumerable:!0,configurable:!0}),e}(dd);ca.registeredClasses.CirclePattern=Zi;var $i=function(t){function e(){var e=t.call(this)||this;return e.rectHeight=1,e.rectWidth=1,e._rect=e.paper.add("rect"),e.addElement(e._rect),e}return da(e,t),e.prototype.draw=function(){t.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2})},Object.defineProperty(e.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(t){this.properties.rectWidth=t,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(t){this.properties.rectHeight=t,this.draw()},enumerable:!0,configurable:!0}),e}(dd);ca.registeredClasses.RectPattern=$i;var Yn=function(t){function r(){var r=t.call(this)||this;return r.className="ColorizeFilter",r.feColorMatrix=r.paper.add("feColorMatrix"),r.feColorMatrix.attr({type:"matrix"}),r.filterPrimitives.push(r.feColorMatrix),r.intensity=1,r.applyTheme(),r}return da(r,t),r.prototype.applyFilter=function(){var t,r,e,i=this.intensity,o=1-i,l=this.color;l&&l.rgb?(t=l.rgb.r/255*i,r=l.rgb.g/255*i,e=l.rgb.b/255*i):(t=0,r=0,e=0),this.feColorMatrix.attr({values:o+" 0 0 0 "+t+" 0 "+o+" 0 0 "+r+" 0 0 "+o+" 0 "+e+" 0 0 0 1 0"})},Object.defineProperty(r.prototype,"color",{get:function(){return this.properties.color},set:function(t){this.properties.color=t,this.applyFilter()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(t){this.properties.intensity=t,this.applyFilter()},enumerable:!0,configurable:!0}),r}(gd);ca.registeredClasses.ColorizeFilter=Yn;var Ne=function(t){function e(){var e=t.call(this)||this;return e.className="DesaturateFilter",e.feColorMatrix=e.paper.add("feColorMatrix"),e.feColorMatrix.attr({type:"saturate"}),e.filterPrimitives.push(e.feColorMatrix),e.width=120,e.height=120,e.saturation=0,e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(t){this.properties.saturation=t,this.feColorMatrix.attr({values:t.toString()})},enumerable:!0,configurable:!0}),e}(gd);ca.registeredClasses.DesaturateFilter=Ne;var Zn=function(r){function e(){var e=r.call(this)||this;return e.className="BlurFilter",e.feGaussianBlur=e.paper.add("feGaussianBlur"),e.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),e.filterPrimitives.push(e.feGaussianBlur),e.width=200,e.height=200,e.blur=1.5,e.applyTheme(),e}return da(e,r),Object.defineProperty(e.prototype,"blur",{get:function(){return this.properties.blur},set:function(r){this.properties.blur=r,this.feGaussianBlur.attr({stdDeviation:r/this.scale})},enumerable:!0,configurable:!0}),e}(gd);ca.registeredClasses.BlurFilter=Zn;var $n=function(e){function t(){var t=e.call(this)||this;return t.className="FocusFilter",t.feFlood=t.paper.add("feFlood"),t.feFlood.attr({"flood-color":new Ba().getFor("primaryButtonHover"),result:"base"}),t.filterPrimitives.push(t.feFlood),t.feMorphology=t.paper.add("feMorphology"),t.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),t.filterPrimitives.push(t.feMorphology),t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),t.filterPrimitives.push(t.feColorMatrix),t.feComposite=t.paper.add("feComposite"),t.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),t.filterPrimitives.push(t.feComposite),t.feBlend=t.paper.add("feBlend"),t.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),t.filterPrimitives.push(t.feBlend),t.width=130,t.height=130,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.feFlood.attr({"flood-color":e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.feMorphology.attr({radius:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+e+" 0"})},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(t){this._sprite&&this._sprite!=t&&this._sprite.group.removeStyle("outline"),t.group.addStyle({outline:"none"}),e.prototype.setSprite.call(this,t)},t}(gd);var Rd=function(t){function e(){var e=t.call(this)||this;return e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new Ca({r:103,g:183,b:220}),e.stepOptions={},e.passOptions={brighten:-.2},e.step=1,e.minColors=20,e.minLightness=.2,e.maxLightness=.9,e.shuffle=!1,e.wrap=!0,e.reuse=!1,e.saturation=1,e.className="ColorSet",e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(t){this._list=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.getReusableColor=function(t){if(0==this._list.length)return this.generate(1),this.list[0];var e=t-Math.floor(t/this._list.length)*this.list.length;return this.list[e]},e.prototype.next=function(){var t;return this.list.length<=this._currentStep?this.reuse?t=this.getReusableColor(this._currentStep):(this.generate(this.minColors),t=this.list[this._currentStep]):t=this.list[this._currentStep],this._currentStep+=this.step,t.saturate(this.saturation)},e.prototype.getIndex=function(t){var e;return this.list.length<=t?this.reuse?e=this.getReusableColor(t):(this.generate(this.minColors),e=this.getIndex(t)):e=this.list[t],e.saturate(this.saturation)},e.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(e.prototype,"currentStep",{get:function(){return this._currentStep},set:function(t){this._currentStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return this._startIndex},set:function(t){this._startIndex=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.generate=function(t){var e=this.currentColor,s=ne(Ma(e.rgb)),i=ba(this.stepOptions.hue)?this.stepOptions.hue:1/t,r={brighten:0,lighten:0,hue:s.h,lightness:s.l,saturation:s.s},h=[],o=0==this.list.length?0:1;if(this.reuse)for(var n=o;n<=t;n++)h.push(ne(Ma(this._list[n].rgb)).h);else for(n=o;n<=t;n++){var l=s.h+i*n;this.wrap&&l>1&&(l-=1),h.push(l)}this.shuffle&&h.sort(function(t,e){return Math.random()-.5});for(n=0;n<t;n++){this.reuse?s=ne(Ma(this._list[n].rgb)):s.h=h.shift(),this.applyStepOptions(s,r,n,this._currentPass);var p=oa(Zh(s)),$=(this.stepOptions.brighten||0)*n+(this.passOptions.brighten||0)*this._currentPass;0!=$&&($=this.wrap?Wf($,this.minLightness,this.maxLightness):Vf($,this.minLightness,this.maxLightness),p=p.brighten($));var a=(this.stepOptions.lighten||0)*n+(this.passOptions.lighten||0)*this._currentPass;0!=a&&(a=this.wrap?Wf(a,this.minLightness,this.maxLightness):Vf(a,this.minLightness,this.maxLightness),p=p.lighten(a)),this._list.push(p)}this._currentPass++},Object.defineProperty(e.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),e.prototype.applyStepOptions=function(t,e,s,i){t.l=e.lightness+(this.stepOptions.lightness||0)*s+(this.passOptions.lightness||0)*i,this.wrap?(t.l>1?t.l=t.l-Math.floor(t.l):t.l<0&&(t.l=-(t.l-Math.floor(t.l))),t.l=Wf(t.l,this.minLightness,this.maxLightness)):(t.l>1?t.l=1:t.l<0&&(t.l=0),t.l=Vf(t.l,this.minLightness,this.maxLightness))},e.prototype.processConfig=function(e){if(e&&ba(e.list)&&ab(e.list))for(var s=0,i=e.list.length;s<i;s++)e.list[s]instanceof Ca||(e.list[s]=oa(e.list[s]));t.prototype.processConfig.call(this,e)},e}(rb);ca.registeredClasses.ColorSet=Rd;var _n=function(t){function e(){var e=t.call(this)||this;e._list=[],e._currentStep=0,e._startIndex=0,e._currentPass=0,e.baseColor=new Ca({r:103,g:183,b:220}),e.className="PatternSet";var r=new Ba;return e.list=[e.getLinePattern(1e3,45,1,6),e.getRectPattern(10,0,4),e.getLinePattern(1e3,-45,1,6),e.getCirclePattern(11,2,!0),e.getLinePattern(6,90,1),e.getRectPattern(12,45,6,!0),e.getLinePattern(6,0,1),e.getRectPattern(7,0,4),e.getLinePattern(1e3,45,2,3,"4,2"),e.getCirclePattern(9,3,!1),e.getLinePattern(1e3,-45,2,3,"4,2"),e.getRectPattern(10,45,Math.sqrt(50)),e.getLinePattern(1e3,-45,2,1),e.getRectPattern(10,0,9),e.getLinePattern(1e3,45,2,1),e.getLinePattern(1e3,0,3,1),e.getRectPattern(10,45,10),e.getLinePattern(1e3,90,3,1)],e.baseColor=r.getFor("stroke"),e.applyTheme(),e}return da(e,t),e.prototype.getLinePattern=function(t,e,r,n,i){var o=new Yi;return o.width=t,o.height=t,o.stroke=this.baseColor,o.gap=n,o.strokeDasharray=i,o.strokeWidth=r,o.rotation=e,o},e.prototype.getRectPattern=function(t,e,r,n){var i=new $i;return i.width=t,i.height=t,i.rectWidth=r,i.rectHeight=r,n?(i.stroke=this.baseColor,i.strokeWidth=1,i.fillOpacity=0):(i.fill=this.baseColor,i.strokeWidth=0),0!=e&&(i.shapeRendering="auto"),i.rotation=e,i},e.prototype.getCirclePattern=function(t,e,r){var n=new Zi;return n.width=t,n.height=t,n.shapeRendering="auto",n.radius=e,r?(n.stroke=this.baseColor,n.strokeWidth=1,n.fillOpacity=0):(n.fill=this.baseColor,n.strokeWidth=0),n},Object.defineProperty(e.prototype,"list",{get:function(){return this._list},set:function(t){this._list=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.next=function(){var t=this.getIndex(this.currentStep);return this._currentStep++,t},e.prototype.getIndex=function(t){for(;this.list.length<=t;)this.generatePatterns();return this.list[t].clone()},e.prototype.generatePatterns=function(){var t=this.list.length/(this._currentPass+1);this._currentPass++;for(var e=0;e<t;e++)this.list.push(this.list[e].clone())},e.prototype.reset=function(){this._currentStep=this._startIndex},Object.defineProperty(e.prototype,"currentStep",{get:function(){return this._currentStep},set:function(t){this._currentStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return this._startIndex},set:function(t){this._startIndex=t,this.reset()},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){t.prototype.processConfig.call(this,e)},e}(rb);ca.registeredClasses.PatternSet=_n;var f=function(){function s(){this._disposed=!1,this._disposers=[]}return s.prototype.init=function(){},s.prototype.isDisposed=function(){return this._disposed},s.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var s=this._disposers;for(this._disposers=null;0!==s.length;){s.shift().dispose()}}},s}();function ao(e,r){var t=Nm(e);if(t){t.innerHTML="";var $=new Bi(t),i=new Ci($.SVGContainer,"svg-"+(jg.length-1)),p=new na;p.htmlContainer=t,p.svgContainer=$,p.width=ha(100),p.height=ha(100),p.background.fillOpacity=0,p.paper=i,i.append(p.group),p.relativeWidth=1,p.relativeHeight=1,$.container=p;var o=p.createChild(r);o.topParent=p;var m=o.uid;ca.invalidSprites[m]=[],ca.invalidDatas[m]=[],ca.invalidPositions[m]=[],ca.invalidLayouts[m]=[],p.baseId=m,o.isBaseSprite=!0,o.focusFilter=new $n,ca.baseSprites.push(o),ca.baseSpritesByUid[m]=o,o.maskRectangle={x:0,y:0,width:Math.max($.width,0),height:Math.max($.height,0)},p.events.on("maxsizechanged",function(e){0!=e.previousWidth&&0!=e.previousHeight||p.deepInvalidate(),o.maskRectangle&&(o.maskRectangle={x:0,y:0,width:Math.max($.width,0),height:Math.max($.height,0)})});var n=null,s=function(){o.isDisposed()?n=null:null==ui(o.dom)?(En("Chart was not disposed",o.uid),n=null):n=window.setTimeout(s,1e3)};s(),o.addDisposer(new Ga(function(){null!==n&&clearTimeout(n),pa(ca.baseSprites,o),ca.baseSpritesByUid[o.uid]=void 0})),o.addDisposer(p);var a=p.createChild(na);a.topParent=p,a.width=ha(100),a.height=ha(100),a.isMeasured=!1,p.tooltipContainer=a,o.tooltip=new Ke,o.tooltip.hide(0),o.tooltip.setBounds({x:0,y:0,width:a.maxWidth,height:a.maxHeight}),a.events.on("maxsizechanged",function(){Ma(o.tooltip).setBounds({x:0,y:0,width:a.maxWidth,height:a.maxHeight})},void 0,!1);var d=new Si;if(d.events.on("inited",function(){d.__disabled=!0},void 0,!1),p.preloader=d,o instanceof na&&!o.hasLicense()){var l=a.createChild(bo);a.events.on("maxsizechanged",function(e){a.maxWidth<=100||a.maxHeight<=50?l.hide():(l.isHidden||l.isHiding)&&l.show()},void 0,!1),o.logo=l,l.align="left",l.valign="bottom"}if(ub(o.numberFormatter),p.isStandaloneInstance=!0,Fa.onlyShowOnViewport){if(hg(t,Fa.viewportTarget))Fa.queue&&wg(o);else{o.__disabled=!0,o.tooltipContainer.__disabled=!0;var u=[Sa(window,"DOMContentLoaded",function(){hd(o)}),Sa(window,"load",function(){hd(o)}),Sa(window,"resize",function(){hd(o)}),Sa(window,"scroll",function(){hd(o)})];if(Fa.viewportTarget)for(var W=ab(Fa.viewportTarget)?Fa.viewportTarget:Fa.viewportTarget?[Fa.viewportTarget]:[],c=0;c<W.length;c++){var h=W[c];u.push(Sa(h,"resize",function(){hd(o)})),u.push(Sa(h,"scroll",function(){hd(o)}))}var g=new Pa(u);o.addDisposer(g),o.vpDisposer=g}}else Fa.queue&&wg(o);return o}throw xa.log("html container not found"),new Error("html container not found")}function wg(e){-1==ca.queue.indexOf(e)&&(e.__disabled=!0,e.tooltipContainer.__disabled=!0,e.events.disableType("appeared"),0==ca.queue.length&&_i(e),e.addDisposer(new Ga(function(){Oe(e)})),ca.queue.push(e))}function Oe(e){var r=ca.queue.indexOf(e);if(r>=0){ca.queue.splice(ca.queue.indexOf(e),1);var t=ca.queue[r];t&&_i(t)}}function hd(e){e.__disabled&&hg(e.htmlContainer,Fa.viewportTarget)&&(e.vpDisposer&&e.vpDisposer.dispose(),wg(e))}function _i(e){e.__disabled=!1,e.tooltipContainer.__disabled=!1,e.events.enableType("appeared"),e.showOnInit&&e.events.on("appeared",function(){Oe(e)}),e.vpDisposer&&e.vpDisposer.dispose(),e instanceof na&&e.invalidateLabels(),e.tooltipContainer&&e.tooltipContainer.invalidateLayout(),e instanceof Ec?(e.invalidateData(),e.reinit(),e.events.once("datavalidated",function(){e.showOnInit?e.appear():Oe(e)})):(e.reinit(),e.events.once("inited",function(){Oe(e)}),e.showOnInit&&e.appear())}function aj(e,r){var t;wa(r)&&(ba(ca.registeredClasses[r])?r=ca.registeredClasses[r]:(r=ca.registeredClasses.Container,t=new Error("Class ["+r+"] is not loaded.")));var $=ao(e,r);return t&&$.raiseCriticalError(t),$}var bo=function(r){function e(){var e=r.call(this)||this;e.className="AmChartsLogo",e.valign="bottom";var t=.3;e.opacity=.3,e.defaultState.properties.opacity=.4,e.url="https://www.amcharts.com/",e.urlTarget="_blank",e.showSystemTooltip=!0,e.readerTitle="Chart created using amCharts library",e.width=66,e.height=21,e.background.opacity=0;var o=oa("#474758");"#ffffff"==new Ba().getFor("background").alternative.hex&&(o=oa("#ffffff"));var a=new Kb;a.addColor(o),a.addColor(o,1,.75),a.addColor(oa("#3cabff"),1,.755),a.rotation=-10;var i=a,$=e.createChild(Ie);$.shouldClone=!1,$.isMeasured=!1,$.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]],$.strokeWidth=6*t,$.tensionX=.8,$.tensionY=1,$.stroke=oa("#3cabff");var s=e.createChild(Ie);s.shouldClone=!1,s.isMeasured=!1,s.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*t},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]],s.strokeWidth=6*t,s.tensionX=.75,s.tensionY=1,s.stroke=i,e._disposers.push(s);var l=new Ne;e.filters.push(l);var n=new Ne;n.saturation=1;var p=e.states.create("hover");return p.properties.opacity=1,p.filters.push(n),e.applyTheme(),e}return da(e,r),e}(na);var id={activeColor:oa("#ff8726"),confirmedColor:oa("#d21a1a"),recoveredColor:oa("#45d21a"),deathsColor:oa("#1c5fe5")};var bj=[{name:"Confirmed Cases",value:"cnt_confirmed",color:id.confirmedColor},{name:"Total Deaths",value:"cnt_death",color:id.deathsColor},{name:"Total Recovered",value:"cnt_recovered",color:id.recoveredColor}];function co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cj(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function eo(e,t,r){return t&&cj(e.prototype,t),r&&cj(e,r),e}var dj=function(t){function e(){var e=t.call(this)||this;e.className="Grip";var i=new Ba;e.layout="absolute",e.padding(10,10,10,10),e.margin(3,3,3,3),e.background.fillOpacity=.3,e.background.cornerRadius(10,10,10,10);var o=new sa;o.element=e.paper.add("path");var r=ka({x:-6,y:0});return r+=ea({x:6,y:0}),r+=ka({x:-8,y:-6}),r+=ea({x:0,y:-12}),r+=ea({x:8,y:-6}),r+=ka({x:-8,y:6}),r+=ea({x:0,y:12}),r+=ea({x:8,y:6}),o.path=r,o.strokeWidth=2,o.fillOpacity=0,o.pixelPerfect=!0,o.padding(0,4,0,4),o.stroke=i.getFor("text"),o.strokeOpacity=.7,o.align="center",o.valign="middle",e.icon=o,e.label.dispose(),e.label=void 0,e.position="right",e.autoHideDelay=3e3,e.events.on("shown",function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose(),e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.events.on("down",function(t){e._autoHideTimeout&&e._autoHideTimeout.dispose()}),e.events.on("out",function(t){e.autoHideDelay&&(e._autoHideTimeout=e.setTimeout(function(){e.hide()},e.autoHideDelay))}),e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(t){if(this.setPropertyValue("position",t))switch(t){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=ha(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=ha(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=ha(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=ha(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=ha(30),this.height=void 0;}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(t){this.setPropertyValue("autoHideDelay",t)},enumerable:!0,configurable:!0}),e}(qc);ca.registeredClasses.Grip=dj;var ej=function(e){function t(){var t=e.call(this)||this;return t.className="ChartDataItem",t.applyTheme(),t}return da(t,e),t}(Dc);var Jc=function(e){function t(){var r=e.call(this)||this;if(r._legend=new bb,r.constructor===t)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");r.className="Chart";var i=new vb;r.titles=new Ra(i),r._disposers.push(new Ja(r.titles)),r._disposers.push(i),r.width=ha(100),r.height=ha(100),r.layout="vertical";var a=r.createChild(na);a.shouldClone=!1,a.layout="vertical",a.width=ha(100),a.height=ha(100),r.chartAndLegendContainer=a;var o=a.createChild(na);return o.shouldClone=!1,o.width=ha(100),o.height=ha(100),r.chartContainer=o,r.showOnInit=!0,r._disposers.push(r._legend),r.titles.events.on("inserted",function(e){r.processTitle(e),r.updateReaderTitleReferences()},r,!1),r.titles.events.on("removed",function(e){r.updateReaderTitleReferences()},r,!1),r.role="region",r.defaultState.transitionDuration=1,r.applyTheme(),r}return da(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"))},t.prototype.draw=function(){this.fixLayout(),e.prototype.draw.call(this)},t.prototype.fixLayout=function(){var e=this.legend;if(e){var t=this.chartAndLegendContainer,r=this.chartContainer;switch(r.x=void 0,r.y=void 0,e.x=void 0,e.y=void 0,e.position){case"left":t.layout="horizontal",e.toBack();break;case"right":t.layout="horizontal",e.toFront();break;case"top":t.layout="vertical",e.toBack();break;case"bottom":t.layout="vertical",e.toFront();}}},t.prototype.feedLegend=function(){},t.prototype.processTitle=function(e){var t=e.newValue;return t.parent=this,t.toBack(),t.shouldClone=!1,t.align="center",t.uidAttr(),t},t.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];fa(this.titles.iterator(),function(t){e.push(t.uid)}),this.setSVGAttribute({"aria-labelledby":e.join(" ")})}else this.removeSVGAttribute("aria-labelledby")},Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e)},enumerable:!0,configurable:!0}),t.prototype.setLegend=function(e){var t=this;this._legend.get()!==e&&(e?(e.maxWidth=200,e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",function(e){"position"==e.property&&t.fixLayout()},void 0,!1))):this._legend.reset(),this.feedLegend())},t.prototype.dispose=function(){this.legend&&this.legend.dispose(),e.prototype.dispose.call(this)},t.prototype.processConfig=function(t){t&&ba(t.legend)&&!ba(t.legend.type)&&(t.legend.type="Legend"),e.prototype.processConfig.call(this,t)},t.prototype.copyFrom=function(t){this.titles.copyFrom(t.titles),this.chartContainer.copyFrom(t.chartContainer),t.legend&&(this.legend=t.legend.clone(),this.legend.removeChildren()),e.prototype.copyFrom.call(this,t)},Object.defineProperty(t.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var t=this.tooltipContainer.createChild(dj);t.align="right",t.valign="middle",t.hide(0),t.events.on("down",function(t){t.touch&&(e.interactionsEnabled=!1)}),t.events.on("up",function(t){e.interactionsEnabled=!0}),this.events.on("down",function(e){e.touch&&t.show()}),this._dragGrip=t}return this._dragGrip},set:function(e){this._dragGrip=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=!0},enumerable:!0,configurable:!0}),t}(Ec);ca.registeredClasses.Chart=Jc,gb.push({relevant:pb.widthXS,state:function(e,t){if(e instanceof Jc){var r=e.states.create(t);return e.pixelPaddingLeft>10&&(r.properties.paddingLeft=10),e.pixelPaddingRight>10&&(r.properties.paddingRight=10),r}return null}}),gb.push({relevant:pb.heightXS,state:function(e,t){if(e instanceof Jc){var r=e.states.create(t);return e.pixelPaddingTop>10&&(r.properties.paddingTop=10),e.pixelPaddingBottom>10&&(r.properties.paddingBottom=10),r}return null}}),gb.push({relevant:pb.widthXXS,state:function(e,t){if(e instanceof Jc){var r=e.states.create(t);return r.properties.paddingLeft=0,r.properties.paddingRight=0,r}return null}}),gb.push({relevant:pb.heightXXS,state:function(e,t){if(e instanceof Jc){var r=e.states.create(t);return r.properties.paddingTop=0,r.properties.paddingBottom=0,r}return null}});var ac=function(e){function t(){var t=e.call(this)||this;return t.className="Bullet",t.isMeasured=!1,t.tooltipX=0,t.tooltipY=0,t.layout="none",t.applyOnClones=!0,t.copyToLegendMarker=!0,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e)},enumerable:!0,configurable:!0}),t}(na);ca.registeredClasses.Bullet=ac,gb.push({relevant:pb.isXS,state:function(e,t){if(e instanceof ac){var r=e.states.create(t);return r.properties.disabled=!0,r}return null}});var fo=function(e){function t(){var t=e.call(this)||this;return t.childrenCreated=!1,t.className="LegendDataItem",t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this._label=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new Ga(function(){ba(e.component)&&e.component.labels.removeValue(t)}))}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var t=this.component.valueLabels.create();this._valueLabel=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new Ga(function(){ba(e.component)&&e.component.valueLabels.removeValue(t)}))}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var t=this.component,i=t.itemContainers.create();i.parent=t,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",function(e){t.toggleDataItem(e.target.dataItem)},void 0,!1),i.focusable&&(i.events.on("hit",function(e){t.focusedItem=void 0},void 0,!1),i.events.on("focus",function(e){t.focusedItem=e.target.dataItem},void 0,!1),i.events.on("blur",function(e){t.focusedItem=void 0},void 0,!1)),this._disposers.push(new Ga(function(){ba(e.component)&&e.component.itemContainers.removeValue(i)})),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var r=this.dataContext;if((r instanceof Dc||r instanceof sa)&&!r.isDisposed()){var n=function(e){i.readerChecked=e.visible,i.events.disableType("toggled"),i.isActive=!e.visible,i.events.enableType("toggled")};r.addDisposer(new Ga(function(){e.component&&e.component.dataItems.remove(e)})),r instanceof sa?(i.addDisposer(r.events.on("visibilitychanged",n,void 0,!1)),i.addDisposer(r.events.on("hidden",function(e){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled")},void 0,!1)),i.addDisposer(r.events.on("shown",function(e){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled")},void 0,!1))):i.addDisposer(r.events.on("visibilitychanged",n,void 0,!1))}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){var e=this;if(!this._marker){var t=this.component.markers.create();this._marker=t,t.parent=this.itemContainer,this.addSprite(t),this._disposers.push(t),this._disposers.push(new Ga(function(){ba(e.component)&&e.component.markers.removeValue(t)}))}return this._marker},enumerable:!0,configurable:!0}),t}(Dc);var fj=function(){return function(){this.createMarker=!0}}();var Sd=function(e){function t(){var t=e.call(this)||this;t.className="Legend",t.layout="grid",t.setPropertyValue("useDefaultMarker",!1),t.setPropertyValue("scrollable",!1),t.setPropertyValue("contentAlign","center");var i=new na;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=fb.pointer,i.background.fillOpacity=0,t.itemContainers=new Ra(i),t._disposers.push(new Ja(t.itemContainers)),t._disposers.push(t.itemContainers.template),t._disposers.push(ra().body.events.on("keyup",function(e){if(hc.isKey(e.event,"enter")&&t.focusedItem){var i=t.focusedItem,r=i.itemContainer;r.togglable?t.toggleDataItem(i):r.clickable&&r.events.isEnabled("hit")&&(r.dispatchImmediately("hit",{event:e}),t.focusedItem=i)}},t));var r=new Ba,n=new na;n.width=23,n.height=23,n.interactionsEnabled=!1,n.applyOnClones=!0,n.setStateOnChildren=!0,n.background.fillOpacity=0,n.background.strokeOpacity=0,n.propertyFields.fill="fill",n.valign="middle";var a=r.getFor("disabledBackground");n.events.on("childadded",function(e){var t=e.newValue.states.create("active");t.properties.stroke=a,t.properties.fill=a}),t.markers=new Ra(n),t._disposers.push(new Ja(t.markers)),t._disposers.push(t.markers.template);var l=n.createChild(_b);l.width=ha(100),l.height=ha(100),l.applyOnClones=!0,l.propertyFields.fill="fill",l.strokeOpacity=0;var s=new vb;s.text="{name}",s.margin(0,5,0,5),s.valign="middle",s.applyOnClones=!0,s.states.create("active").properties.fill=r.getFor("disabledBackground"),t.labels=new Ra(s),t._disposers.push(new Ja(t.labels)),t._disposers.push(t.labels.template),s.interactionsEnabled=!1,s.truncate=!0,s.fullWords=!1;var o=new vb;return o.margin(0,5,0,0),o.valign="middle",o.width=50,o.align="right",o.textAlign="end",o.applyOnClones=!0,o.states.create("active").properties.fill=r.getFor("disabledBackground"),o.interactionsEnabled=!1,t.valueLabels=new Ra(o),t._disposers.push(new Ja(t.valueLabels)),t._disposers.push(t.valueLabels.template),t.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,t.role="group",t.events.on("layoutvalidated",t.handleScrollbar,t,!1),t.applyTheme(),t}return da(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"))},t.prototype.createDataItem=function(){return new fo},t.prototype.validateDataElement=function(t){e.prototype.validateDataElement.call(this,t);var i=t.itemContainer,r=t.marker;ub(t.label);var n=t.valueLabel;i.readerChecked=t.dataContext.visible,t.dataContext.legendDataItem=t;var a=t.label.maxWidth;t.label.width=void 0,a>0&&(t.label.maxWidth=a),"right"==n.align&&(n.width=void 0);var l=t.dataContext.legendSettings,s=t.dataContext;!s.createLegendMarker||this.useDefaultMarker&&s instanceof sa||t.childrenCreated||(s.createLegendMarker(r),t.childrenCreated=!0),s.updateLegendValue&&s.updateLegendValue(),s.component&&s.component.updateLegendValue&&s.component.updateLegendValue(s),n.invalid&&n.validate(),""==n.text||null==n.text?n.__disabled=!0:n.__disabled=!1,!l||null==l.itemValueText&&null==l.valueText||(n.__disabled=!1);var o=t.dataContext.visible;void 0===o&&(o=!0),o=Oa(o),t.dataContext.visible=o,i.events.disableType("toggled"),i.isActive=!o,i.isActive?i.setState("active",0):i.setState("default",0),i.events.enableType("toggled")},t.prototype.afterDraw=function(){var t=this,i=this.getPropertyValue("maxWidth"),r=0;this.labels.each(function(e){e.invalid&&e.validate(),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>r&&(r=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight)});var n=0;this.valueLabels.each(function(e){e.invalid&&e.validate(),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>n&&(n=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight)});var a=0;this.markers.each(function(e){e.invalid&&e.validate(),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>a&&(a=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight)});var l,s=this.itemContainers.template,o=s.pixelMarginRight+s.pixelMarginLeft,p=r+n+a;aa(i)?((i-=o)>p&&(i=p),l=i-a-n):l=r,this.labels.each(function(e){("right"==t.valueLabels.template.align||e.measuredWidth>l)&&(e.width=Math.min(e.maxWidth,l-e.pixelMarginLeft-e.pixelMarginRight))}),"right"==this.valueLabels.template.align&&this.valueLabels.each(function(e){e.width=n-e.pixelMarginRight-e.pixelMarginLeft}),e.prototype.afterDraw.call(this)},t.prototype.handleScrollbar=function(){var e=this.scrollbar;this.scrollable&&e&&(e.height=this.measuredHeight,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>this.measuredHeight?(e.visible=!0,e.thumb.height=e.height*this.measuredHeight/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+ +e.pixelMarginRight):e.visible=!1,this.updateMasks())},Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&("left"==e||"right"==e?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",aa(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=ha(100),this.valueLabels.template.align="left"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var t=this.createChild(Je);this.scrollbar=t,t.isMeasured=!1,t.orientation="vertical",t.endGrip.__disabled=!0,t.startGrip.__disabled=!0,t.visible=!1,t.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(t.events.on("rangechanged",this.updateMasks,this,!1))}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0))},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var t=e.shift.y,i=this.scrollbar;if(i){var r=t/1e3*this.measuredHeight/this.contentHeight,n=i.end-i.start;t>0?(i.start=ua(0,i.start-r),i.end=i.start+n):(i.end=ya(1,i.end-r),i.start=i.end-n)}},t.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each(function(t){t.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.measuredHeight,t.maskRectangle={x:0,y:-t.dy,width:e.measuredWidth,height:e.measuredHeight}})},t.prototype.toggleDataItem=function(e){var t=e.dataContext;!t.visible||t.isHiding||t instanceof sa&&t.isHidden?(e.color=e.colorOrig,e.itemContainer.isActive=!1,!0===t.hidden&&(t.hidden=!1),t.show?t.show():t.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,t.hide?t.hide():t.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=new Ba().getFor("disabledBackground"))},Object.defineProperty(t.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.handleDataItemPropertyChange=function(e,t){e.valueLabel.invalidate(),e.label.invalidate()},t}(Ec);ca.registeredClasses.Legend=Sd,gb.push({relevant:pb.widthXS,state:function(e,t){if(e instanceof Sd&&("left"==e.position||"right"==e.position)){var i=e.states.create(t);return i.properties.position="bottom",i}return null}}),gb.push({relevant:pb.heightXS,state:function(e,t){if(e instanceof Sd&&("top"==e.position||"bottom"==e.position)){var i=e.states.create(t);return i.properties.position="right",i}return null}}),gb.push({relevant:pb.isXS,state:function(e,t){if(e instanceof Sd){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var Pe=function(e){function t(){var t=e.call(this)||this;return t.className="SeriesDataItem",t.values.value={},t.values.value={},t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Ka,this._disposers.push(new Bc(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bullets.clear(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),t}(Dc);var Qe=function(e){function t(){var i=e.call(this)||this;if(i._ignoreMinMax=!1,i._showBullets=!0,i.legendSettings=new fj,i._tmin=new Ka,i._tmax=new Ka,i._smin=new Ka,i._smax=new Ka,i.dataItemsByAxis=new Ka,i.skipFocusThreshold=20,i._itemReaderTextChanged=!1,i.calculatePercent=!1,i.usePercentHack=!0,i.autoDispose=!0,i.simplifiedProcessing=!1,i.constructor===t)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");i.className="Series",i.isMeasured=!1,i.layout="none",i.shouldClone=!1,i.setPropertyValue("hidden",!1),i.axisRanges=new Aa,i.axisRanges.events.on("inserted",i.processAxisRange,i,!1),i.minBulletDistance=0,i.mainContainer=i.createChild(na),i.mainContainer.shouldClone=!1,i.mainContainer.mask=i.createChild(sa),i._disposers.push(i.mainContainer);var a=i.mainContainer.createChild(na);return i._shouldBeReady.push(a),a.shouldClone=!1,a.layout="none",a.virtualParent=i,i._disposers.push(a),i.bulletsContainer=a,i.tooltip=new Ke,i.tooltip.virtualParent=i,i._disposers.push(i.tooltip),i.hiddenState.transitionEasing=ni,i.dataItem=i.createDataItem(),i._disposers.push(i.dataItem),i.dataItem.component=i,i.role="group",i.applyTheme(),i}return da(t,e),t.prototype.applyTheme=function(){e.prototype.applyTheme.call(this),Fa.autoSetClassName&&this.bulletsContainer&&(this.bulletsContainer.className=this.className+"-bullets",this.bulletsContainer.setClassName())},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Series"))},t.prototype.createDataItem=function(){return new Pe},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){},t.prototype.processBullet=function(e){var t=this,i=e.newValue;i.isTemplate=!0,this.events.once("datavalidated",function(e){t.itemsFocusable()&&(i.focusable=!0)})},t.prototype.removeBullet=function(e){var t=e.oldValue;this.dataItems.each(function(e){var i=e.bullets.getKey(t.uid);i&&i.dispose()}),this.invalidate()},t.prototype.validateDataItems=function(){e.prototype.validateDataItems.call(this),this.processValues(!1)},t.prototype.getFirstValue=function(e,t){t>0&&t<this.dataItems.length-1&&t++;for(var i=t;i>=0;i--){var a=this.dataItems.getIndex(i).getActualWorkingValue(e);if(aa(a))return a}return null},t.prototype.getAbsoluteFirstValue=function(e){for(var t=0;t<this.dataItems.length;t++){var i=this.dataItems.getIndex(t).values[e].value;if(aa(i))return i}return null},t.prototype.rangeChangeUpdate=function(){e.prototype.rangeChangeUpdate.call(this),this.processValues(!0)},t.prototype.processValues=function(e){var t=this;if(!this.simplifiedProcessing){var i=this.dataItems,a={},r={},s={},o={},n={},l={},c={},u={},p={},$={},d=ua(0,this._workingStartIndex);d=ya(d,this.dataItems.length);var h=ya(this._workingEndIndex,this.dataItems.length);if(aa(d)||(d=0),aa(h)||(h=this.dataItems.length),d>0){var m=i.getIndex(d-1);qa(m.values,function(e,t){var i=m.getActualWorkingValue(e);aa(i)&&(u[e]=i)})}for(var f=function(e){var h=i.getIndex(e);qa(h.values,function(e,i){var m=h.getActualWorkingValue(e);if(aa(m)){aa(a[e])||(a[e]=0),a[e]++,aa(r[e])||(r[e]=0),r[e]+=m,aa(s[e])||(s[e]=0),s[e]+=Math.abs(m),aa(l[e])||(l[e]=m),c[e]=m,aa(o[e])?o[e]>m&&(o[e]=m):o[e]=m,aa(n[e])?n[e]<m&&(n[e]=m):n[e]=m,aa(p[e])||(p[e]=t.getFirstValue(e,d)),aa($[e])||($[e]=t.getAbsoluteFirstValue(e)),h.setCalculatedValue(e,m-p[e],"change"),h.setCalculatedValue(e,(m-p[e])/p[e]*100,"changePercent"),h.setCalculatedValue(e,m-$[e],"startChange"),h.setCalculatedValue(e,(m-$[e])/$[e]*100,"startChangePercent");var f=u[e];aa(f)||(f=m),h.setCalculatedValue(e,m-f,"previousChange"),h.setCalculatedValue(e,(m-f)/f*100,"previousChangePercent"),u[e]=m}})},y=d;y<h;y++)f(y);if(this.calculatePercent){var g=function(e){var a=i.getIndex(e);qa(a.values,function(e){var i=s[e],r=a.getActualWorkingValue(e);if(aa(r))if(i>0){t.usePercentHack&&r==i&&(i=a.values[e].value);var o=r/i*100;a.setCalculatedValue(e,o,"percent")}else a.setCalculatedValue(e,0,"percent")})};for(y=d;y<h;y++)g(y)}if(d>0){var R=i.getIndex(d-1);qa(R.values,function(e){var t=R.values[e].value;R.setCalculatedValue(e,t-l[e],"change"),R.setCalculatedValue(e,(t-l[e])/l[e]*100,"changePercent")})}var b=this.dataItem;qa(b.values,function(e){b.setCalculatedValue(e,r[e],"sum"),b.setCalculatedValue(e,s[e],"absoluteSum"),b.setCalculatedValue(e,r[e]/a[e],"average"),b.setCalculatedValue(e,l[e],"open"),b.setCalculatedValue(e,c[e],"close"),b.setCalculatedValue(e,o[e],"low"),b.setCalculatedValue(e,n[e],"high"),b.setCalculatedValue(e,a[e],"count")})}},t.prototype.validate=function(){Hd()&&this.filters.clear(),fa(this.axisRanges.iterator(),function(e){e.validate()}),e.prototype.validate.call(this);var t=this.bulletsContainer;if(t.fill=this.fill,t.stroke=this.stroke,t.x=this.pixelX,t.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){(a=this.dataItems.getIndex(i))&&a.bullets.each(function(e,t){t.__disabled=!0})}for(i=this.dataItems.length-1;i>this.endIndex;i--){var a;(a=this.dataItems.getIndex(i))&&a.bullets.each(function(e,t){t.__disabled=!0})}}else this.bulletsContainer.children.each(function(e){e.__disabled=!0});this.updateTooltipBounds()},t.prototype.updateTooltipBounds=function(){if(this.topParent){var e={x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight};this.tooltip.setBounds(e)}},t.prototype.shouldCreateBullet=function(e,t){return!0},t.prototype.validateDataElement=function(t){var i=this;e.prototype.validateDataElement.call(this,t),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each(function(e){var a=t.bullets.getKey(e.uid);if(i.shouldCreateBullet(t,e)){if(!a){var r=e.propertyFields.disabled,s=t.dataContext;r&&s&&!1===s[r]?(e.applyOnClones=!1,e.disabled=!1,a=e.clone(),e.disabled=!0,e.applyOnClones=!0):a=e.clone(),a.shouldClone=!1,t.addSprite(a),i.visible&&!i.isHiding||a.hide(0)}var o=a.dataItem;if(o!=t){o&&o.bullets.setKey(e.uid,void 0);var n=i.itemReaderText;a instanceof ac&&(n||(n="{"+a.xField+"}: {"+a.yField+"}"),a.isDynamic&&(t.events.on("workingvaluechanged",a.deepInvalidate,a,!1),i.dataItem.events.on("workingvaluechanged",a.deepInvalidate,a,!1)),a.deepInvalidate()),a.focusable&&(a.events.on("focus",function(e){a.readerTitle=i.populateString(n,a.dataItem)},void 0,!1),a.events.on("blur",function(e){a.readerTitle=""},void 0,!1)),a.hoverable&&(a.events.on("over",function(e){a.readerTitle=i.populateString(n,a.dataItem)},void 0,!1),a.events.on("out",function(e){a.readerTitle=""},void 0,!1))}a.parent=i.bulletsContainer,t.bullets.setKey(e.uid,a),a.maxWidth=t.itemWidth,a.maxHeight=t.itemHeight,a.__disabled=!1,i.positionBullet(a)}else a&&(a.__disabled=!0)})):this.bulletsContainer.visible=!1},t.prototype.handleDataItemWorkingValueChange=function(e,t){this.dataRangeInvalid||this.invalidateProcessedData()},Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems()},enumerable:!0,configurable:!0}),t.prototype.createMask=function(){},t.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(na),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var t=e.newValue;t&&(t.contents.parent=this.rangesContainer,t.isRange=!0,t.events.on("valuechanged",this.invalidateDataItems,this,!1))},t.prototype.getAxisField=function(e){},t.prototype.showTooltipAtPosition=function(e,t){},Object.defineProperty(t.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new Ra(new ac()),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new Ja(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){},Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var t=this.legendDataItem;t&&(t.component.invalidate(),t.component.invalidateRawData()),this.readerTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=Sf(this.tooltipText):this.tooltipHTML&&(e=Sf(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0},enumerable:!0,configurable:!0}),t.prototype.itemsFocusable=function(){return!(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,t){if(this.legendDataItem){var i=this.legendSettings,a=this.legendDataItem,r=a.label,s=a.valueLabel;e||t?(s&&(i.itemValueText&&(s.text=i.itemValueText),s.dataItem=e),r&&(i.itemLabelText&&(r.text=i.itemLabelText),r.dataItem=e)):(r&&((i.labelText||null!=i.itemLabelText)&&(r.text=i.labelText),r.dataItem=this.dataItem),s&&((i.valueText||null!=i.itemValueText)&&(s.text=i.valueText),s.dataItem=this.dataItem))}},t.prototype.copyFrom=function(t){this.bullets.copyFrom(t.bullets),this.bulletsContainer.copyFrom(t.bulletsContainer),this.calculatePercent=t.calculatePercent,this.usePercentHack=t.usePercentHack,this.simplifiedProcessing=t.simplifiedProcessing,e.prototype.copyFrom.call(this,t)},t.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,Fa.suppressErrors||this._chart.modal.open(),this._chart.disabled=!0),Fa.verbose&&console.log(e)},t.prototype.applyFilters=function(){var t=this;e.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),fa(this.filters.iterator(),function(e){t.bulletsContainer.filters.push(e.clone())})},Object.defineProperty(t.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new Aa,this._heatRules.events.on("inserted",function(t){var i=t.newValue,a=i.target;if(a){var r=i.dataField;ba(r)||(r="value");var s=e.dataItem,o=i.property,n=La(i.minValue),l=La(i.maxValue);aa(n)||aa(l)||e.dataItem.events.on("calculatedvaluechanged",function(t){t.property==r&&fa(e.dataItems.iterator(),function(e){var t=!1;la(e.sprites,function(e){if(e.clonedFrom==a){var i=e;i[o]=i[o],t=!0}}),t||la(e.sprites,function(e){e instanceof na&&fa(e.children.iterator(),function(e){if(e.className==a.className){var t=e;t[o]=t[o]}else e instanceof na&&e.deepInvalidate()})})})}),e.dataItems.template.events.on("workingvaluechanged",function(e){if(e.property==r){var t=e.target,i=!1;la(t.sprites,function(e){if(e.clonedFrom==a){var t=e;t[o]=t[o],i=!0}}),i||la(t.sprites,function(e){e instanceof na&&fa(e.children.iterator(),function(e){if(e.className==a.className){var t=e;t[o]=t[o]}else e instanceof na&&e.deepInvalidate()})})}}),a.adapter.add(o,function(e,t,a){var o=La(i.minValue),n=La(i.maxValue),l=i.min,c=i.max;if(t instanceof sa){var u=t.propertyFields[a];if(u&&t.dataItem){var p=t.dataItem.dataContext;if(p&&ba(p[u]))return e}}var $=t.dataItem;if((aa(o)||(o=s.values[r].low),aa(n)||(n=s.values[r].high),$)&&$.values[r]){var d=$.getActualWorkingValue(r);if(ba(l)&&ba(c)&&aa(o)&&aa(n)&&aa(d)){var h=void 0;if(h=i.logarithmic?(Math.log(d)*Math.LOG10E-Math.log(o)*Math.LOG10E)/(Math.log(n)*Math.LOG10E-Math.log(o)*Math.LOG10E):(d-o)/(n-o),aa(d)&&!aa(h)&&(h=.5),aa(l))return l+(c-l)*h;if(l instanceof Ca)return new Ca(le(l.rgb,c.rgb,h))}}return e})}})),this._heatRules},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){var i;if(t){if(ba(t.bullets)&&ab(t.bullets))for(var a=0,r=t.bullets.length;a<r;a++){var s=t.bullets[a];ba(s.type)||(s.type="Bullet")}ba(t.heatRules)&&ab(t.heatRules)&&(i=t.heatRules,delete t.heatRules)}if(e.prototype.processConfig.call(this,t),i){for(a=0,r=i.length;a<r;a++){var o=i[a],n=this;if(ba(o.target)&&wa(o.target))if(this.map.hasKey(o.target))n=this.map.getKey(o.target);else for(var l=o.target.split("."),c=0;c<l.length;c++)if(n instanceof Aa){var u=n.getIndex(La(l[c]));n=u||n[l[c]]}else n=n[l[c]];o.target=n,ba(o.min)&&(o.min=this.maybeColorOrPercent(o.min)),ba(o.max)&&(o.max=this.maybeColorOrPercent(o.max))}e.prototype.processConfig.call(this,{heatRules:i})}},t.prototype.configOrder=function(t,i){return t==i?0:"heatRules"==t?1:"heatRules"==i?-1:e.prototype.configOrder.call(this,t,i)},t.prototype.setVisibility=function(t){e.prototype.setVisibility.call(this,t),this.bulletsContainer.visible=t},t}(Ec);ca.registeredClasses.Series=Qe,ca.registeredClasses.SeriesDataItem=Pe;var gj=function(e){function t(){var t=e.call(this)||this;return t.className="SerialChartDataItem",t.applyTheme(),t}return da(t,e),t}(ej);var xg=function(e){function t(){var t=e.call(this)||this;t.className="SerialChart",t.colors=new Rd,t._usesData=!1;var r=t.chartContainer.createChild(na);r.shouldClone=!1,r.width=ha(100),r.height=ha(100),r.isMeasured=!1,r.layout="none",r.zIndex=2,t.seriesContainer=r;var i=t.chartContainer.createChild(na);return i.shouldClone=!1,i.width=ha(100),i.height=ha(100),i.isMeasured=!1,i.zIndex=3,i.layout="none",t.bulletsContainer=i,t.applyTheme(),t}return da(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose()},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"))},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Ra(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new Ja(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesRemoved=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),this.dataUsers.each(function(e){e.invalidateDataItems()}),t.autoDispose?t.dispose():(t.parent=void 0,t.bulletsContainer.parent=void 0);var r=this.legend;if(r){for(var i=this.legend.dataItems,a=i.length-1;a>=0;a--){var s=i.getIndex(a);s&&s.dataContext==t&&r.dataItems.remove(s)}for(a=r.data.length-1;a>=0;a--){var o=r.data[a];o&&o==t&&pa(r.data,o)}}},t.prototype.handleSeriesAdded=function(e){var t=this,r=e.newValue;r.isDisposed()||(r.chart=this,r.parent=this.seriesContainer,r.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(r),r.addDisposer(new Ga(function(){t.dataUsers.removeValue(r)})),this.handleSeriesAdded2(r),r.hiddenInLegend||this.legend&&this.legend.addData(r))},t.prototype.handleSeriesAdded2=function(e){var t=this;this.dataInvalid||this._disposers.push(ca.events.once("exitframe",function(){e.data&&0!=e.data.length||(e.data=t.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.events.once("datavalidated",function(){e.data==t.data&&(e._data=[])}))}))},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];fa(this.series.iterator(),function(e){e.hiddenInLegend||t.push(e)}),e.dataFields.name="name",e.data=t}},t.prototype.createSeries=function(){return new Qe},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.series.copyFrom(t.series)},t.prototype.appear=function(){e.prototype.appear.call(this),this.series.each(function(e){e.showOnInit&&e.inited&&e.appear()})},t}(Jc);ca.registeredClasses.SerialChart=xg;var go;var Re=function(e){function t(){var t=e.call(this)||this;t._axis=new bb,t.dataItems=new Aa,t.className="AxisBreak",t.breakSize=.01,t.marginLeft=-5,t.marginRight=-5,t.marginTop=-5,t.marginBottom=-5;var i=new Ba,r=new Ic;r.fill=i.getFor("background"),r.stroke=oa(),r.fillOpacity=.9,r.zIndex=0,t._fillShape=r;var n=new Ic;n.fill=oa(),n.stroke=i.getFor("grid"),n.strokeOpacity=.3,n.zIndex=1,t._startLine=n;var s=new Ic;return s.fill=oa(),s.stroke=oa("#000000"),s.strokeOpacity=.3,s.zIndex=2,t._endLine=s,t._disposers.push(t._axis),t.applyTheme(),t}return da(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose()},Object.defineProperty(t.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e)},enumerable:!0,configurable:!0}),t.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e)},Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var t=e.axisBreaks.template;this.startLine.copyFrom(t.startLine),this.endLine.copyFrom(t.endLine),this.fillShape.copyFrom(t.fillShape)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.draw=function(){(e.prototype.draw.call(this),this.axis)&&this.axis.renderer.updateBreakElement(this)},Object.defineProperty(t.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(na);ca.registeredClasses.AxisBreak=Re;var ho,Td=function(e){function t(){var t=e.call(this)||this;return t.className="AxisDataItem",t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.grid).disabled)return;t=i.clone()}else{if((i=e.renderer.grid.template).disabled)return;t=e.renderer.grid.create(),this._disposers.push(new Ga(function(){e.renderer.grid.removeValue(t)}))}this.grid=t,t.shouldClone=!1,this._disposers.push(t),t.axis=this.component}}return this._grid},set:function(e){this._grid&&this._grid!=e&&(pa(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(pa(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.tick).disabled)return;t=i.clone()}else{if((i=e.renderer.ticks.template).disabled)return;t=e.renderer.ticks.create(),this._disposers.push(new Ga(function(){e.renderer.ticks.removeValue(t)}))}this.tick=t,t.axis=this.component,t.shouldClone=!1,this._disposers.push(t)}}return this._tick},set:function(e){this._tick&&this._tick!=e&&(pa(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(pa(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.label).disabled)return;t=i.clone()}else{if((i=e.renderer.labels.template).disabled)return;t=e.renderer.labels.create(),this._disposers.push(new Ga(function(){e.renderer.labels.removeValue(t)}))}this._disposers.push(t),this.label=t,t.shouldClone=!1,t.axis=this.component,t.virtualParent=e}}return this._label},set:function(e){this._label&&this._label!=e&&(pa(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(pa(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if(i=e.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;t=i.clone()}else{if((i=e.renderer.axisFills.template).disabled)return;t=e.renderer.axisFills.create(),this._disposers.push(new Ga(function(){e.renderer.axisFills.removeValue(t)}))}this.axisFill=t,t.shouldClone=!1,this._disposers.push(t)}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&(pa(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(pa(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){if(!this._contents){var e=new na;this.addSprite(e),e.isMeasured=!1,this._contents=e;var t=this.component;if(t){var i=t.renderer.createFill(this.component);i.disabled=!1,i.axis=t,this.addSprite(i),this._mask=i,e.mask=i}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e},enumerable:!0,configurable:!0}),t.prototype.validate=function(){this.component&&this.component.validateDataElement(this)},t.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this)},t.prototype.configOrder=function(e,t){return e==t?0:"language"==e?-1:"language"==t?1:"component"==e?-1:"component"==t?1:0},t.prototype.hasProperty=function(t){return"component"==t||e.prototype.hasProperty.call(this,t)},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.text=t.text,t.bullet&&(this.bullet=t.bullet.clone()),this.minPosition=t.minPosition,this.maxPosition=t.maxPosition},t.prototype.setVisibility=function(t,i){e.prototype.setVisibility.call(this,t,i),this._contents&&(this._contents.visible=t)},Object.defineProperty(t.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&(pa(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e)},enumerable:!0,configurable:!0}),t}(Dc);(function(e){e[e.Start=0]="Start",e[e.Middle=.5]="Middle",e[e.End=1]="End"})(ho||(go=ho={},go));var Se=function(e){function t(){var i=e.call(this)||this;if(i._gridCount=10,i._series=new Aa,i.autoDispose=!0,i._axisItemCount=0,i.constructor===t)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");i.hideTooltipWhileZooming=!0,i.minWidth=1e-4,i.minHeight=1e-4,i.className="Axis",i.shouldClone=!1,i.setPropertyValue("cursorTooltipEnabled",!0),i.toggleZoomOutButton=!0;var r=new Ba;i.title=new vb,i.title.shouldClone=!1,i._disposers.push(i.title),i.setPropertyValue("startLocation",0),i.setPropertyValue("endLocation",1),i._dataItemsIterator=new Jf(i.dataItems,function(){return i.dataItems.create()}),i._dataItemsIterator.createNewItems=!0;var o=new Ke;i._disposers.push(o),o.label.padding(5,10,5,10),o.background.pointerLength=5,o.fitPointerToBounds=!0,o.background.filters.clear(),o.virtualParent=i;var s=o.background;return s.cornerRadius=0,s.fill=r.getFor("alternativeBackground"),s.stroke=s.fill,s.strokeWidth=1,s.fillOpacity=1,o.label.fill=r.getFor("alternativeText"),i.tooltip=o,i.readerHidden=!0,i.events.on("rangechangestarted",function(){i.series.each(function(e){e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0)}),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!0)},void 0,!1),i.events.on("rangechangeended",function(){i.series.each(function(e){e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1)}),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!1)},void 0,!1),i.applyTheme(),i}return da(t,e),t.prototype.fillRule=function(e,t){aa(t)||(t=e.index),t/2==Math.round(t/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1)},t.prototype.createDataItem=function(){return new Td},t.prototype.invalidateLayout=function(){e.prototype.invalidateLayout.call(this),fa(this.series.iterator(),function(e){e.invalidateLayout()})},t.prototype.invalidateSeries=function(){fa(this.series.iterator(),function(e){e.invalidate()})},t.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate())},t.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache())}},t.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),e.prototype.validateLayout.call(this),this.updateGridCount();var t=this.renderer;t&&(t.updateAxisLine(),t.updateTooltip(),t.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength)},t.prototype.initRenderer=function(){},t.prototype.appendDataItem=function(e){var t=this.renderer,i=e.tick;i&&(i.above?i.parent=t.bulletsContainer:i.parent=t.gridContainer),e.label&&(e.label.parent=t);var r=e.axisFill;r&&(r.above?r.parent=t.bulletsContainer:r.parent=t.gridContainer);var o=e.grid;o&&(o.above?o.parent=t.bulletsContainer:o.parent=t.gridContainer),e.bullet&&(e.bullet.parent=t.bulletsContainer)},t.prototype.validate=function(){e.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer()},t.prototype.validateAxisRanges=function(){var e=this;fa(this.axisRanges.iterator(),function(t){e.appendDataItem(t),e.validateDataElement(t),t.grid&&t.grid.validate(),t.tick&&t.tick.validate(),t.axisFill&&t.axisFill.validate(),t.label&&t.label.validate()})},t.prototype.validateBreaks=function(){this._axisBreaks&&fa(this._axisBreaks.iterator(),function(e){e.invalidate()})},t.prototype.processBreak=function(e){var t=e.newValue;t.parent=this.renderer.breakContainer,t.axis=this},t.prototype.registerSeries=function(e){var t=this;return this.series.moveValue(e),new Pa([new Ga(function(){t.series.removeValue(e)}),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var t=this.renderer.labels.create();this._disposers.push(t),t.dataItem=this.dataItems.template.clone(),t.text="L",t.parent=this.renderer,t.shouldClone=!1,t.fillOpacity=0,t.opacity=0,t.strokeOpacity=0,t.interactionsEnabled=!1,t.validate(),this.ghostLabel=t,this.events.on("beforedatavalidated",function(){t.text="L"},void 0,!1)}},enumerable:!0,configurable:!0}),t.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},t.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},t.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},t.prototype.getAnyRangePath=function(e,t){return this.renderer.getPositionRangePath(e,t)},t.prototype.anyToPosition=function(e){return 0},t.prototype.anyToPoint=function(e){return{x:0,y:0,angle:0}},t.prototype.getPositionRangePath=function(e,t){return this.renderer?this.renderer.getPositionRangePath(e,t):""},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e)},enumerable:!0,configurable:!0}),t.prototype.hideTooltip=function(t){e.prototype.hideTooltip.call(this,t),this._tooltipPosition=void 0},t.prototype.showTooltipAtPosition=function(e,t){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else{if(t||(e=this.toAxisPosition(e)),!aa(e)||e<this.start||e>this.end)return i.hide(0),void(this._tooltipPosition=void 0);var r=this.renderer;i.parent||(i.parent=this.tooltipContainer);var o=r.tooltipLocation,s=this.getCellStartPosition(e),n=this.getCellEndPosition(e);if("fixed"==this.tooltipPosition&&(e=Bf(s+(n-s)*o,4)),e=ma(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var a=r.tooltipLocation2,p=r.positionToPoint(s,a),l=r.positionToPoint(n,a);this.currentItemStartPoint=p,this.currentItemEndPoint=l,r.fullWidthTooltip&&(i.width=l.x-p.x,i.height=l.y-p.y);var d=r.positionToPoint(e,a),u=Jb(d,this.renderer.line);i.text=this.getTooltipText(e),i.text&&(i.delayedPointTo(u),i.show())}this.cursorTooltipEnabled&&!this.tooltip.disabled||i.hide(0)}},t.prototype.toAxisPosition=function(e){if(null!=(e=this.renderer.toAxisPosition(e)))return e*=this.end-this.start,e=this.renderer.inversed?this.end-e:this.start+e},t.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e-=this.start,e/(this.end-this.start)},t.prototype.getTooltipText=function(e){},t.prototype.updateTooltip=function(e,t){var i=this._tooltip;i&&(i.pointerOrientation=e,i.setBounds(Xf(t,this.renderer.line)))},t.prototype.roundPosition=function(e,t,i){return e},t.prototype.getCellStartPosition=function(e){return e},t.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(t.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new Ra(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new Ja(this._axisRanges)),this._disposers.push(this._axisRanges.template)}return this._axisRanges},enumerable:!0,configurable:!0}),t.prototype.processAxisRange=function(e){var t=e.newValue;t.component=this,t.isRange=!0},Object.defineProperty(t.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new Vh(this.createAxisBreak(),function(e,t){return Yb(e.adjustedStartValue,t.adjustedStartValue)}),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new Ja(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),t.prototype.createAxisBreak=function(){return new Re},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Aa),this._series},enumerable:!0,configurable:!0}),t.prototype.processSeriesDataItems=function(){},t.prototype.processSeriesDataItem=function(e,t){},t.prototype.postProcessSeriesDataItems=function(e){},t.prototype.postProcessSeriesDataItem=function(e){},t.prototype.updateAxisBySeries=function(){},t.prototype.hideUnusedDataItems=function(){var e=this,t=this._dataItemsIterator;t.createNewItems=!1,fa(t.iterator(),function(t){e.validateDataElement(t),t.__disabled=!0}),t.clear(),t.createNewItems=!0},t.prototype.getSeriesDataItem=function(e,t,i){},t.prototype.getAngle=function(e,t,i,r,o){},t.prototype.getX=function(e,t,i,r,o){},t.prototype.getPositionX=function(e,t,i,r,o){},t.prototype.getY=function(e,t,i,r,o){},t.prototype.getPositionY=function(e,t,i,r,o){},Object.defineProperty(t.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.dataChangeUpdate=function(){},t.prototype.seriesDataChangeUpdate=function(e){},t.prototype.adjustDifference=function(e,t){var i=t-e;if(aa(i))return this._axisBreaks&&Db(this._axisBreaks.iterator(),function(r){var o=r.adjustedStartValue,s=r.adjustedEndValue;if(aa(o)&&aa(s)){if(o>t)return!1;if(s>=e&&aa(o)&&aa(s)){var n=r.breakSize,a=nl({start:o,end:s},{start:e,end:t});a&&(i-=(a.end-a.start)*(1-n))}return!0}}),i},t.prototype.isInBreak=function(e){if(this._axisBreaks)return El(this._axisBreaks.iterator(),function(t){return e>=t.adjustedStartValue&&e<=t.adjustedEndValue})},t.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var t=this._axisBreaks;if(t.length>0){la(Bd(t.iterator()),function(t){var i=ya(t.startValue,t.endValue),r=ua(t.startValue,t.endValue);t.adjustedStartValue=i,t.adjustedEndValue=r,e._axisBreaks.update(t)});var i=t.first,r=Math.min(i.startValue,i.endValue);fa(t.iterator(),function(e){var t=e.adjustedStartValue,i=e.adjustedEndValue;t<r&&(t=r,i<r&&(i=r)),e.adjustedStartValue=t,e.adjustedEndValue=i})}}},Object.defineProperty(t.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.getPositionLabel=function(e){return Math.round(100*e)+"%x"},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e},enumerable:!0,configurable:!0}),t.prototype.createSeriesRange=function(e){var t=this.axisRanges.create();return t.component=this,t.axisFill=this.renderer.axisFills.template.clone(),t.axisFill.disabled=!1,t.axisFill.fillOpacity=0,t.grid=this.renderer.grid.template.clone(),t.grid.disabled=!0,t.tick=this.renderer.ticks.template.clone(),t.tick.disabled=!0,t.label=this.renderer.labels.template.clone(),t.label.disabled=!0,t.addDisposer(new Ga(function(){e.axisRanges.removeValue(t)})),e.axisRanges.push(t),t},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.renderer?this.renderer.copyFrom(t.renderer):t.renderer&&(this.renderer=t.renderer.clone(),this._disposers.push(this.renderer)),t.title&&(this.title?this.title.copyFrom(t.title):(this.title=t.title.clone(),this.title.parent=this),this._disposers.push(this.title))},t.prototype.resetIterators=function(){this._dataItemsIterator.reset()},t.prototype.processConfig=function(t){if(t&&ba(t.axisRanges)&&ab(t.axisRanges))for(var i=0,r=t.axisRanges.length;i<r;i++){var o=t.axisRanges[i];ba(o.series)&&wa(o.series)&&this.map.hasKey(o.series)&&(t.axisRanges[i]=this.createSeriesRange(this.map.getKey(o.series)),delete o.series,t.axisRanges[i].config=o)}e.prototype.processConfig.call(this,t)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.renderer&&(this.renderer.gridContainer.disabled=t),i},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e)},enumerable:!0,configurable:!0}),t}(Ec);ca.registeredClasses.Axis=Se,ca.registeredClasses.AxisDataItem=Td,gb.push({relevant:pb.maybeXS,state:function(e,t){if(e instanceof Se&&e.tooltip){var i=e.states.create(t);return i.properties.cursorTooltipEnabled=!1,i}return null}});var hj=function(e){function r(){var r=e.call(this)||this;r.className="AxisLine",r.element=r.paper.add("path");var i=new Ba;return r.stroke=i.getFor("grid"),r.strokeOpacity=.15,r.pixelPerfect=!0,r.fill=oa(),r.applyTheme(),r.interactionsEnabled=!1,r}return da(r,e),r}(sa);ca.registeredClasses.AxisLine=hj;var yg=function(t){function e(e){var i=t.call(this)||this;i.axis=e,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var r=new Ba;return i.fill=r.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return da(e,t),e.prototype.setDisabled=function(e){var i=t.prototype.setDisabled.call(this,e);return this.axis&&this.axis.invalidateDataItems(),i},e.prototype.draw=function(){t.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&aa(this.startPosition)&&aa(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure())},Object.defineProperty(e.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(t){this.setPropertyValue("startPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(t){this.setPropertyValue("endPosition",t),this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(t){this.setPropertyValue("location",t,!0)},enumerable:!0,configurable:!0}),e.prototype.setPath=function(t){return!!this.setPropertyValue("path",t)&&(this.element.attr({d:t}),!0)},Object.defineProperty(e.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(t){this.setPropertyValue("above",t,!0)},enumerable:!0,configurable:!0}),e}(sa);ca.registeredClasses.AxisFill=yg;var Ud=function(e){function r(){var r=e.call(this)||this;r.className="Grid",r.element=r.paper.add("path"),r.location=.5,r.isMeasured=!1,r.above=!1;var t=new Ba;return r.stroke=t.getFor("grid"),r.pixelPerfect=!0,r.strokeOpacity=.15,r.fill=oa(),r.applyTheme(),r}return da(r,e),Object.defineProperty(r.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),r.prototype.setDisabled=function(r){var t=e.prototype.setDisabled.call(this,r);return this.axis&&this.axis.invalidateDataItems(),t},r}(sa);ca.registeredClasses.Grid=Ud,gb.push({relevant:pb.maybeXS,state:function(e,r){if(e instanceof Ud){var t=e.states.create(r);return t.properties.disabled=!0,t}return null}});var zg=function(e){function t(){var t=e.call(this)||this;return t.className="AxisLabel",t.isMeasured=!1,t.padding(10,10,10,10),t.location=.5,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var r=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),r},t}(vb);ca.registeredClasses.AxisLabel=zg;var Vd=function(e){function r(){var r=e.call(this)||this;r.className="Tick";var t=new Ba;return r.fillOpacity=0,r.length=6,r.strokeOpacity=.2,r.stroke=t.getFor("grid"),r.isMeasured=!1,r.nonScalingStroke=!0,r.applyTheme(),r}return da(r,e),Object.defineProperty(r.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0)},enumerable:!0,configurable:!0}),r}(sa);ca.registeredClasses.Tick=Vd;var ij=function(e){function t(){var t=e.call(this)||this;return t.className="AxisTick",t.element=t.paper.add("path"),t.location=.5,t.above=!1,t.isMeasured=!1,t.pixelPerfect=!0,t.strokeOpacity=0,t.length=5,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var r=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),r},t}(Vd);ca.registeredClasses.AxisTick=ij;var Te=function(t){function e(){var e=t.call(this)||this;e._chart=new bb,e.className="AxisRenderer",e.minGridDistance=50,e.inside=!1,e.inversed=!1,e.tooltipLocation=.5,e.fullWidthTooltip=!1,e.cellStartLocation=0,e.cellEndLocation=1,e.minLabelPosition=0,e.maxLabelPosition=1,e.shouldClone=!1;var i=e.createChild(na);i.shouldClone=!1,i.layout="none",i.virtualParent=e,i.width=ha(100),i.height=ha(100),e.gridContainer=i,i.events.on("maxsizechanged",function(){e.inited&&e.invalidateAxisItems()},e,!1);var r=e.createChild(na);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=ha(100),r.height=ha(100),e.breakContainer=r;var o=e.createChild(na);o.shouldClone=!1,o.isMeasured=!1,o.layout="none",o.width=ha(100),o.height=ha(100),e.bulletsContainer=o,e.line=e.createChild(hj),e.line.shouldClone=!1,e.line.strokeOpacity=0;var n=e.createChild(Ud);n.shouldClone=!1,e.baseGrid=n;var s=e._disposers;return s.push(n),s.push(e.line),s.push(i),s.push(r),s.push(o),s.push(e._chart),e.ticks.template.disabled=!0,e.axisFills.template.disabled=!0,e.axisFills.template.interactionsEnabled=!1,e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"axis",{get:function(){return this._axis},set:function(t){this.setAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setAxis=function(t){this._axis=t,this.baseGrid.parent=t,this.line.parent=t,this.gridContainer.bind("opacity",t)},e.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside},e.prototype.updateTooltip=function(){},Object.defineProperty(e.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.positionItem=function(t,e){t&&t.moveTo(e)},e.prototype.positionToPoint=function(t,e){return{x:0,y:0}},e.prototype.positionToAngle=function(t){return 0},e.prototype.positionToCoordinate=function(t){var e=this.axis,i=e.axisFullLength;return e.renderer.inversed?(e.end-t)*i:(t-e.start)*i},e.prototype.updateGridContainer=function(){},e.prototype.getHeight=function(){var t=this.gridContainer;return t.parent?t.parent.pixelHeight:this.gridContainer.pixelHeight||0},e.prototype.getWidth=function(){var t=this.gridContainer;return t.parent?t.parent.pixelWidth:this.gridContainer.pixelWidth||0},e.prototype.coordinateToPosition=function(t,e){var i,r=this.axis,o=r.axisFullLength;return i=r.renderer.inversed?r.end-t/o:t/o+r.start,ga(i,5)},e.prototype.pointToPosition=function(t){return 0},e.prototype.getPositionRangePath=function(t,e){return""},e.prototype.invalidateAxisItems=function(){var t=this.axis;t&&t.invalidateDataItems()},e.prototype.updateGridElement=function(t,e,i){},e.prototype.updateTickElement=function(t,e,i){},e.prototype.updateBullet=function(t,e,i){},e.prototype.updateLabelElement=function(t,e,i,r){},e.prototype.updateFillElement=function(t,e,i){t.startPosition=e,t.endPosition=i},e.prototype.updateAxisLine=function(){},e.prototype.updateBaseGridElement=function(){},e.prototype.updateBreakElement=function(t){this.positionItem(t.startLine,t.startPoint),this.toggleVisibility(t.startLine,t.startPosition,0,1),this.positionItem(t.endLine,t.endPoint),this.toggleVisibility(t.endLine,t.endPosition,0,1)},Object.defineProperty(e.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(t){this.setPropertyValue("minGridDistance",t)&&this.axis&&this.axis.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),e.prototype.toggleVisibility=function(t,e,i,r){var o=this.axis,n=t.dataItem;n&&n instanceof Td&&(aa(n.minPosition)&&(i=n.minPosition),aa(n.maxPosition)&&(r=n.maxPosition));var s=o.start+(o.end-o.start)*(i-1e-4),a=o.start+(o.end-o.start)*(r+1e-4);t.disabled||(t.__disabled=e<s||e>a)},e.prototype.createBreakSprites=function(t){},Object.defineProperty(e.prototype,"axisFills",{get:function(){if(!this._axisFills){var t=this.createFill(this.axis);this._axisFills=new Ra(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Ja(this._axisFills)),this._disposers.push(this._axisFills.template)}return this._axisFills},enumerable:!0,configurable:!0}),e.prototype.createFill=function(t){return new yg(t)},Object.defineProperty(e.prototype,"grid",{get:function(){if(!this._grid){var t=this.createGrid();this._grid=new Ra(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Ja(this._grid)),this._disposers.push(this._grid.template)}return this._grid},enumerable:!0,configurable:!0}),e.prototype.createGrid=function(){return new Ud},Object.defineProperty(e.prototype,"ticks",{get:function(){if(!this._ticks){var t=this.createTick();t.applyOnClones=!0,t.isMeasured=!1,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new Ra(t),this._disposers.push(new Ja(this._ticks)),this._disposers.push(this._ticks.template)}return this._ticks},enumerable:!0,configurable:!0}),e.prototype.createTick=function(){return new ij},Object.defineProperty(e.prototype,"labels",{get:function(){if(!this._labels){var t=this.createLabel();this._labels=new Ra(t),t.applyOnClones=!0,t.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new Ja(this._labels)),this._disposers.push(this._labels.template)}return this._labels},enumerable:!0,configurable:!0}),e.prototype.createLabel=function(){return new zg},Object.defineProperty(e.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(t){this.setPropertyValue("inside",t)&&this.axis&&this.axis.invalidate(),t?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(t){this.setPropertyValue("opposite",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(t){this.setPropertyValue("fullWidthTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(t){this.setPropertyValue("tooltipLocation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(t){this.setPropertyValue("tooltipLocation2",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(t){this.setPropertyValue("cellStartLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(t){this.setPropertyValue("cellEndLocation",t)&&this.axis&&this.axis.invalidateSeries()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(t){this.setPropertyValue("inversed",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(t){this.setPropertyValue("minLabelPosition",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(t){this.setPropertyValue("maxLabelPosition",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.grid.template.copyFrom(e.grid.template),this.ticks.template.copyFrom(e.ticks.template),this.labels.template.copyFrom(e.labels.template),this.axisFills.template.copyFrom(e.axisFills.template),this.line.copyFrom(e.line),this.baseGrid.copyFrom(e.baseGrid)},e.prototype.toAxisPosition=function(t){return t},e.prototype.setVisibility=function(e){t.prototype.setVisibility.call(this,e),this.bulletsContainer.visible=e},e}(na);ca.registeredClasses.AxisRenderer=Te;var Wd=function(e){function t(){var t=e.call(this)||this;return t.className="AxisBullet",t.location=.5,t.isMeasured=!1,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var r=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),r},t}(na);ca.registeredClasses.AxisBullet=Wd;var Qb=function(t){function i(){var i=t.call(this)||this;return i.className="AxisRendererY",i.minGridDistance=40,i.opposite=!1,i.height=ha(100),i.labels.template.verticalCenter="middle",i.applyTheme(),i}return da(i,t),i.prototype.setAxis=function(i){t.prototype.setAxis.call(this,i),i.layout="horizontal"},i.prototype.updateGridContainer=function(){var t=this.axis;if(t){var i=this.gridContainer;i.y=t.pixelY,i.height=t.axisLength}},i.prototype.toAxisPosition=function(t){var i=this.axis;if(i){var e=1-t,r=i.relativePositionSprite,o=i.pixelY;if(r?o=wb({x:0,y:this.pixelY},this.parent,r).y:r=i.parent,r)return 1-(e-o/r.innerHeight)/(i.axisLength/r.innerHeight)}return t},i.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var i=this.axis;if(i){var e=i.title;e.valign="middle",i.height instanceof za||(i.height=ha(100)),this.opposite?(e.rotation=90,this.line.toBack(),e.toFront()):(e.rotation=-90,e.toBack(),this.line.toFront())}},i.prototype.updateTooltip=function(){if(this.axis){var t=0,i=2e3,e=this.axisLength;this.opposite?this.inside&&(t=-2e3,i=2e3):this.inside||(t=-2e3,i=2e3),this.axis.updateTooltip("horizontal",{x:t,y:0,width:i,height:e})}},Object.defineProperty(i.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredHeight-t.pixelPaddingTop-t.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(t,i){return{x:0,y:this.positionToCoordinate(t)}},i.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.y,t.x)},i.prototype.coordinateToPosition=function(t,i){var e,r=this.axis,o=r.axisFullLength;return e=r.renderer.inversed?1-r.start-t/o:t/o+(1-r.end),ga(e,5)},i.prototype.getPositionRangePath=function(t,i){var e=ma(this.positionToCoordinate(t),0,this.axisLength),r=ma(this.positionToCoordinate(i),0,this.axisLength),o=Math.abs(r-e),s=this.getWidth(),n=Math.min(e,r);return rc({x:0,y:n,width:s,height:o},!0)},i.prototype.updateGridElement=function(t,i,e){i+=(e-i)*t.location;var r=this.positionToPoint(i);t.path=ka({x:0,y:0})+ea({x:this.getWidth(),y:0}),this.positionItem(t,r),this.toggleVisibility(t,i,0,1)},i.prototype.updateTickElement=function(t,i,e){i+=(e-i)*t.location;var r=this.positionToPoint(i),o=t.length;try{ub(this.axis.title.measuredWidth)}catch(s){}r.x=wb({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?o*=t.inside?-1:1:o*=t.inside?1:-1,t.path=ka({x:0,y:0})+ea({x:o,y:0}),this.positionItem(t,r),this.toggleVisibility(t,i,0,1)},i.prototype.updateAxisLine=function(){this.line.path=ka({x:0,y:0})+ea({x:0,y:this.axisLength})},i.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var i=this.axis,e=this.getWidth(),r=this.axisLength,o=i.basePoint.y,s=this.baseGrid;if(o<-.2||o>r+.2)s.hide(0);else{var n=wb({x:0,y:0},this.gridContainer,s.parent).x;s.path=ka({x:0,y:0})+ea({x:e,y:0}),s.moveTo({x:n,y:o}),s.show(0)}},i.prototype.updateLabelElement=function(t,i,e,r){ba(r)||(r=t.location),i+=(e-i)*r,t.isMeasured=!t.inside;var o,s=this.positionToPoint(i),n=0,a=this.gridContainer.maxWidth;this.opposite?(t.inside?(o="right","left"==t.align&&(n=-a,o="left"),"center"==t.align&&(n=-a/2,o="middle")):o="left",s.x=0+n):(t.inside?(o="left","right"==t.align&&(n=a,o="right"),"center"==t.align&&(n=a/2,o="middle")):o="right",s.x=this.measuredWidth+n),0==t.rotation&&(t.horizontalCenter=o),this.positionItem(t,s),this.toggleVisibility(t,i,this.minLabelPosition,this.maxLabelPosition)},i.prototype.updateBreakElement=function(i){t.prototype.updateBreakElement.call(this,i);var e=i.startLine,r=i.endLine,o=i.fillShape,s=i.startPoint,n=i.endPoint,a=i.pixelMarginLeft,p=this.getWidth()-i.pixelMarginLeft-i.pixelMarginRight;s.y=ma(s.y,-1,this.axisLength+1),n.y=ma(n.y,-1,this.axisLength+1),s.y==n.y&&(s.y<0||s.y>this.axisLength)?i.fillShape.__disabled=!0:i.fillShape.__disabled=!1;var $=Math.abs(p-a);e.x=a,e.height=0,e.width=$,r.x=a,r.height=0,r.width=$,o.width=$,o.height=Math.abs(n.y-s.y),o.x=a,o.y=n.y},i.prototype.createBreakSprites=function(t){t.startLine=new Ic,t.endLine=new Ic;var i=new Vi;i.setWavedSides(!0,!1,!0,!1),t.fillShape=i},i.prototype.positionToCoordinate=function(t){var i,e=this.axis,r=e.axisFullLength;return i=e.renderer.inversed?(t-e.start)*r:(e.end-t)*r,ga(i,1)},i.prototype.updateBullet=function(t,i,e){var r=.5;t instanceof Wd&&(r=t.location),i+=(e-i)*r;var o=this.positionToPoint(i);o.x=wb({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(t,o),this.toggleVisibility(t,i,0,1)},i}(Te);ca.registeredClasses.AxisRendererY=Qb,gb.push({relevant:pb.widthS,state:function(t,i){if(t instanceof Qb){var e=t.states.create(i);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}}),gb.push({relevant:pb.widthXS,state:function(t,i){if(t instanceof Qb){var e=t.states.create(i);return e.properties.disabled=!0,e}return null}});var Ag=function(e){function r(){var r=e.call(this)||this;return r.className="ValueAxisBreak",r.applyTheme(),r}return da(r,e),Object.defineProperty(r.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),r}(Re);ca.registeredClasses.ValueAxisBreak=Ag;var Ue=function(t){function e(){var e=t.call(this)||this;return e.className="ValueAxisDataItem",e.values.value={},e.values.endValue={},e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.values.value.value},set:function(t){this.setValue("value",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(t){this.setValue("endValue",t)},enumerable:!0,configurable:!0}),e}(Td);var va=function(t){function e(){var e=t.call(this)||this;return e._stepDecimalPlaces=0,e._prevStepDecimalPlaces=0,e._adjustLabelPrecision=!0,e._baseValue=0,e._adjustedStart=0,e._adjustedEnd=1,e._extremesChanged=!1,e._deltaMinMax=1,e.calculateTotals=!1,e.className="ValueAxis",e.axisFieldName="value",e.setPropertyValue("maxZoomFactor",1e3),e.setPropertyValue("extraMin",0),e.setPropertyValue("extraMax",0),e.setPropertyValue("strictMinMax",!1),e.setPropertyValue("maxPrecision",Number.MAX_VALUE),e.setPropertyValue("adjustLabelPrecision",!0),e.setPropertyValue("extraTooltipPrecision",0),e.keepSelection=!1,e.includeRangesInMinMax=!1,e.applyTheme(),e}return da(e,t),e.prototype.fillRule=function(t){var e=t.value,i=t.component;t.axisFill.disabled||(ga(e/i.step/2,5)==Math.round(e/i.step/2)?t.axisFill.__disabled=!0:t.axisFill.__disabled=!1)},e.prototype.createDataItem=function(){return new Ue},e.prototype.createAxisBreak=function(){return new Ag},e.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined},e.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var t=this.series.getIndex(0),e=t.startIndex;if(t.dataItems.length>0){e>0&&e--;var i=t.endIndex;i<t.dataItems.length&&i++;for(var a=function(t){var e={},i={};s.series.each(function(a){if(!a.excludeFromTotal){var s=a.dataItems.getIndex(t);s&&qa(s.values,function(t){var a=s.values[t].workingValue;aa(a)&&(aa(e[t])?e[t]+=Math.abs(a):e[t]=Math.abs(a),aa(i[t])?i[t]+=a:i[t]=a)})}}),s.series.each(function(a){if(!a.excludeFromTotal){var s=a.dataItems.getIndex(t);s&&qa(s.values,function(t){var a=s.values[t].workingValue;aa(a)&&(s.setCalculatedValue(t,e[t],"total"),s.setCalculatedValue(t,100*a/e[t],"totalPercent"),s.setCalculatedValue(t,i[t],"sum"))})}})},s=this,o=e;o<i;++o)a(o)}}},e.prototype.validate=function(){this.axisLength<=0||(t.prototype.validate.call(this),this.getMinMax(),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout())},e.prototype.calculateZoom=function(){if(aa(this.min)&&aa(this.max)){var t=this.positionToValue(this.start),e=this.positionToValue(this.end),i=this.adjustDifference(t,e),a=this.adjustMinMax(t,e,i,this._gridCount,!0),s=dm(a.step);this._stepDecimalPlaces=s,t=ga(t,s),e=ga(e,s);var o=(a=this.adjustMinMax(t,e,i,this._gridCount,!0)).step;if(this.syncWithAxis){var r=this.getCache(t+"-"+e);aa(r)&&(o=r)}else t=a.min,e=a.max;this._minZoomed==t&&this._maxZoomed==e&&this._step==o||(this._minZoomed=t,this._maxZoomed=e,this._step=o,this.dispatchImmediately("selectionextremeschanged"))}},e.prototype.validateAxisElements=function(){var t=this;if(aa(this.max)&&aa(this.min)){var e=this.minZoomed-2*this._step;if(this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(e=Math.floor(this.minZoomed/this._step)*this._step)&&(e=this.minZoomed);else e=Math.floor(e/this._step)*this._step;var i=this._maxZoomed+this._step;this.resetIterators();var a=this._dataItemsIterator,s=0,o=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;e<=i;){if(!this.isInBreak(e)){var r=a.find(function(t){return t.value===e});r.__disabled&&(r.__disabled=!1),this.appendDataItem(r),r.axisBreak=void 0,(r.value!=e||o)&&(r.value=e,r.text=this.formatLabel(e),r.label&&r.label.invalid&&r.label.validate(),r.value>=this.min&&r.value<=this.max&&r.label&&("Y"==this.axisLetter&&r.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&r.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=r.label.currentText,this.ghostLabel.validate())),this.validateDataElement(r)}if(s++,this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?e=Math.pow(10,Math.log(this.min)*Math.LOG10E+s):e+=this._step;else e+=this._step;var n=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(n<1){var h=Math.round(Math.abs(Math.log(Math.abs(n))*Math.LOG10E))+2;e=ga(e,h)}}var l=this._axisBreaks;if(l){var u=this.renderer;fa(l.iterator(),function(e){if(e.breakSize>0&&Ea(e.startPoint,e.endPoint)>u.minGridDistance)for(var i=e.adjustedMin;i<=e.adjustedMax;){if(i>=e.adjustedStartValue&&i<=e.adjustedEndValue){var s=a.find(function(t){return t.value===i});s.__disabled&&(s.__disabled=!1),t.appendDataItem(s),s.axisBreak=e,s.value!=i&&(s.value=i,s.text=t.formatLabel(i),s.label&&s.label.invalid&&s.label.validate()),t.validateDataElement(s)}i+=e.adjustedStep}})}}},e.prototype.validateDataElement=function(e){t.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,a=e.value,s=e.endValue,o=this.valueToPosition(a);e.position=o;var r=o,n=this.valueToPosition(a+this._step);aa(s)&&(n=r=this.valueToPosition(s)),e.point=i.positionToPoint(o);var h=e.tick;h&&!h.disabled&&i.updateTickElement(h,o,r);var l=e.grid;l&&!l.disabled&&i.updateGridElement(l,o,r);var u=e.label;u&&!u.disabled&&i.updateLabelElement(u,o,r);var m=e.axisFill;m&&!m.disabled&&(i.updateFillElement(m,o,n),e.isRange||this.fillRule(e)),e.bullet&&i.updateBullet(e.bullet,o,r);var p=e.mask;p&&i.updateFillElement(p,o,n)},e.prototype.formatLabel=function(t){return this.adjustLabelPrecision&&0!=t?this.numberFormatter.format(t,void 0,this._stepDecimalPlaces):this.numberFormatter.format(t)},Object.defineProperty(e.prototype,"basePoint",{get:function(){var t=this.baseValue,e=this.valueToPosition(t);return this.renderer.positionToPoint(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseValue",{get:function(){var t=this._baseValue;return this.logarithmic&&(t=this.min),this._adapterO?this._adapterO.apply("baseValue",t):t},set:function(t){this._baseValue=t,this.invalidateLayout(),this.invalidateSeries()},enumerable:!0,configurable:!0}),e.prototype.anyToPosition=function(t){return this.valueToPosition(t)},e.prototype.valueToPoint=function(t){var e=this.valueToPosition(t),i=this.renderer.positionToPoint(e),a=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:a}},e.prototype.anyToPoint=function(t){return this.valueToPoint(t)},e.prototype.valueToPosition=function(t){if(aa(t)){var e=this.min,i=this.max;if(aa(e)&&aa(i)){var a=this._difference,s=this._axisBreaks;s&&s.length>0&&Db(s.iterator(),function(a){var s=a.adjustedStartValue,o=a.adjustedEndValue;if(aa(s)&&aa(o)){if(t<s)return!1;if(ee({start:s,end:o},{start:e,end:i})){s=Math.max(s,e),o=Math.min(o,i);var r=a.breakSize;t>o?e+=(o-s)*(1-r):t<s||(t=s+(t-s)*r)}}return!0});return this.logarithmic?(Math.log(t)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E):(t-e)/a}}return 0},e.prototype.invalidateLabels=function(){t.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each(function(t){t.value=void 0}),this.invalidate())},e.prototype.positionToValue=function(t){t=ga(t,10);var e=this.min,i=this.max;if(aa(e)&&aa(i)){var a=i-e,s=null,o=this._axisBreaks;return o&&o.length>0&&Db(o.iterator(),function(o){var r=o.startPosition,n=o.endPosition,h=o.adjustedStartValue,l=o.adjustedEndValue;if(aa(h)&&aa(l)){if(h>i)return!1;if(ee({start:h,end:l},{start:e,end:i})){h=ua(h,e),l=ya(l,i);var u=o.breakSize;if(a-=(l-h)*(1-u),t>n)e+=(l-h)*(1-u);else if(!(t<r))return s=h+(t-r)/(n-r)*(l-h),!1}return!0}}),aa(s)||(s=this.logarithmic?Math.pow(Math.E,(t*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):t*a+e),s}},e.prototype.xToValue=function(t){return this.positionToValue(this.pointToPosition({x:t,y:0}))},e.prototype.yToValue=function(t){return this.positionToValue(this.pointToPosition({x:0,y:t}))},e.prototype.pointToPosition=function(t){return this.renderer instanceof Qb?1-this.renderer.pointToPosition(t):this.renderer.pointToPosition(t)},e.prototype.animateMinMax=function(t,e){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing)},e.prototype.getMinMax=function(){var t=this;this.updateGridCount();var e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(aa(this._minDefined)&&aa(this._maxDefined)||(this.series.each(function(a){if(!a.ignoreMinMax){var s=a.min(t);aa(s)&&s<e&&(e=s);var o=a.max(t);aa(o)&&o>i&&(i=o)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(t){if(!t.ignoreMinMax){var a=ya(t.value,t.endValue),s=ua(t.value,t.endValue);(a<e||!aa(e))&&(e=a),(s>i||!aa(i))&&(i=s)}})),this.logarithmic&&e<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0),0==e&&0==i&&(i=.9,e=-.9),aa(this._minDefined)&&(e=this._minDefined),aa(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),aa(e)&&aa(i)){this._minReal=e,this._maxReal=i,e==Number.POSITIVE_INFINITY&&(e=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var a=this.adjustDifference(e,i);if(e=this.fixMin(e),(i=this.fixMax(i))-e<=1/Math.pow(10,15)){if(i-e!=0)this._deltaMinMax=(i-e)/2;else{var s=Math.log(Math.abs(i))*Math.LOG10E,o=Math.pow(10,Math.floor(s));o/=10,this._deltaMinMax=o}e-=this._deltaMinMax,i+=this._deltaMinMax}e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax;var r=this.strictMinMax;aa(this._maxDefined)&&(r=!0);var n=this.adjustMinMax(e,i,a,this._gridCount,r);if(e=n.min,a=(i=n.max)-e,n=this.adjustMinMax(e,i,i-e,this._gridCount,!0),e=n.min,i=n.max,this.strictMinMax&&(e=aa(this._minDefined)?this._minDefined:this._minReal,(i=aa(this._maxDefined)?this._maxDefined:this._maxReal)-e<=1e-8&&(e-=this._deltaMinMax,i+=this._deltaMinMax),e-=(i-e)*this.extraMin,i+=(i-e)*this.extraMax),this._adapterO&&(e=this._adapterO.apply("min",e)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=n.step,(this._minAdjusted!=e||this._maxAdjusted!=i)&&aa(e)&&aa(i)){var h=this._minMaxAnimation;if(this._extremesChanged&&aa(this._minAdjusted)&&aa(this._maxAdjusted)&&this.inited){if(h&&!h.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._finalMin=e,this._finalMax=i,(h=this.animateMinMax(e,i))&&!h.isFinished()?(h.events.on("animationprogress",this.validateDataItems,this),h.events.on("animationended",function(){t.series.each(function(t){t.validate()}),t.validateDataItems(),t.handleSelectionExtremesChange()}),this._minMaxAnimation=h):this.series.each(function(t){t.validate()}),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange()}else{if(h&&!h.isFinished()&&this._finalMax==i&&this._finalMin==e)return;this._minAdjusted=e,this._maxAdjusted=i,this._finalMin=e,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged")}}this._extremesChanged=!1,this._difference=this.adjustDifference(e,i)}},e.prototype.fixMin=function(t){return t},e.prototype.fixMax=function(t){return t},e.prototype.adjustMinMax=function(t,e,i,a,s){a<=1&&(a=1),a=Math.round(a);var o=t,r=e;0===i&&(i=Math.abs(e));var n=Math.log(Math.abs(i))*Math.LOG10E,h=Math.pow(10,Math.floor(n)),l=h/=10;s&&(l=0),this.logarithmic?(t<=0&&(t=this.baseValue),t==1/0&&(t=1),e==-1/0&&(e=10),t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),e=Math.pow(10,Math.ceil(Math.log(Math.abs(e))*Math.LOG10E))):(s?(t=Math.floor(t/h)*h,e=Math.ceil(e/h)*h):(t=Math.ceil(t/h)*h-l,e=Math.floor(e/h)*h+l),t<0&&o>=0&&(t=0),e>0&&r<=0&&(e=0)),n=Math.log(Math.abs(i))*Math.LOG10E,h=Math.pow(10,Math.floor(n)),h/=10;var u=Math.ceil(i/a/h)*h,m=Math.pow(10,Math.floor(Math.log(Math.abs(u))*Math.LOG10E)),p=Math.ceil(u/m);p>5?p=10:p<=5&&p>2&&(p=5),u=Math.ceil(u/(m*p))*m*p,this.maxPrecision<Number.MAX_VALUE&&u!=Bf(u,this.maxPrecision)&&(u=Bf(u,this.maxPrecision));var $=0;if(m<1&&($=Math.round(Math.abs(Math.log(Math.abs(m))*Math.LOG10E))+1,u=ga(u,$)),!this.logarithmic){var d=Math.floor(t/u);t=ga(u*d,$);var x=void 0;(x=s?Math.floor(e/u):Math.ceil(e/u))==d&&x++,(e=ga(u*x,$))<r&&(e+=u),t>o&&(t-=u)}return{min:t,max:e,step:u}},Object.defineProperty(e.prototype,"min",{get:function(){var t=this._minAdjusted;return aa(t)||(t=this._minDefined),t},set:function(t){this._minDefined!=t&&(this._minDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(t){this.setPropertyValue("extraMin",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(t){this.setPropertyValue("extraMax",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){var t=this._maxAdjusted;return aa(t)||(t=this._maxDefined),t},set:function(t){this._maxDefined!=t&&(this._maxDefined=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(t){this.setPropertyValue("adjustLabelPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.registerSeries=function(e){return new Pa([t.prototype.registerSeries.call(this,e),e.events.on("extremeschanged",this.handleExtremesChange,this,!1),e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",e.invalidate,e,!1)])},e.prototype.handleSelectionExtremesChange=function(){var t,e,i=this,a=!0;if(fa(this.series.iterator(),function(s){if(!s.ignoreMinMax&&!s.isHidden){s.visible&&!s.isHiding&&(a=!1);var o=s.selectionMin(i),r=s.selectionMax(i);aa(o)&&(!aa(t)||o<t)&&(t=o),aa(r)&&(!aa(e)||r>e)&&(e=r)}}),this.includeRangesInMinMax&&this.axisRanges.each(function(t){if(!t.ignoreMinMax){var i=ya(t.value,t.endValue),a=ua(t.value,t.endValue);i<e&&(e=i),a>e&&(e=a)}}),aa(this._minDefined)?t=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(t=this._minReal),aa(this._maxDefined)?e=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(e=this._maxReal),t==e){t-=this._deltaMinMax,e+=this._deltaMinMax;var s=this.adjustMinMax(t,e,0,this._gridCount,this.strictMinMax);t=s.min,e=s.max}var o=this.adjustDifference(t,e),r=this.adjustMinMax(t,e,o,this._gridCount);t=r.min,e=r.max,t-=(e-t)*this.extraMin,e+=(e-t)*this.extraMax,t=ma(t,this.min,this.max),e=ma(e,this.min,this.max),o=this.adjustDifference(t,e),r=this.adjustMinMax(t,e,o,this._gridCount,!0),t=r.min,e=r.max,this.strictMinMax&&(t=ua(t,this._minDefined),e=ya(e,this._maxDefined));var n=r.step;this.syncWithAxis&&(r=this.syncAxes(t,e,n),t=r.min,e=r.max,this.invalidate()),n=r.step,this._difference=this.adjustDifference(this.min,this.max);var h=this.valueToPosition(t),l=this.valueToPosition(e);a&&!this.syncWithAxis&&(h=0,l=1);var u=0;this.syncWithAxis?(u=5,this.setCache(t+"-"+e,n)):(this._step=n,this._minZoomed=t,this._maxZoomed=e),this.keepSelection||this.zoom({start:h,end:l},!1,!1,u)},Object.defineProperty(e.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(t){this.setPropertyValue("strictMinMax",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(t){this.setPropertyValue("logarithmic",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(t){this.setPropertyValue("keepSelection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(t){this.setPropertyValue("includeRangesInMinMax",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(t){this.setPropertyValue("maxPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(t){this.setPropertyValue("extraTooltipPrecision",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e.prototype.handleExtremesChange=function(){var t=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){this.dataItems.each(function(e){e.label&&e.label.pixelWidth>0&&(t.ghostLabel.text=e.label.currentText)})}},e.prototype.getX=function(t,e,i,a,s){return this.renderer.positionToPoint(this.getPositionX(t,e,i,a,s)).x},e.prototype.getPositionX=function(t,e,i,a,s){var o=t.getWorkingValue(e);ba(a)||(a="valueX");var r=t.getValue(a,"stack");aa(o)||(o=this.baseValue,this.logarithmic&&r>0&&(o=0));var n=this.valueToPosition(o+r);return s&&(n=ma(n,s.start,s.end)),n},e.prototype.getY=function(t,e,i,a,s){return this.renderer.positionToPoint(this.getPositionY(t,e,i,a,s)).y},e.prototype.getPositionY=function(t,e,i,a,s){var o=t.getWorkingValue(e);ba(a)||(a="valueY");var r=t.getValue(a,"stack");aa(o)||(o=this.baseValue,this.logarithmic&&r>0&&(o=0));var n=this.valueToPosition(o+r);return s&&(n=ma(n,s.start,s.end)),n},e.prototype.getAngle=function(t,e,i,a,s){var o=t.getWorkingValue(e),r=t.getValue(a,"stack");aa(o)||(o=this.baseValue);var n=this.valueToPosition(o+r);return s&&(n=ma(n,s.start,s.end)),this.positionToAngle(n)},e.prototype.getAnyRangePath=function(t,e,i){var a=this.valueToPosition(t),s=this.valueToPosition(e);return this.getPositionRangePath(a,s)},e.prototype.getTooltipText=function(t){var e=ga(this.positionToValue(t),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(e);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},e.prototype.zoomToValues=function(t,e,i,a){var s=(t-this.min)/(this.max-this.min),o=(e-this.min)/(this.max-this.min);this.zoom({start:s,end:o},i,a)},Object.defineProperty(e.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:ua(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:ya(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),e.prototype.fixAxisBreaks=function(){var e=this;t.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(t){var i=t.adjustedStartValue,a=t.adjustedEndValue,s=a-i,o=Math.ceil(s*t.breakSize)*e._gridCount/(e.max-e.min),r=e.adjustMinMax(i,a,s,o,!0);t.adjustedStep=r.step,t.adjustedMin=r.min,t.adjustedMax=r.max}),this._difference=this.adjustDifference(this.min,this.max)},e.prototype.getPositionLabel=function(t){var e=this.positionToValue(t);return this.numberFormatter.format(e)},e.prototype.showTooltipAt=function(t){this.showTooltipAtPosition(this.valueToPosition(t))},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.min=e.min,this.max=e.max,this.calculateTotals=e.calculateTotals,this._baseValue=e.baseValue},Object.defineProperty(e.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(t){var e=this;this.setPropertyValue("syncWithAxis",t,!0)&&t&&(this._disposers.push(t.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",function(){e.clearCache(),e._disposers.push(ca.events.once("exitframe",function(){e.handleSelectionExtremesChange()}))},this,!1))},enumerable:!0,configurable:!0}),e.prototype.syncAxes=function(t,e,i){var a=this.syncWithAxis;if(a){aa(t)||(t=this.min),aa(e)||(e=this.max),aa(i)||(i=this._step);var s=Math.round((a.maxZoomed-a.minZoomed)/a.step),o=Math.round((e-t)/i);if(aa(s)&&aa(o))for(var r=!1,n=0,h=.01*(e-t),l=t,u=e,m=i;1!=r;)if(r=this.checkSync(l,u,m,s),++n>1e3&&(r=!0),r)t=l,e=u,i=m;else{n/3==Math.round(n/3)?(l=t-h*n,t>=0&&l<0&&(l=0)):(u=e+h*n)<=0&&u>0&&(u=0);var p=this.adjustMinMax(l,u,u-l,this._gridCount,!0);l=p.min,u=p.max,m=p.step}}return{min:t,max:e,step:i}},e.prototype.checkSync=function(t,e,i,a){for(var s=(e-t)/i,o=1;o<a;o++)if(ga(s/o,1)==a||s*o==a)return!0;return!1},e.prototype.processConfig=function(e){e&&ba(e.syncWithAxis)&&wa(e.syncWithAxis)&&(this.map.hasKey(e.syncWithAxis)?e.syncWithAxis=this.map.getKey(e.syncWithAxis):(this.processingErrors.push("[ValueAxis] No axis with id \""+e.syncWithAxis+"\" found for `syncWithAxis`"),delete e.xAxis)),t.prototype.processConfig.call(this,e)},e}(Se);ca.registeredClasses.ValueAxis=va,ca.registeredClasses.ValueAxisDataItem=Ue;var jj=function(e){function t(){var t=e.call(this)||this;return t.className="DateAxisBreak",t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()))},enumerable:!0,configurable:!0}),t}(Ag);ca.registeredClasses.DateAxisBreak=jj;var kj=function(t){function e(){var e=t.call(this)||this;return e.className="DateAxisDataItem",e.applyTheme(),e.values.date={},e.values.endDate={},e}return da(e,t),Object.defineProperty(e.prototype,"date",{get:function(){return this.dates.date},set:function(t){this.setDate("date",t),this.value=t.getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(t){this.setDate("endDate",t),this.endValue=t.getTime()},enumerable:!0,configurable:!0}),e}(Ue);var _a=function(t){function e(){var e=t.call(this)||this;return e._gapBreaks=!1,e.gridIntervals=new Aa,e.groupIntervals=new Aa,e.dateFormats=new Ka,e.periodChangeDateFormats=new Ka,e._baseIntervalReal={timeUnit:"day",count:1},e._prevSeriesTime={},e._minDifference={},e._firstWeekDay=1,e.groupMin={},e.groupMax={},e.className="DateAxis",e.setPropertyValue("markUnitChange",!0),e.snapTooltip=!0,e.tooltipPosition="pointer",e.setPropertyValue("groupData",!1),e.groupCount=200,e.events.on("parentset",e.getDFFormatter,e,!1),e.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),e.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),e.axisFieldName="date",e.applyTheme(),e}return da(e,t),e.prototype.fillRule=function(t){var e=t.value,i=t.component,a=i._gridInterval,r=Ta(a.timeUnit,a.count);Math.round((e-i.min)/r)/2==Math.round(Math.round((e-i.min)/r)/2)?t.axisFill.__disabled=!0:t.axisFill.__disabled=!1},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"))},e.prototype.createDataItem=function(){return new kj},e.prototype.createAxisBreak=function(){return new jj},e.prototype.validateDataItems=function(){var e=this.start,i=this.end,a=this.baseDuration,r=(this.max-this.min)/a;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),t.prototype.validateDataItems.call(this);var n=Ta(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=(this.max-this.min)/n,this._deltaMinMax=this.baseDuration/2,e+=(i-e)*(1-r/((this.max-this.min)/a)),this.zoom({start:e,end:i},!1,!0)},e.prototype.handleSelectionExtremesChange=function(){},e.prototype.calculateZoom=function(){var e=this;t.prototype.calculateZoom.call(this);var i=this.adjustDifference(this._minZoomed,this._maxZoomed),a=!1;if(this.groupData&&ba(i)){var r=this.mainBaseInterval,n=i+this.startLocation+(1-this.endLocation)*this.baseDuration,o=this.chooseInterval(0,n,this.groupCount,this.groupIntervals);Ta(o.timeUnit,o.count)<Ta(r.timeUnit,r.count)&&(o=ta({},r)),this._groupInterval=o,this._currentDataSetId=o.timeUnit+o.count,this.series.each(function(t){t.baseAxis==e&&t.setDataSet(e._currentDataSetId)&&(a=!0)})}var s=this.chooseInterval(0,i,this._gridCount);Ta(s.timeUnit,s.count)<this.baseDuration&&(s=ta({},this.baseInterval)),this._gridInterval=s,this._nextGridUnit=wi(s.timeUnit),this._intervalDuration=Ta(s.timeUnit,s.count),this._gridDate=eb(new Date(this.minZoomed-Ta(s.timeUnit,s.count)),s.timeUnit,s.count,this._firstWeekDay,this._df.utc,new Date(this.min)),fa(this.series.iterator(),function(t){if(t.baseAxis==e){var i=t.getAxisField(e),r=eb(new Date(e._minZoomed),e.baseInterval.timeUnit,e.baseInterval.count,e._firstWeekDay,e._df.utc).getTime(),n=r.toString(),o=t.dataItemsByAxis.getKey(e.uid).getKey(n+t.currentDataSetId),s=0;0!=e.start&&(s=o?(o=e.findFirst(o,r,i)).index:t.dataItems.findClosestIndex(e._minZoomed,function(t){return t[i]},"left"));var m=e.baseInterval,u=sb(eb(new Date(e._maxZoomed),m.timeUnit,m.count,e._firstWeekDay,e._df.utc),m.timeUnit,m.count,e._df.utc).getTime(),p=u.toString(),$=t.dataItemsByAxis.getKey(e.uid).getKey(p+t.currentDataSetId),h=t.dataItems.length;1!=e.end&&($?h=$.index:(u-=1,(h=t.dataItems.findClosestIndex(u,function(t){return t[i]},"right"))<t.dataItems.length&&h++)),t.startIndex=s,t.endIndex=h,!a&&t.dataRangeInvalid&&t.validateDataRange()}})},e.prototype.findFirst=function(t,e,i){var a=t.index;if(a>0){var r=t.component.dataItems.getIndex(a-1),n=r[i];return!n||n.getTime()<e?t:this.findFirst(r,e,i)}return t},e.prototype.validateData=function(){t.prototype.validateData.call(this),aa(this.baseInterval.count)||(this.baseInterval.count=1)},Object.defineProperty(e.prototype,"minDifference",{get:function(){var t=this,e=Number.MAX_VALUE;return this.series.each(function(i){e>t._minDifference[i.uid]&&(e=t._minDifference[i.uid])}),e!=Number.MAX_VALUE&&0!=e||(e=Ta("day")),e},enumerable:!0,configurable:!0}),e.prototype.seriesDataChangeUpdate=function(t){this._minDifference[t.uid]=Number.MAX_VALUE},e.prototype.postProcessSeriesDataItems=function(t){var e=this;t?this.seriesGroupUpdate(t):this.series.each(function(t){e.seriesGroupUpdate(t)}),this.addEmptyUnitsBreaks()},e.prototype.seriesGroupUpdate=function(t){var e=this;JSON.stringify(t._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(t._baseInterval[this.uid]=this.mainBaseInterval,t.mainDataSet.each(function(t){e.postProcessSeriesDataItem(t)}),this.groupData&&this.groupSeriesData(t))},e.prototype.groupSeriesData=function(t){var e=this;if(t.baseAxis==this&&t.dataItems.length>0&&!t.dataGrouped){var i=[],a=this.mainBaseInterval,r=Ta(a.timeUnit,a.count);this.groupIntervals.each(function(t){var a=Ta(t.timeUnit,t.count);a>r&&a<e.max-e.min&&i.push(t)}),t._dataSets&&(t._dataSets.each(function(t,e){e.each(function(t){t.dispose()}),e.clear()}),t._dataSets.clear()),la(i,function(i){var a="date"+e.axisLetter,r=i.timeUnit+i.count,n=new ke(t.mainDataSet.template.clone());t.dataSets.setKey(r,n),t.dataGrouped=!0;var o,s=t.mainDataSet,m=Number.NEGATIVE_INFINITY,u=0,p=[];qa(t.dataFields,function(t,e){var i=t;i!=a&&-1==i.indexOf("Show")&&p.push(i)}),s.each(function(r){var s=r.getDate(a);if(s){var $=s.getTime(),h=eb(new Date($),i.timeUnit,i.count,e._df.firstDayOfWeek,e._df.utc),d=h.getTime();m<d?((o=n.create()).dataContext={},o.setWorkingLocation("dateX",t.dataItems.template.locations.dateX,0),o.setWorkingLocation("openDateX",t.dataItems.template.locations.openDateX,0),o.setWorkingLocation("dateY",t.dataItems.template.locations.dateY,0),o.setWorkingLocation("openDateY",t.dataItems.template.locations.openDateY,0),o.component=t,o.setDate(a,h),o._index=u,u++,la(p,function(t){var e=r.values[t];if(e){var i=e.value,a=o.values[t];aa(i)?(a.value=i,a.workingValue=i,a.open=i,a.close=i,a.low=i,a.high=i,a.sum=i,a.average=i,a.count=1):a.count=0}}),e.postProcessSeriesDataItem(o,i),qa(t.propertyFields,function(t,e){var i=t,a=r.properties[t];ba(a)&&(o.hasProperties=!0,o.setProperty(i,a))}),o.groupDataItems=[r],m=d):o&&(la(p,function(e){var i=t.groupFields[e],a=r.values[e];if(a){var n=a.value;if(aa(n)){var s=o.values[e];aa(s.open)||(s.open=n),s.close=n,(s.low>n||!aa(s.low))&&(s.low=n),(s.high<n||!aa(s.high))&&(s.high=n),aa(s.sum)?s.sum+=n:s.sum=n,s.count++,s.average=s.sum/s.count,aa(s[i])&&(s.value=s[i],s.workingValue=s.value)}}}),gc(r.properties,o.properties),qa(t.propertyFields,function(t,e){var i=t,a=r.properties[t];ba(a)&&(o.hasProperties=!0,o.setProperty(i,a))}),o.groupDataItems.push(r))}o&&gc(r.dataContext,o.dataContext)})}),this.calculateZoom()}},e.prototype.getDFFormatter=function(){this._df=this.dateFormatter},e.prototype.postProcessSeriesDataItem=function(t,e){var i=this,a="";e?a=e.timeUnit+e.count:e=this.mainBaseInterval;var r=t.component.dataItemsByAxis.getKey(this.uid);qa(t.dates,function(n){var o=t.getDate(n).getTime(),s=eb(new Date(o),e.timeUnit,e.count,i._firstWeekDay,i._df.utc).getTime(),m=sb(new Date(s),e.timeUnit,e.count,i._df.utc);t.setCalculatedValue(n,s,"open"),t.setCalculatedValue(n,m.getTime(),"close"),r.setKey(s+a,t)})},e.prototype.addEmptyUnitsBreaks=function(){var t=this;if(this.skipEmptyPeriods&&aa(this.min)&&aa(this.max)){var e=this.baseInterval.timeUnit,i=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var a=eb(new Date(this.min),e,i,this._firstWeekDay,this._df.utc),r=void 0,n=function(){sb(a,e,i,o._df.utc);var n=a.getTime(),s=n.toString();If(o.series.iterator(),function(e){return!!e.dataItemsByAxis.getKey(t.uid).getKey(s+e.currentDataSetId)})?r&&(r.endDate=new Date(n-1),r=void 0):r||((r=o.axisBreaks.create()).startDate=new Date(n),o._gapBreaks=!0)},o=this;a.getTime()<this.max-this.baseDuration;)n()}},e.prototype.fixAxisBreaks=function(){var e=this;t.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each(function(t){var i=Math.ceil(e._gridCount*(Math.min(e.end,t.endPosition)-Math.max(e.start,t.startPosition))/(e.end-e.start));t.gridInterval=e.chooseInterval(0,t.adjustedEndValue-t.adjustedStartValue,i);var a=eb(new Date(t.adjustedStartValue),t.gridInterval.timeUnit,t.gridInterval.count,e._firstWeekDay,e._df.utc);a.getTime()>t.startDate.getTime()&&sb(a,t.gridInterval.timeUnit,t.gridInterval.count,e._df.utc),t.gridDate=a})},e.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},e.prototype.getGridDate=function(t,e){var i=this._gridInterval.timeUnit,a=this._gridInterval.count;eb(t,i,1,this._firstWeekDay,this._df.utc);var r=t.getTime(),n=cd(t),o=sb(n,i,e,this._df.utc).getTime(),s=this.isInBreak(o);s&&s.endDate&&(n=new Date(s.endDate.getTime()),eb(n,i,a,this._firstWeekDay,this._df.utc),n.getTime()<s.endDate.getTime()&&sb(n,i,a,this._df.utc),o=n.getTime());var m=this.adjustDifference(r,o);return Math.round(m/Ta(i))<a?this.getGridDate(t,e+a):n},e.prototype.getBreaklessDate=function(t,e,i){var a=new Date(t.endValue);eb(a,e,i,this._firstWeekDay,this._df.utc),sb(a,e,i,this._df.utc);var r=a.getTime();return(t=this.isInBreak(r))?this.getBreaklessDate(t,e,i):a},e.prototype.validateAxisElements=function(){var t=this;if(aa(this.max)&&aa(this.min)){this.calculateZoom();var e=this._gridDate.getTime(),i=this._gridInterval.timeUnit,a=this._gridInterval.count,r=cd(this._gridDate),n=this._dataItemsIterator;this.resetIterators();for(var o=function(){var t=s.getGridDate(cd(r),a);e=t.getTime();var o=cd(t);o=sb(o,i,a,s._df.utc);var m=s.dateFormats.getKey(i);s.markUnitChange&&r&&ig(t,r,s._nextGridUnit,s._df.utc)&&"year"!==i&&(m=s.periodChangeDateFormats.getKey(i));var u=s._df.format(t,m),p=n.find(function(t){return t.text===u});p.__disabled&&(p.__disabled=!1),s.appendDataItem(p),p.axisBreak=void 0,p.date=t,p.endDate=o,p.text=u,s.validateDataElement(p),r=t},s=this;e<=this._maxZoomed;)o();var m=this.renderer;this._axisBreaks&&fa(this._axisBreaks.iterator(),function(e){if(e.breakSize>0){var i=e.gridInterval.timeUnit,a=e.gridInterval.count;if(Ea(e.startPoint,e.endPoint)>4*m.minGridDistance)for(var r,o=e.gridDate.getTime(),s=0,u=function(){var m=cd(e.gridDate);if(o=sb(m,i,a*s,t._df.utc).getTime(),s++,o>e.adjustedStartValue&&o<e.adjustedEndValue){var u=cd(m);u=sb(u,i,a,t._df.utc);var p=t.dateFormats.getKey(i);t.markUnitChange&&r&&ig(m,r,t._nextGridUnit,t._df.utc)&&"year"!==i&&(p=t.periodChangeDateFormats.getKey(i));var $=t._df.format(m,p),h=n.find(function(t){return t.text===$});h.__disabled&&(h.__disabled=!1),t.appendDataItem(h),h.axisBreak=e,e.dataItems.moveValue(h),h.date=m,h.endDate=u,h.text=$,r=m,t.validateDataElement(h)}};o<=e.adjustedMax;)u()}})}},e.prototype.validateDataElement=function(t){if(t.itemIndex=this._axisItemCount,this._axisItemCount++,aa(this.max)&&aa(this.min)){var e=this.renderer,i=t.value,a=t.endValue;aa(a)||(a=i);var r=this.valueToPosition(i),n=this.valueToPosition(a),o=n;!t.isRange&&this._gridInterval.count>this.baseInterval.count&&(n=r+(n-r)/(this._gridInterval.count/this.baseInterval.count)),t.position=r;var s=t.tick;s&&!s.disabled&&e.updateTickElement(s,r,n);var m=t.grid;m&&!m.disabled&&e.updateGridElement(m,r,n);var u=t.axisFill;u&&!u.disabled&&(e.updateFillElement(u,r,o),t.isRange||this.fillRule(t));var p=t.mask;p&&e.updateFillElement(p,r,n),t.bullet&&e.updateBullet(t.bullet,r,n);var $=t.label;if($&&!$.disabled){var h=$.location;0==h&&(h=1!=this._gridInterval.count||"week"==this._gridInterval.timeUnit||t.isRange?0:.5),e.updateLabelElement($,r,n,h)}}},Object.defineProperty(e.prototype,"baseDuration",{get:function(){return Ta(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),e.prototype.adjustMinMax=function(t,e){return{min:t,max:e,step:this.baseDuration}},e.prototype.fixMin=function(t){var e=this.baseInterval,i=eb(new Date(t),e.timeUnit,e.count,this._firstWeekDay,this._df.utc).getTime();return i+(sb(new Date(i),e.timeUnit,e.count,this._df.utc).getTime()-i)*this.startLocation},e.prototype.fixMax=function(t){var e=this.baseInterval,i=eb(new Date(t),e.timeUnit,e.count,this._firstWeekDay,this._df.utc).getTime();return i+(sb(new Date(i),e.timeUnit,e.count,this._df.utc).getTime()-i)*this.endLocation},e.prototype.chooseInterval=function(t,e,i,a){a||(a=this.gridIntervals);var r=a.getIndex(t),n=Ta(r.timeUnit,r.count),o=a.length-1;if(t>=o)return ta({},a.getIndex(o));var s=Math.ceil(e/n);return e<n&&t>0?ta({},a.getIndex(t-1)):s<=i?ta({},a.getIndex(t)):t+1<a.length?this.chooseInterval(t+1,e,i,a):ta({},a.getIndex(t))},e.prototype.formatLabel=function(t){return this._df.format(t)},e.prototype.dateToPosition=function(t){return this.valueToPosition(t.getTime())},e.prototype.anyToPosition=function(t){return t instanceof Date?this.dateToPosition(t):this.valueToPosition(t)},e.prototype.dateToPoint=function(t){var e=this.dateToPosition(t),i=this.renderer.positionToPoint(e),a=this.renderer.positionToAngle(e);return{x:i.x,y:i.y,angle:a}},e.prototype.anyToPoint=function(t){return t instanceof Date?this.dateToPoint(t):this.valueToPoint(t)},e.prototype.positionToDate=function(t){return new Date(this.positionToValue(t))},e.prototype.getPositionX=function(t,e,i,a,r){var n=this.getTimeByLocation(t,e,i);aa(n)||(n=this.baseValue);var o=this.valueToPosition(n);return r&&(o=ma(o,r.start,r.end)),o},e.prototype.getPositionY=function(t,e,i,a,r){var n=this.getTimeByLocation(t,e,i),o=t.getValue("valueX","stack");aa(n)||(n=this.baseValue);var s=this.valueToPosition(n+o);return r&&(s=ma(s,r.start,r.end)),s},e.prototype.getAngle=function(t,e,i,a,r){var n=this.getTimeByLocation(t,e,i),o=t.getValue(a,"stack");aa(n)||(n=this.baseValue);var s=this.valueToPosition(n+o);return r&&(s=ma(s,r.start,r.end)),this.positionToAngle(s)},e.prototype.getTimeByLocation=function(t,e,i){if(ba(e)){aa(i)||(i=t.workingLocations[e],aa(i)||(i=0));var a=t.values[e].open,r=t.values[e].close,n=t.values[e].workingValue,o=t.values[e].value-n;return a-=o,r-=o,aa(a)&&aa(r)?a+(r-a)*i:void 0}},e.prototype.processSeriesDataItem=function(t,e){var i,a=t.component,r=t["date"+e];if(aa(this.timezoneOffset)&&(r.setTime(r.getTime()+6e4*(r.getTimezoneOffset()-this.timezoneOffset)),t.setValue("date"+e,r.getTime(),0)),r){i=r.getTime();var n,o=t["openDate"+e],s=this._prevSeriesTime[a.uid];if(o&&(n=o.getTime()),aa(n)){var m=Math.abs(i-n);this._minDifference[a.uid]>m&&(this._minDifference[a.uid]=m)}var u=i-s;u>0&&this._minDifference[a.uid]>u&&(this._minDifference[a.uid]=u),this._prevSeriesTime[a.uid]=i,a._baseInterval[this.uid]&&this.postProcessSeriesDataItem(t)}},e.prototype.updateAxisBySeries=function(){t.prototype.updateAxisBySeries.call(this);var e=this.chooseInterval(0,this.minDifference,1);this.minDifference>=Ta("day",27)&&"week"==e.timeUnit&&(e.timeUnit="month",e.count=1),"month"==e.timeUnit&&(this.minDifference>=Ta("day",58)&&1==e.count&&(e.count=2),this.minDifference>=Ta("day",87)&&2==e.count&&(e.count=3),this.minDifference>=Ta("day",174)&&5==e.count&&(e.count=6)),this.minDifference>=Ta("hour",23)&&"hour"==e.timeUnit&&(e.timeUnit="day",e.count=1),this.minDifference>=Ta("week",1)-Ta("hour",1)&&"day"==e.timeUnit&&(e.timeUnit="week",e.count=1),this.minDifference>=Ta("year",1)-Ta("day",1.01)&&"month"==e.timeUnit&&(e.timeUnit="year",e.count=1),this._baseIntervalReal=e,this._mainBaseInterval=e},Object.defineProperty(e.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(t){JSON.stringify(this._baseInterval)!=JSON.stringify(t)&&(this._baseInterval=t,this._mainBaseInterval=t,aa(t.count)||(t.count=1),this.invalidate(),this.postProcessSeriesDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(t){if(t){var e=this.axisBreaks.template;e.startLine.disabled=!0,e.endLine.disabled=!0,e.fillShape.disabled=!0,e.breakSize=0}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",t)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(t){this.setPropertyValue("tooltipDateFormat",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(t){this.setPropertyValue("markUnitChange",t)&&this.invalidateData()},enumerable:!0,configurable:!0}),e.prototype.getTooltipText=function(t){var e,i=this.positionToDate(t);if(i=eb(i,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min)),this.tooltipDate=i,ba(this.tooltipDateFormat))e=this._df.format(i,this.tooltipDateFormat);else{var a=this.dateFormats.getKey(this.baseInterval.timeUnit);e=a?this._df.format(i,a):this.getPositionLabel(t)}return this._adapterO?this._adapterO.apply("getTooltipText",e):e},e.prototype.roundPosition=function(t,e,i){var a=this.baseInterval,r=a.timeUnit,n=a.count,o=this.positionToDate(t);if(eb(o,r,n,this._firstWeekDay,this._df.utc),e>0&&sb(o,r,e*n,this._df.utc),i>0&&i<1&&o.setTime(o.getTime()+this.baseDuration*i),this.isInBreak(o.getTime()))for(;o.getTime()<this.max&&(sb(o,r,n,this._df.utc),this.isInBreak(o.getTime())););return this.dateToPosition(o)},e.prototype.getCellStartPosition=function(t){return this.roundPosition(t,0)},e.prototype.getCellEndPosition=function(t){return this.roundPosition(t,1)},e.prototype.getSeriesDataItem=function(t,e,i){var a,r=this.positionToValue(e),n=eb(new Date(r),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc),o=t.dataItemsByAxis.getKey(this.uid).getKey(n.getTime().toString());!o&&i&&(a="Y"==this.axisLetter?"dateY":"dateX",o=t.dataItems.getIndex(t.dataItems.findClosestIndex(n.getTime(),function(t){return t[a]?t[a].getTime():-1/0},"any")));return o},e.prototype.getPositionLabel=function(t){var e=this.positionToDate(t);return this._df.format(e,this.getCurrentLabelFormat())},e.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},e.prototype.initRenderer=function(){t.prototype.initRenderer.call(this);var e=this.renderer;e&&(e.ticks.template.location=0,e.grid.template.location=0,e.labels.template.location=0,e.baseGrid.disabled=!0)},Object.defineProperty(e.prototype,"basePoint",{get:function(){return{x:0,y:0}},enumerable:!0,configurable:!0}),e.prototype.animateMinMax=function(t,e){var i=this,a=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:t},{property:"_maxAdjusted",from:this._maxAdjusted,to:e}],this.rangeChangeDuration,this.rangeChangeEasing);return a.events.on("animationprogress",function(){i.dispatch("extremeschanged")}),a},e.prototype.handleExtremesChange=function(){if(t.prototype.handleExtremesChange.call(this),this.groupData){var e=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[e]=this._finalMin,this.groupMax[e]=this._finalMax}},e.prototype.zoomToDates=function(t,e,i,a,r){t=this._df.parse(t),e=this._df.parse(e),this.zoomToValues(t.getTime(),e.getTime(),i,a,r)},e.prototype.zoomToValues=function(t,e,i,a,r){var n=this;if(this.groupData){var o=this.adjustDifference(t,e),s=!1;e==this.max&&(s=!0);var m=!1;if(t==this.min&&(m=!0),ba(o)){var u=this.mainBaseInterval,p=this.chooseInterval(0,o,this.groupCount,this.groupIntervals);(p.timeUnit==u.timeUnit&&p.count<u.count||Ta(p.timeUnit,1)<Ta(u.timeUnit,1))&&(p=ta({},u));var $=p.timeUnit+p.count,h=this.groupMin[$],d=this.groupMax[$];aa(h)&&aa(d)||(h=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,this.series.each(function(t){var e=t.min(n),i=t.max(n);if(t._dataSets){var a=t._dataSets.getKey(p.timeUnit+p.count);if(a){var r=a.getIndex(0),o=a.getIndex(a.length-1);r&&(t.xAxis==n?e=r.dateX.getTime():t.yAxis==n&&(e=r.dateY.getTime())),o&&(t.xAxis==n?i=o.dateX.getTime():t.yAxis==n&&(i=o.dateY.getTime()))}}i=eb(sb(new Date(i),p.timeUnit,1,n._df.utc),p.timeUnit,1,n._df.firstDayOfWeek,n._df.utc).getTime(),e<h&&(h=e),i>d&&(d=i)}),this.groupMin[$]=h,this.groupMax[$]=d),t=ma(t,h,d),e=ma(e,h,d),r&&(s&&(t=e-o,t=ma(t,h,d)),m&&(e=t+o,e=ma(e,h,d)));c=(t-h)/(d-h),l=(e-h)/(d-h);this.zoom({start:c,end:l},i,a)}}else{var c=(t-this.min)/(this.max-this.min),l=(e-this.min)/(this.max-this.min);this.zoom({start:c,end:l},i,a)}},e.prototype.asIs=function(e){return"baseInterval"==e||t.prototype.asIs.call(this,e)},e.prototype.copyFrom=function(e){var i=this;t.prototype.copyFrom.call(this,e),this.dateFormats=e.dateFormats,this.periodChangeDateFormats=e.periodChangeDateFormats,this.groupIntervals.clear(),e.groupIntervals.each(function(t){i.groupIntervals.push(ta({},t))}),this.gridIntervals.clear(),e.gridIntervals.each(function(t){i.gridIntervals.push(ta({},t))}),e._baseInterval&&(this.baseInterval=e._baseInterval)},e.prototype.showTooltipAtPosition=function(e,i){var a=this;if(i||(e=this.toAxisPosition(e)),this.snapTooltip){var r,n=this.positionToDate(e).getTime();if(this.series.each(function(t){if(t.baseAxis==a){var i=a.getSeriesDataItem(t,e,!0);if(i){var o=void 0;t.xAxis==a&&(o=i.dateX),t.yAxis==a&&(o=i.dateY),r?Math.abs(r.getTime()-n)>Math.abs(o.getTime()-n)&&(r=o):r=o}}}),r){var o=r.getTime();r=eb(new Date(o),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc),o=r.getTime();var s=this.renderer.tooltipLocation;0==s&&(s=1e-4),r=new Date(r.getTime()+this.baseDuration*s),e=this.dateToPosition(r),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each(function(t){var e=t.dataItemsByAxis.getKey(a.uid).getKey(o+t.currentDataSetId),i=t.showTooltipAtDataItem(e);i?a.chart._seriesPoints.push({series:t,point:i}):(t.tooltipText||t.tooltipHTML)&&t.hideTooltip()})}}t.prototype.showTooltipAtPosition.call(this,e,!0)},Object.defineProperty(e.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(t){this.setPropertyValue("snapTooltip",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(t){var e=this;this.setPropertyValue("groupData",t)&&(this.series.each(function(i){i.setDataSet(""),t&&!i.dataGrouped&&i.inited&&(i._baseInterval[e.uid]=e.mainBaseInterval,e.groupSeriesData(i))}),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(t){this.setPropertyValue("groupCount",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(t){this.setPropertyValue("timezoneOffset",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),e.prototype.makeGap=function(t,e){var i=t.component;if(t&&e&&!i.connect&&aa(i.autoGapCount)&&i.baseAxis==this){var a=t.dates["date"+this.axisLetter],r=e.dates["date"+this.axisLetter];if(a&&r)if(a.getTime()-r.getTime()>i.autoGapCount*this.baseDuration)return!0}return!1},Object.defineProperty(e.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),e}(va);ca.registeredClasses.DateAxis=_a,ca.registeredClasses.DateAxisDataItem=kj;var jc=function(t){function i(){var i=t.call(this)||this;return i.className="AxisRendererX",i.minGridDistance=120,i.opposite=!1,i.rotation=0,i.width=ha(100),i.labels.template.horizontalCenter="middle",i.applyTheme(),i}return da(i,t),i.prototype.setAxis=function(i){t.prototype.setAxis.call(this,i),i.layout="vertical"},i.prototype.updateGridContainer=function(){var t=this.axis;if(t){var i=this.gridContainer;i.x=t.pixelX,i.width=t.axisLength}},i.prototype.processRenderer=function(){t.prototype.processRenderer.call(this);var i=this.axis;if(i){i.width instanceof za||(i.width=ha(100)),ub(this.line);var e=i.title;e.rotation=0,e.align="center",this.opposite?(this.line.toFront(),e.toBack()):(e.toFront(),this.toBack(),this.line.toBack())}},i.prototype.updateTooltip=function(){if(this.axis){var t=this.line.pixelX,i=this.line.pixelY,e=this.axisLength,o=1e3;this.opposite?this.inside||(i=-1e3,o=1e3):this.inside&&(i=-1e3,o=1e3),this.axis.updateTooltip("vertical",{x:t,y:i,width:e,height:o})}},i.prototype.updateLabelElement=function(t,i,e,o){ba(o)||(o=t.location),i+=(e-i)*o;var r=this.positionToPoint(i);t.isMeasured=!t.inside;var n,s=0,a=this.gridContainer.maxHeight;this.opposite?(t.inside?(n="top","bottom"==t.valign&&(s=a,n="bottom"),"middle"==t.valign&&(s=a/2,n="middle")):n="bottom",r.y=s):(t.inside?(n="bottom","top"==t.valign&&(s=-a,n="top"),"middle"==t.valign&&(s=-a/2,n="middle")):n="top",r.y+=s),0==t.rotation&&(t.verticalCenter=n),this.positionItem(t,r),this.toggleVisibility(t,i,this.minLabelPosition,this.maxLabelPosition)},Object.defineProperty(i.prototype,"axisLength",{get:function(){var t=this.axis;return t.measuredWidth-t.pixelPaddingRight-t.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),i.prototype.positionToPoint=function(t,i){return{x:this.positionToCoordinate(t),y:0}},i.prototype.pointToPosition=function(t){return this.coordinateToPosition(t.x,t.y)},i.prototype.getPositionRangePath=function(t,i){var e=ma(this.positionToCoordinate(t),0,this.axisLength),o=ma(this.positionToCoordinate(i),0,this.axisLength),r=Math.abs(o-e),n=this.getHeight(),s=Math.min(e,o);return rc({x:s,y:0,width:r,height:n},!0)},i.prototype.updateBreakElement=function(i){t.prototype.updateBreakElement.call(this,i);var e=i.startLine,o=i.endLine,r=i.fillShape,n=i.startPoint,s=i.endPoint,a=i.pixelMarginLeft,p=this.getHeight()-i.pixelMarginTop-i.pixelMarginBottom;n.x=ma(n.x,-1,this.axisLength+1),s.x=ma(s.x,-1,this.axisLength+1),n.x==s.x&&(n.x<0||n.x>this.axisLength)?i.fillShape.__disabled=!0:i.fillShape.__disabled=!1,e.y=a,e.width=0,e.height=p,o.y=a,o.width=0,o.height=p,r.height=p,r.width=Math.abs(s.x-n.x),r.y=a,r.x=n.x},i.prototype.updateGridElement=function(t,i,e){i+=(e-i)*t.location;var o=this.positionToPoint(i);t.path=ka({x:0,y:0})+ea({x:0,y:this.getHeight()}),this.positionItem(t,o),this.toggleVisibility(t,i,0,1)},i.prototype.updateTickElement=function(t,i,e){i+=(e-i)*t.location;var o=this.positionToPoint(i),r=t.length;o.y=wb({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?r*=t.inside?1:-1:r*=t.inside?-1:1,t.path=ka({x:0,y:0})+ea({x:0,y:r}),this.positionItem(t,o),this.toggleVisibility(t,i,0,1)},i.prototype.updateAxisLine=function(){this.line.path=ka({x:0,y:0})+ea({x:this.axisLength,y:0})},i.prototype.updateBaseGridElement=function(){t.prototype.updateBaseGridElement.call(this);var i=this.axis,e=this.getHeight(),o=this.axisLength,r=this.baseGrid,n=i.basePoint.x;if(n<-.2||n>o+.2)r.hide(0);else{var s=wb({x:0,y:0},this.gridContainer,r.parent).y;r.path=ka({x:0,y:0})+ea({x:0,y:e}),r.moveTo({x:n,y:s}),r.show(0)}},i.prototype.createBreakSprites=function(t){t.startLine=new Ic,t.endLine=new Ic;var i=new Vi;i.setWavedSides(!1,!0,!1,!0),t.fillShape=i},i.prototype.toAxisPosition=function(t){var i=t,e=this.axis;if(e){var o=e.relativePositionSprite,r=e.pixelX;if(o?r=wb({x:this.pixelX,y:0},this.parent,o).x:o=e.parent,o)return(i-r/o.innerWidth)/(e.axisLength/o.innerWidth)}return t},i.prototype.updateBullet=function(t,i,e){var o=.5;t instanceof Wd&&(o=t.location),i+=(e-i)*o;var r=this.positionToPoint(i);r.y=wb({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(t,r),this.toggleVisibility(t,i,0,1)},i}(Te);ca.registeredClasses.AxisRendererX=jc,gb.push({relevant:pb.heightXS,state:function(t,i){if(t instanceof jc){var e=t.states.create(i);return e.properties.inside=!0,e.properties.maxLabelPosition=.9,e.properties.minLabelPosition=.1,e}return null}}),gb.push({relevant:pb.heightXXS,state:function(t,i){if(t instanceof jc){var e=t.states.create(i);return e.properties.disabled=!0,e}return null}});var lj=function(e){function t(){var t=e.call(this)||this;return t.className="CategoryAxisBreak",t.properties.startLocation=.5,t.properties.endLocation=.5,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),t}(Re);ca.registeredClasses.CategoryAxisBreak=lj;var mj=function(t){function e(){var e=t.call(this)||this;return e.seriesDataItems={},e.className="CategoryAxisDataItem",e.text="{category}",e.locations.category=0,e.locations.endCategory=1,e.deltaPosition=0,e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(t){var e=this.properties.category;this.setProperty("category",t),ba(e)&&e!=t&&this.component&&this.component.validateDataElement(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(t){this.setProperty("endCategory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(t){t!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",t),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()))},enumerable:!0,configurable:!0}),e}(Td);var Xa=function(t){function e(){var e=t.call(this)||this;return e.dataItemsByCategory=new Ka,e.className="CategoryAxis",e.axisFieldName="category",e._lastDataItem=e.createDataItem(),e._lastDataItem.component=e,e._disposers.push(e._lastDataItem),e.applyTheme(),e}return da(e,t),e.prototype.createDataItem=function(){return new mj},e.prototype.createAxisBreak=function(){return new lj},e.prototype.processSeriesDataItem=function(e,i){t.prototype.processSeriesDataItem.call(this,e,i);var a=e["category"+this.axisLetter];if(ba(a)){var r=this.dataItemsByCategory.getKey(a);if(r){var o=e.component.uid,s=r.seriesDataItems[o];s||(s=[],r.seriesDataItems[o]=s),s.push(e)}}else e.component.dataItems.remove(e)},e.prototype.validateDataRange=function(){var i=this;t.prototype.validateDataRange.call(this),fa(this._series.iterator(),function(t){if(t.xAxis instanceof e&&t.yAxis instanceof e)t.invalidateDataRange();else{var a=i.positionToIndex(i.start),r=i.positionToIndex(i.end);r>=i.dataItems.length&&r--;for(var o=t.uid,s=void 0,n=void 0,p=a;p<=r;p++){var d=i.dataItems.getIndex(p);if(d){var h=d.seriesDataItems[o];if(h)for(var $=0;$<h.length;$++){var l=h[$];if(l){var x=l.index;(!aa(s)||x<s)&&(s=x),(!aa(n)||x>n)&&(n=x)}}}}aa(s)?t.startIndex=s:t.start=i.start,aa(n)?t.endIndex=n+1:t.end=i.end,i._axisBreaks&&i._axisBreaks.length>0&&t.invalidateDataRange()}})},e.prototype.validate=function(){var e=this;t.prototype.validate.call(this);var i=this.dataItems.length,a=ma(Math.floor(this.start*i-1),0,i),r=ma(Math.ceil(this.end*i),0,i);this.renderer.invalid&&this.renderer.validate();var o=this.renderer.axisLength/this.renderer.minGridDistance,s=Math.min(this.dataItems.length,Math.ceil((r-a)/o));if(this._startIndex=Math.floor(a/s)*s,this._endIndex=Math.ceil(this.end*i),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=s,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),a=ua(0,this._startIndex-this._frequency),r=ya(this.dataItems.length,this._endIndex+this._frequency);for(var n=0,p=0;p<a;p++){(h=this.dataItems.getIndex(p)).__disabled=!0}p=r;for(var d=this.dataItems.length;p<d;p++){(h=this.dataItems.getIndex(p)).__disabled=!0}for(p=a;p<r;p++)if(p<this.dataItems.length){var h=this.dataItems.getIndex(p);if(p/this._frequency==Math.round(p/this._frequency))this.isInBreak(p)||(this.appendDataItem(h),this.validateDataElement(h,n)),n++;else h.__disabled=!0}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,n+1,this.dataItems.length),this._axisBreaks)this._axisBreaks.each(function(t){var i=t.adjustedStartValue,a=t.adjustedEndValue;if(ee({start:i,end:a},{start:e._startIndex,end:e._endIndex})){for(var r=i;r<=a;r++){(n=e.dataItems.getIndex(r)).__disabled=!0}var o=ma(Math.ceil(e._frequency/t.breakSize),1,a-i),s=0;if(t.breakSize>0)for(r=i;r<=a;r+=o){var n;(n=e.dataItems.getIndex(r)).__disabled=!1,e.appendDataItem(n),e.validateDataElement(n,s),s++}}});this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout()}},e.prototype.validateDataElement=function(e,i,a){t.prototype.validateDataElement.call(this,e),e.itemIndex=this._axisItemCount,this._axisItemCount++;var r=this.renderer;aa(a)||(a=this.categoryToIndex(e.category));var o=this.categoryToIndex(e.endCategory);aa(o)||(o=a);var s,n,p,d=this.indexToPosition(a,e.locations.category),h=this.indexToPosition(o,e.locations.endCategory);e.position=d,e.isRange&&(s=o,n=this.indexToPosition(a,e.locations.category),p=this.indexToPosition(s,e.locations.endCategory)),e.point=r.positionToPoint(d);var $=e.tick;$&&!$.disabled&&r.updateTickElement($,d,h);var l=e.grid;l&&!l.disabled&&r.updateGridElement(l,d,h);var x=e.label;x&&!x.disabled&&(e.isRange&&null!=x.text||(e.text=e.text),r.updateLabelElement(x,d,h),(r instanceof Qb&&e.label.measuredWidth>this.ghostLabel.measuredWidth||r instanceof jc&&e.label.measuredHeight>this.ghostLabel.measuredHeight)&&(e.label.html?this.ghostLabel.html=e.label.currentText:this.ghostLabel.text=e.label.currentText));var y=e.axisFill;y&&!y.disabled&&(e.isRange||(s=a+this._frequency,n=this.indexToPosition(a,y.location),p=this.indexToPosition(s,y.location)),r.updateFillElement(y,n,p),e.isRange||this.fillRule(e,i)),e.bullet&&r.updateBullet(e.bullet,d,h);var c=e.mask;c&&r.updateFillElement(c,n,p)},e.prototype.disposeData=function(){this.dataItemsByCategory.clear(),t.prototype.disposeData.call(this)},e.prototype.processDataItem=function(e,i){e&&(t.prototype.processDataItem.call(this,e,i),ba(e.category)&&this.dataItemsByCategory.setKey(e.category,e))},e.prototype.getDataItem=function(t){var e=t[this.dataFields.category];if(ba(e)){var i=this.dataItemsByCategory.getKey(e);return i||this.dataItems.create()}},e.prototype.indexToPosition=function(t,e){aa(e)||(e=.5);var i=this.startIndex,a=this.endIndex,r=this.adjustDifference(i,a),o=this.startLocation;if(r-=o,r-=1-this.endLocation,this._axisBreaks){var s=this._axisBreaks;Db(s.iterator(),function(e){var r=e.adjustedStartValue,o=e.adjustedEndValue;if(t<i||!aa(r)||!aa(o))return!1;if(ee({start:r,end:o},{start:i,end:a})){r=Math.max(i,r),o=Math.min(a,o);var s=e.breakSize;t>o?i+=(o-r)*(1-s):t<r||(t=r+(t-r)*s)}return!0})}var n=0,p=this.dataItems.getIndex(t);return p&&(n=p.deltaPosition),ga(n+(t+e-o-i)/r,5)},e.prototype.categoryToPosition=function(t,e){var i=this.categoryToIndex(t);return this.indexToPosition(i,e)},e.prototype.categoryToPoint=function(t,e){var i=this.categoryToPosition(t,e),a=this.renderer.positionToPoint(i),r=this.renderer.positionToAngle(i);return{x:a.x,y:a.y,angle:r}},e.prototype.anyToPoint=function(t,e){return this.categoryToPoint(t,e)},e.prototype.anyToPosition=function(t,e){return this.categoryToPosition(t,e)},e.prototype.categoryToIndex=function(t){if(ba(t)){var e=this.dataItemsByCategory.getKey(t);if(e)return e.index}},e.prototype.zoomToCategories=function(t,e){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1)},e.prototype.getAnyRangePath=function(t,e,i,a){var r=this.categoryToPosition(t,i),o=this.categoryToPosition(e,a);return this.getPositionRangePath(r,o)},e.prototype.roundPosition=function(t,e){var i=this.positionToIndex(t);return this.indexToPosition(i,e)},e.prototype.getFirstSeriesDataItem=function(t,e){for(var i=0;i<t.dataItems.length;i++){var a=t.dataItems.getIndex(i);if(t.xAxis==this&&a.categoryX==e)return a;if(t.yAxis==this&&a.categoryY==e)return a}},e.prototype.getLastSeriesDataItem=function(t,e){for(var i=t.dataItems.length-1;i>=0;i--){var a=t.dataItems.getIndex(i);if(t.xAxis==this&&a.categoryX==e)return a;if(t.yAxis==this&&a.categoryY==e)return a}},e.prototype.getSeriesDataItemByCategory=function(t,e){var i,a=this;return e.dataItems.each(function(r){e.xAxis==a?r.categoryX==t&&(i=r):e.yAxis==a&&r.categoryY==t&&(i=r)}),i},e.prototype.getSeriesDataItem=function(t,e,i){var a=this;if(aa(e)){var r=this.positionToIndex(e);r>=this.dataItems.length&&r--;var o=this.dataItems.getIndex(r);if(o){var s,n=o.category,p=t.dataItems.getIndex(r);if(p){if(t.xAxis==this&&p.categoryX==n)return p;if(t.yAxis==this&&p.categoryY==n)return p}return t.dataItems.each(function(e){t.xAxis==a&&e.categoryX==n&&(s||(s=e),Math.abs(r-s.index)>Math.abs(r-e.index)&&(s=e)),t.yAxis==a&&e.categoryY==n&&(s||(s=e),Math.abs(r-s.index)>Math.abs(r-e.index)&&(s=e))}),s}}},e.prototype.getX=function(t,e,i,a,r){var o=this.getPositionX(t,e,i,a,r);return nb(o)?this.basePoint.x:this.renderer.positionToPoint(o).x},e.prototype.getPositionX=function(t,e,i,a,r){var o;return ba(e)&&(o=this.categoryToPosition(t.categories[e],i)),r&&(o=ma(o,r.start,r.end)),o},e.prototype.getY=function(t,e,i,a,r){var o=this.getPositionY(t,e,i,a,r);return nb(o)?this.basePoint.y:this.renderer.positionToPoint(o).y},e.prototype.getPositionY=function(t,e,i,a,r){var o;return ba(e)&&(o=this.categoryToPosition(t.categories[e],i)),r&&(o=ma(o,r.start,r.end)),o},e.prototype.getAngle=function(t,e,i,a,r){var o=this.categoryToPosition(t.categories[e],i);return r&&(o=ma(o,r.start,r.end)),this.positionToAngle(o)},e.prototype.getCellStartPosition=function(t){return this.roundPosition(t,0)},e.prototype.getCellEndPosition=function(t){return this.roundPosition(t,1)},e.prototype.getTooltipText=function(t){var e=this.dataItems.getIndex(this.positionToIndex(t));if(e)return this.tooltipDataItem=e,this.tooltip.dataItem=e,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",e.category):e.category},e.prototype.positionToIndex=function(t){(t=ga(t,10))<0&&(t=0),t>1&&(t=1);var e=this.startIndex,i=this.endIndex,a=i-e-this.startLocation-(1-this.endLocation);t+=1/a*this.startLocation;var r=null;if(this._axisBreaks){var o=this._axisBreaks;Db(o.iterator(),function(o){var s=o.startPosition,n=o.endPosition,p=o.adjustedStartValue,d=o.adjustedEndValue;p=ua(p,e),d=ya(d,i);var h=o.breakSize;if(a-=(d-p)*(1-h),t>n)e+=(d-p)*(1-h);else if(!(t<s)){var $=(t-s)/(n-s);return r=p+Math.round($*(d-p)),!1}return!0})}return aa(r)||(r=Math.floor(t*a+e)),r>=this.dataItems.length&&(r=this.dataItems.length-1),r},e.prototype.positionToCategory=function(t){return this.getPositionLabel(t)},e.prototype.getPositionLabel=function(t){var e=this.dataItems.getIndex(this.positionToIndex(t));if(e)return e.category},Object.defineProperty(e.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),e.prototype.initRenderer=function(){t.prototype.initRenderer.call(this),this.renderer.baseGrid.disabled=!0},Object.defineProperty(e.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(t){this.setPropertyValue("sortBySeries",t,!0)},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(e){e&&ba(e.sortBySeries)&&wa(e.sortBySeries)&&(this.map.hasKey(e.sortBySeries)?e.sortBySeries=this.map.getKey(e.sortBySeries):(this.addDelayedMap("sortBySeries",e.sortBySeries),delete e.sortBySeries)),t.prototype.processConfig.call(this,e)},e}(Se);ca.registeredClasses.CategoryAxis=Xa,ca.registeredClasses.CategoryAxisDataItem=mj;var Ve=function(t){function e(){var e=t.call(this)||this;return e.className="XYSeriesDataItem",e.values.customValue={},e.values.valueX={stack:0},e.values.valueY={stack:0},e.values.openValueX={},e.values.openValueY={},e.values.dateX={},e.values.dateY={},e.values.openDateX={},e.values.openDateY={},e.setLocation("dateX",.5,0),e.setLocation("dateY",.5,0),e.setLocation("categoryX",.5,0),e.setLocation("categoryY",.5,0),e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(t){this.setValue("valueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(t){this.setValue("customValue",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(t){this.setValue("valueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(t){this.setDate("dateX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(t){this.setDate("dateY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(t){this.setCategory("categoryX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(t){this.setCategory("categoryY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(t){this.setValue("openValueX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(t){this.setValue("openValueY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(t){this.setDate("openDateX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(t){this.setDate("openDateY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(t){this.setCategory("openCategoryX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(t){this.setCategory("openCategoryY",t)},enumerable:!0,configurable:!0}),e.prototype.getMin=function(t,e,i){var s,a=this;return aa(i)||(i=0),la(t,function(t){var o;o=e?a.getWorkingValue(t):a.getValue(t),((o+=i)<s||!aa(s))&&(s=o)}),s},e.prototype.getMax=function(t,e,i){var s,a=this;return aa(i)||(i=0),la(t,function(t){var o;o=e?a.getWorkingValue(t):a.getValue(t),((o+=i)>s||!aa(s))&&(s=o)}),s},e}(Pe);var Kc=function(t){function e(){var e=t.call(this)||this;return e.groupFields={},e._xAxis=new bb,e._yAxis=new bb,e._xValueFields=[],e._yValueFields=[],e._baseInterval={},e.dataGrouped=!1,e.usesShowFields=!1,e._dataSetChanged=!1,e._maxxX=1e5,e._maxxY=1e5,e._propertiesChanged=!1,e.className="XYSeries",e.isMeasured=!1,e.groupFields.valueX="close",e.groupFields.valueY="close",e.groupFields.customValue="close",e.groupFields.openValueX="open",e.groupFields.openValueY="open",e.cursorTooltipEnabled=!0,e.cursorHoverEnabled=!0,e.excludeFromTotal=!1,e.mainContainer.mask=new sa,e.mainContainer.mask.setElement(e.paper.add("path")),e.stacked=!1,e.snapTooltip=!1,e._showBullets=!1,e.tooltip.pointerOrientation="horizontal",e.hideTooltipWhileZooming=!0,e.setPropertyValue("maskBullets",!0),e.tooltip.events.on("hidden",function(){e.returnBulletDefaultState()},void 0,!1),e._disposers.push(e._xAxis),e._disposers.push(e._yAxis),e.observe(Ua,function(){e.inited&&(e._propertiesChanged=!0,e.legendDataItem&&(e.legendDataItem.childrenCreated=!1),e.chart&&e.chart.legend&&e.chart.legend.invalidateDataItems(),e.invalidate())},void 0,!1),e.applyTheme(),e}return da(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"))},e.prototype.createDataItem=function(){return new Ve},e.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear()},e.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this)},e.prototype.validateData=function(){this._baseInterval={};var e=this.dataFields;if(e.valueYShow||e.openValueXShow||e.openValueXShow||e.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),t.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!ba(this.dataFields[this._xField])||!ba(this.dataFields[this._yField])))throw Error("Data fields for series \""+(this.name?this.name:this.uid)+"\" are not properly defined.");this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1},e.prototype.processDataItem=function(e,i){try{t.prototype.processDataItem.call(this,e,i),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y"),this.setInitialWorkingValues(e)}catch(s){this._chart&&this._chart.raiseCriticalError(s)}},e.prototype.updateDataItem=function(e){t.prototype.updateDataItem.call(this,e),this.xAxis.processSeriesDataItem(e,"X"),this.yAxis.processSeriesDataItem(e,"Y")},e.prototype.setInitialWorkingValues=function(t){},e.prototype.disposeData=function(){t.prototype.disposeData.call(this);var e=this.xAxis,i=this.yAxis;if(e){var s=this.dataItemsByAxis.getKey(e.uid);s&&s.clear(),e instanceof Xa&&this.clearCatAxis(e)}if(i){var a=this.dataItemsByAxis.getKey(i.uid);a&&a.clear(),i instanceof Xa&&this.clearCatAxis(i)}},e.prototype.clearCatAxis=function(t){var e=this.uid;t.dataItems.each(function(t){t.seriesDataItems[e]&&(t.seriesDataItems[e]=[])})},e.prototype.defineFields=function(){var t=this.xAxis,e=this.yAxis;if(t&&e){var i=t.axisFieldName,s=i+"X",a="open"+pe(i)+"X",o=e.axisFieldName,r=o+"Y",n="open"+pe(o)+"Y";this._xField=s,this._yField=r,this.dataFields[a]&&(this._xOpenField=a),this.dataFields[n]&&(this._yOpenField=n),this.dataFields[n]||this.baseAxis!=e||(this._yOpenField=r),this.dataFields[a]||this.baseAxis!=t||(this._xOpenField=s),this.stacked&&this.baseAxis==t&&(this._xOpenField=s),this.stacked&&this.baseAxis==e&&(this._yOpenField=r),t instanceof Xa&&e instanceof Xa&&(this._yOpenField||(this._yOpenField=r)),this._xValueFields=[],this._yValueFields=[],this.addValueField(t,this._xValueFields,this._xField),this.addValueField(t,this._xValueFields,this._xOpenField),this.addValueField(e,this._yValueFields,this._yField),this.addValueField(e,this._yValueFields,this._yOpenField)}},e.prototype.addValueField=function(t,e,i){t instanceof va&&ba(this.dataFields[i])&&-1==e.indexOf(i)&&e.push(i)},e.prototype.setCategoryAxisField=function(t,e){ba(this.dataFields[t])||(this.dataFields[t]=e.dataFields.category)},e.prototype.setDateAxisField=function(t,e){ba(this.dataFields[t])||(this.dataFields[t]=e.dataFields.date)},e.prototype.afterDraw=function(){t.prototype.afterDraw.call(this),this.createMask()},e.prototype.createMask=function(){if(this.mainContainer.mask){var t=this.getMaskPath();fa(this.axisRanges.iterator(),function(e){e.axisFill.fillPath&&(e.axisFill.validate(),t+=e.axisFill.fillPath)}),this.mainContainer.mask.path=t}},e.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?rc({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},e.prototype.getAxisField=function(t){return t==this.xAxis?this.xField:t==this.yAxis?this.yField:void 0},e.prototype.validateDataItems=function(){var e=this.chart;e&&(this._maxxX=ua(1e5,2*e.plotContainer.maxWidth),this._maxxY=ua(1e5,2*e.plotContainer.maxHeight));var i=this.xAxis,s=this.yAxis;i&&s&&(i.updateAxisBySeries(),s.updateAxisBySeries()),t.prototype.validateDataItems.call(this),i&&s&&(i.postProcessSeriesDataItems(this),s.postProcessSeriesDataItems(this))},e.prototype.validateDataRange=function(){var e=this.xAxis,i=this.yAxis;e&&i&&(e.dataRangeInvalid&&e.validateDataRange(),i.dataRangeInvalid&&i.validateDataRange()),t.prototype.validateDataRange.call(this)},e.prototype.validate=function(){var e=this.xAxis,i=this.yAxis;if(e&&i){e.invalid&&e.validate(),i.invalid&&i.validate(),this.y=i.pixelY,this.x=e.pixelX,this._showBullets=!0;var s=this.minBulletDistance;aa(s)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<s&&(this._showBullets=!1)}this.updateTooltip(),t.prototype.validate.call(this);var a=this.chart,o=this.maskBullets;a&&o&&"XYChart"==a.className&&("vertical"!=a.leftAxesContainer.layout&&"vertical"!=a.rightAxesContainer.layout||(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),"horizontal"!=a.topAxesContainer.layout&&"horizontal"!=a.bottomAxesContainer.layout||(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0))},Object.defineProperty(e.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var t=this.chart.xAxes.getIndex(0);if(!t)throw Error("There are no X axes on chart.");this.xAxis=t}return this._xAxis.get()}},set:function(t){this.setXAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setXAxis=function(t){var e=this._xAxis.get();e!=t&&(e&&(this.dataItemsByAxis.removeKey(e.uid),this._xAxis.dispose(),e.series.removeValue(this)),this._xAxis.set(t,t.registerSeries(this)),this.dataItemsByAxis.setKey(t.uid,new Ka),this.invalidateData())},Object.defineProperty(e.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var t=this.chart.yAxes.getIndex(0);if(!t)throw Error("There are no Y axes on chart.");this.yAxis=t}return this._yAxis.get()}},set:function(t){this.setYAxis(t)},enumerable:!0,configurable:!0}),e.prototype.setYAxis=function(t){var e=this._yAxis.get();e!=t&&(e&&(this.dataItemsByAxis.removeKey(e.uid),this._yAxis.dispose(),e.series.removeValue(this)),this._yAxis.set(t,t.registerSeries(this)),t.chart instanceof bc&&t.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(t.uid,new Ka),this.invalidateData())},Object.defineProperty(e.prototype,"baseAxis",{get:function(){var t=this.xAxis,e=this.yAxis;return!this._baseAxis&&t&&e&&(e instanceof _a&&(this._baseAxis=e),t instanceof _a&&(this._baseAxis=t),e instanceof Xa&&(this._baseAxis=e),t instanceof Xa&&(this._baseAxis=t),this._baseAxis||(this._baseAxis=t)),this._baseAxis},set:function(t){this._baseAxis!=t&&(this._baseAxis=t,this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.addData=function(e,i,s){t.prototype.addData.call(this,e,i,s),this.scrollbarSeries&&this.scrollbarSeries.addData(e,i,!0)},e.prototype.setData=function(e){t.prototype.setData.call(this,e),this.scrollbarSeries&&this.scrollbarSeries.setData(e)},e.prototype.setDataSet=function(e){var i=t.prototype.setDataSet.call(this,e);if(i){this._dataSetChanged=!0;var s=this.dataItems;this.resetExtremes();var a=this.xAxis,o=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),a instanceof _a&&a==this.baseAxis&&(this._tmin.setKey(a.uid,s.getIndex(0).dateX.getTime()),this._tmax.setKey(a.uid,s.getIndex(s.length-1).dateX.getTime()),this.dispatch("extremeschanged")),o instanceof _a&&o==this.baseAxis&&(this._tmin.setKey(o.uid,s.getIndex(0).dateY.getTime()),this._tmax.setKey(o.uid,s.getIndex(s.length-1).dateY.getTime()),this.dispatch("extremeschanged"))}return i},e.prototype.processValues=function(e){t.prototype.processValues.call(this,e);var i=this.xAxis,s=this.yAxis;if(i&&s){var a=this.dataItems,o=1/0,r=-1/0,n=1/0,l=-1/0,h=this.startIndex,p=this.endIndex,c=h,u=p;e||(h=0,p=this.dataItems.length);for(var d=h;d<p;d++){var $=a.getIndex(d);this.getStackValue($,e);var m=$.getValue("valueX","stack"),x=$.getValue("valueY","stack");o=ya($.getMin(this._xValueFields,e,m),o),n=ya($.getMin(this._yValueFields,e,x),n),r=ua($.getMax(this._xValueFields,e,m),r),l=ua($.getMax(this._yValueFields,e,x),l),this.stacked&&(this.baseAxis==i&&(x<n&&(n=x),x>l&&(l=x)),this.baseAxis==s&&(m<o&&(o=m),m>r&&(r=m)))}i.processSeriesDataItems(),s.processSeriesDataItems();var y=i.uid,v=s.uid;if(!(this.xAxis instanceof va&&(o==1/0||r==-1/0)||this.yAxis instanceof va&&(n==1/0||l==-1/0))){if(!e&&(this._tmin.getKey(y)!=o||this._tmax.getKey(y)!=r||this._tmin.getKey(v)!=n||this._tmax.getKey(v)!=l)){this._tmin.setKey(y,o),this._tmax.setKey(y,r),this._tmin.setKey(v,n),this._tmax.setKey(v,l);var g=this.stackedSeries;g&&(g.isDisposed()?this.stackedSeries=void 0:g.processValues(!1)),this.dispatchImmediately("extremeschanged")}if(h!=c||p!=u){o=1/0,r=-1/0,n=1/0,l=-1/0;for(d=c;d<u;d++){$=a.getIndex(d);this.getStackValue($,e);m=$.getValue("valueX","stack"),x=$.getValue("valueY","stack");o=ya($.getMin(this._xValueFields,e,m),o),n=ya($.getMin(this._yValueFields,e,x),n),r=ua($.getMax(this._xValueFields,e,m),r),l=ua($.getMax(this._yValueFields,e,x),l),this.stacked&&(this.baseAxis==i&&(x<n&&(n=x),x>l&&(l=x)),this.baseAxis==s&&(m<o&&(o=m),m>r&&(r=m)))}}if(!(this.xAxis instanceof va&&(o==1/0||r==-1/0)||this.yAxis instanceof va&&(n==1/0||l==-1/0))){if((this._smin.getKey(y)!=o||this._smax.getKey(y)!=r||this._smin.getKey(v)!=n||this._smax.getKey(v)!=l)&&(this._smin.setKey(y,o),this._smax.setKey(y,r),this._smin.setKey(v,n),this._smax.setKey(v,l),this.appeared||0!=this.start||1!=this.end||this.dataItems!=this.mainDataSet)){var f=!1;if(s instanceof va&&!(s instanceof _a)){var A=this._tmin.getKey(v);(!aa(A)||(this.usesShowFields||this._dataSetChanged)&&n<A||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(v,n),f=!0);var b=this._tmax.getKey(v);(!aa(b)||(this.usesShowFields||this._dataSetChanged)&&l>b||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(v,l),f=!0)}if(i instanceof va&&!(i instanceof _a)){A=this._tmin.getKey(y);(!aa(A)||(this.usesShowFields||this._dataSetChanged)&&o<A||this.stackedSeries&&!this.isHidden)&&(this._tmin.setKey(y,o),f=!0);b=this._tmax.getKey(y);(!aa(b)||(this.usesShowFields||this._dataSetChanged)&&r>b||this.stackedSeries&&!this.isHidden)&&(this._tmax.setKey(y,r),f=!0)}f&&this.dispatchImmediately("extremeschanged"),0==this.start&&1==this.end&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged")}!e&&this.stacked&&this.processValues(!0)}}}},e.prototype.hideTooltip=function(){t.prototype.hideTooltip.call(this),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0},e.prototype.showTooltipAtPosition=function(t,e){var i;if(this.visible&&!this.isHiding&&!this.isShowing){var s=this._xAxis.get(),a=this._yAxis.get();s==this.baseAxis&&(i=s.getSeriesDataItem(this,s.toAxisPosition(t),this.snapTooltip)),a==this.baseAxis&&(i=a.getSeriesDataItem(this,a.toAxisPosition(e),this.snapTooltip));var o=this.showTooltipAtDataItem(i);if(o)return o;if(!this.tooltipText)return}this.hideTooltip()},e.prototype.getAdjustedXLocation=function(t,e){return t.locations[e]},e.prototype.getAdjustedYLocation=function(t,e){return t.locations[e]},e.prototype.showTooltipAtDataItem=function(t){var e,i,s=this.chart.cursor;if(s&&s.hideSeriesTooltipsOnSelection&&s.selection.visible&&s.downPoint)this.hideTooltip();else if(this.returnBulletDefaultState(t),t&&t.visible){if(this.updateLegendValue(t),this.cursorTooltipEnabled){this.tooltipDataItem=t;var a=this.tooltipXField,o=this.tooltipYField;if(ba(t[a])&&ba(t[o])){var r=this.getPoint(t,a,o,this.getAdjustedXLocation(t,a),this.getAdjustedYLocation(t,o));if(r&&("XYChart"!=this.chart.className||!(r.y<-1||r.y>this.yAxis.pixelHeight+1||r.x<-1||r.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=r.x,this.tooltipY=r.y,this._prevTooltipDataItem!=t&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:t}),this._prevTooltipDataItem=t),this.cursorHoverEnabled)try{for(var n=nd(t.sprites),l=n.next();!l.done;l=n.next()){var h=l.value;!h.parent.visible||h.isHidden||h.__disabled||h.disabled||h.isHiding||(h.interactions.isRealHover||(h.dispatchImmediately("over"),h.interactions.isRealHover=!0),h.isHover=!0)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}return this.showTooltip()?Jb({x:r.x,y:r.y},this):void 0}}}}else this.updateLegendValue(t,!0)},e.prototype.returnBulletDefaultState=function(t){var e,i;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=t)try{for(var s=nd(this._prevTooltipDataItem.sprites),a=s.next();!a.done;a=s.next()){var o=a.value;if(o.isDisposed())this._prevTooltipDataItem=void 0;else{var r=o.interactions.isRealHover;o.isHover=!1,r&&o.dispatchImmediately("out")}}}catch(n){e={error:n}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}},e.prototype.shouldCreateBullet=function(t,e){var i=e.xField;ba(i)||(i=this.xField);var s=e.yField;if(ba(s)||(s=this.yField),this.xAxis instanceof va&&!t.hasValue([i])||this.yAxis instanceof va&&!t.hasValue([s]))return!1;if(e.disabled){var a=e.propertyFields.disabled,o=t.dataContext;return!(!o||!1!==o[a])}return!0},e.prototype.updateTooltip=function(){this.hideTooltipWhileZooming||!this.tooltip||this.tooltip.isHidden||this.isHiding||this.isHidden||!this.tooltipDataItem||this.showTooltipAtDataItem(this.tooltipDataItem)},e.prototype.positionBullet=function(e){t.prototype.positionBullet.call(this,e);var i=e.dataItem,s=e.xField;ba(s)||(s=this.xField);var a=e.yField;ba(a)||(a=this.yField);var o=this.xAxis,r=this.yAxis;if(o instanceof va&&!i.hasValue([s])||r instanceof va&&!i.hasValue([a]))e.visible=!1;else{var n=this.getBulletLocationX(e,s),l=this.getBulletLocationY(e,a);if(this.getPoint(i,s,a,n,l)){var h=this.xOpenField,p=this.yOpenField,c=void 0,u=void 0;if(o instanceof _a){aa(n)||(n=0);var d=void 0,$=i.getWorkingValue(s);if(h?d=i.getWorkingValue(h):o==this.baseAxis&&(d=o.baseValue),aa(d)||(d=$),(d+=A=i.getValue("valueX","stack"))==($+=A)){var m=o.baseInterval,x=o.dateFormatter;d=eb(new Date(d),m.timeUnit,m.count,x.firstDayOfWeek,x.utc).getTime(),$=sb(new Date(d),m.timeUnit,m.count,x.utc).getTime()}var y=void 0;y=o==this.baseAxis?d+($-d)*n:d+($-d)*(1-n),c=o.valueToPosition(y)}else if(o instanceof va){aa(n)||(n=0);d=void 0,$=i.getWorkingValue(s);d=h?i.getWorkingValue(h):o.baseValue;y=(d+=A=i.getValue("valueX","stack"))+(($+=A)-d)*(1-n);c=o.valueToPosition(y)}else if(o instanceof Xa){var v=this.getAdjustedXLocation(i,s),g=this.getAdjustedXLocation(i,h);c=o.categoryToPosition(i[s],v);var f=void 0;h&&(f=o.categoryToPosition(i[h],g)),aa(f)||(f=1),c=f+(c-f)*n}if(r instanceof _a){aa(l)||(l=0);d=void 0,$=i.getWorkingValue(a);if(p?d=i.getWorkingValue(p):r==this.baseAxis&&(d=r.baseValue),aa(d)||(d=$),(d+=A=i.getValue("valueY","stack"))==($+=A)){m=r.baseInterval,x=r.dateFormatter;d=eb(new Date(d),m.timeUnit,m.count,x.firstDayOfWeek,x.utc).getTime(),$=sb(new Date(d),m.timeUnit,m.count,x.utc).getTime()}y=void 0;y=r==this.baseAxis?d+($-d)*l:d+($-d)*(1-l),u=r.valueToPosition(y)}else if(r instanceof va){aa(l)||(l=0);var A;d=void 0,$=i.getWorkingValue(a);d=p?i.getWorkingValue(p):r.baseValue;y=(d+=A=i.getValue("valueY","stack"))+(($+=A)-d)*(1-l);u=r.valueToPosition(y)}else if(r instanceof Xa){u=r.categoryToPosition(i[a],l);var b=this.getAdjustedYLocation(i,a),V=this.getAdjustedYLocation(i,p);u=r.categoryToPosition(i[a],b);var _=void 0;p&&(_=r.categoryToPosition(i[p],V)),aa(_)||(_=1),u=_+(u-_)*l}e.visible=!0,this.positionBulletReal(e,c,u)}else e.visible=!1}},e.prototype.positionBulletReal=function(t,e,i){t.x=this.xAxis.renderer.positionToPoint(e,i).x,t.y=this.yAxis.renderer.positionToPoint(i,e).y},e.prototype.getBulletLocationX=function(t,e){var i=t.locationX,s=t.dataItem;return aa(i)||(i=s.workingLocations[e]),i},e.prototype.getBulletLocationY=function(t,e){var i=t.locationY,s=t.dataItem;return aa(i)||(i=s.workingLocations[e]),i},e.prototype.updateStacking=function(){var t=this;this.invalidateDataItems(),this.chart&&this.chart.series.each(function(e){e.baseAxis==t.baseAxis&&(e.stackedSeries=void 0,e.invalidateDataItems(),e.invalidateProcessedData())})},Object.defineProperty(e.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(t){if(this.setPropertyValue("stacked",t,!0)){this.updateStacking();var e,i=this.xAxis,s=this.yAxis;if(!t)i!=this.baseAxis&&i instanceof va&&(e=this.xField),s!=this.baseAxis&&s instanceof va&&(e=this.yField),e&&this.dataItems.each(function(t){t.setCalculatedValue(e,0,"stack")})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(t){this.setPropertyValue("snapTooltip",t)},enumerable:!0,configurable:!0}),e.prototype.show=function(e){var i,s=this;this.xAxis instanceof va&&this.xAxis!=this.baseAxis&&(i=this._xValueFields),this.yAxis instanceof va&&this.yAxis!=this.baseAxis&&(i=this._yValueFields);var a,o=this.startIndex,r=this.endIndex,n=0,l=this.defaultState.transitionDuration;aa(e)&&(l=e),Fa.animationsEnabled||(l=0),fa(Ac(this.dataItems.iterator()),function(t){var e=t[0],h=t[1],p=l;(e<s.startIndex-10||e>s.endIndex+10)&&(p=0,n=0),s.sequencedInterpolation&&p>0&&(n=s.sequencedInterpolationDelay*e+l*(e-o)/(r-o)),a=h.show(p,n,i)}),this.dataSets.each(function(t,e){e!=s.dataItems&&e.each(function(t){t.events.disable(),t.show(0,0,i),t.events.enable()})}),this.mainDataSet!=this.dataItems&&this.mainDataSet.each(function(t){t.events.disable(),t.show(0,0,i),t.events.enable()});var h=t.prototype.show.call(this,e);return a&&!a.isFinished()&&(h=a),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),h},e.prototype.hide=function(e){var i,s,a=this,o=this.xAxis;o instanceof va&&o!=this.baseAxis&&(i=this._xValueFields,s=this.stacked||o.minZoomed<o.baseValue&&o.maxZoomed>o.baseValue||this.stackedSeries?o.baseValue:o.min);var r=this.yAxis;r instanceof va&&r!=this.baseAxis&&(i=this._yValueFields,s=this.stacked||r.minZoomed<r.baseValue&&r.maxZoomed>r.baseValue||this.stackedSeries?r.baseValue:r.min);var n=this.startIndex,l=this.endIndex,h=this.hiddenState.transitionDuration;aa(e)&&(h=e),Fa.animationsEnabled||(h=0);var p,c=0;fa(Ac(this.dataItems.iterator()),function(t){var e=t[0],o=t[1],r=h;(e<a.startIndex-10||e>a.endIndex+10)&&(r=0),0==r?o.hide(0,0,s,i):(a.sequencedInterpolation&&r>0&&(c=a.sequencedInterpolationDelay*e+h*(e-n)/(l-n)),p=o.hide(r,c,s,i))});var u=t.prototype.hide.call(this,h);return u&&!u.isFinished()&&u.delay(c),p&&!p.isFinished()&&(u=p),this.validateDataElements(),u},e.prototype.handleDataItemWorkingValueChange=function(e,i){t.prototype.handleDataItemWorkingValueChange.call(this,e,i);var s=this.baseAxis.series;fa(s.iterator(),function(t){(t.stacked||t.stackedSeries)&&t.invalidateProcessedData()})},e.prototype.getStackValue=function(t,e){var i=this,s=this.xAxis,a=this.yAxis;if(this.stacked&&s&&a){var o,r=this.chart,n=r.series.indexOf(this);s!=this.baseAxis&&s instanceof va&&(o=this.xField),a!=this.baseAxis&&a instanceof va&&(o=this.yField),o&&(t.setCalculatedValue(o,0,"stack"),Db(r.series.range(0,n).backwards().iterator(),function(r){if(r.xAxis==s&&r.yAxis==a){r.stackedSeries=i;var n=r.dataItems.getIndex(t.index);if(n&&n.hasValue(i._xValueFields)&&n.hasValue(i._yValueFields)){var l=t.getValue(o),h=void 0,p=n.getValue(o)+n.getValue(o,"stack");if(h=e?n.getWorkingValue(o)+n.getValue(o,"stack"):n.getValue(o)+n.getValue(o,"stack"),l>=0&&p>=0||l<0&&p<0)return t.setCalculatedValue(o,h,"stack"),!1}else if(!r.stacked)return!1}return!0}))}},Object.defineProperty(e.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(t){this._tooltipXField=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(t){this._tooltipYField=t},enumerable:!0,configurable:!0}),e.prototype.min=function(t){return this._tmin.getKey(t.uid)},e.prototype.max=function(t){return this._tmax.getKey(t.uid)},e.prototype.selectionMin=function(t){var e=this._smin.getKey(t.uid);return aa(e)||(e=this.min(t)),e},e.prototype.selectionMax=function(t){var e=this._smax.getKey(t.uid);return aa(e)||(e=this.max(t)),e},e.prototype.processConfig=function(e){if(e){if(ba(e.baseAxis)&&wa(e.baseAxis)&&(this.map.hasKey(e.baseAxis)?e.baseAxis=this.map.getKey(e.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+")] No axis with id \""+e.baseAxis+"\" found for `baseAxis`."),delete e.baseAxis)),ba(e.xAxis)&&wa(e.xAxis)&&(this.map.hasKey(e.xAxis)?e.xAxis=this.map.getKey(e.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+")] No axis with id \""+e.xAxis+"\" found for `xAxis`."),delete e.xAxis)),ba(e.yAxis)&&wa(e.yAxis)&&(this.map.hasKey(e.yAxis)?e.yAxis=this.map.getKey(e.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+")] No axis with id \""+e.yAxis+"\" found for `yAxis`."),delete e.yAxis)),ba(e.axisRanges)&&ab(e.axisRanges))for(var i=0,s=e.axisRanges.length;i<s;i++){var a=e.axisRanges[i];ba(a.type)||(a.type="AxisDataItem"),ba(a.axis)&&wa(a.axis)&&this.map.hasKey(a.axis)?a.component=this.map.getKey(a.axis):ba(a.component)&&wa(a.component)&&this.map.hasKey(a.component)&&(a.component=this.map.getKey(a.component))}ba(e.dataFields)&&Qa(e.dataFields)||this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]")}t.prototype.processConfig.call(this,e)},e.prototype.getPoint=function(t,e,i,s,a,o,r){if(this.xAxis&&this.yAxis){var n=this.xAxis.getX(t,e,s),l=this.yAxis.getY(t,i,a);return{x:n=ma(n,-this._maxxX,this._maxxX),y:l=ma(l,-this._maxxY,this._maxxY)}}},e.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var t="";qa(this.dataFields,function(e,i){t+="{"+e+"} "}),this.itemReaderText=t,this._itemReaderTextChanged=!1}},Object.defineProperty(e.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(t){this.setPropertyValue("cursorTooltipEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(t){this.setPropertyValue("cursorHoverEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(t){this.setPropertyValue("excludeFromTotal",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(t){this.setPropertyValue("hideTooltipWhileZooming",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(t){this.setPropertyValue("maskBullets",t);var e=this.chart;e&&(this.bulletsContainer.parent=t?e.bulletsContainer:e.axisBulletsContainer)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){this.groupFields=gc(e.groupFields,{}),t.prototype.copyFrom.call(this,e)},e.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),t.prototype.dispose.call(this)},e}(Qe);ca.registeredClasses.XYSeries=Kc,ca.registeredClasses.XYSeriesDataItem=Ve;var Lc=function(e){function t(){var t=e.call(this)||this;t._chart=new bb,t.className="XYChartScrollbar";var i=new Ba;t.padding(0,0,0,0);var r=t.createChild(bc);if(r.shouldClone=!1,r.margin(0,0,0,0),r.padding(0,0,0,0),r.interactionsEnabled=!1,t._scrollbarChart=r,!Hd()){var a=new Ne;a.filterUnits="userSpaceOnUse",r.plotContainer.filters.push(a)}t._disposers.push(t._scrollbarChart),t.minHeight=60,t.minWidth=60;var o=t.createChild(sa);o.shouldClone=!1,o.setElement(t.paper.add("path")),o.fill=i.getFor("background"),o.fillOpacity=.8,o.interactionsEnabled=!1,o.isMeasured=!1,o.toBack(),t._unselectedOverlay=o,t._disposers.push(t._unselectedOverlay),r.toBack(),t.background.cornerRadius(0,0,0,0);var s=t.thumb.background;s.cornerRadius(0,0,0,0),s.fillOpacity=0,s.fill=i.getFor("background");var n=s.states.getKey("hover");n&&(n.properties.fillOpacity=.2);var l=s.states.getKey("down");return l&&(l.properties.fillOpacity=.4),t._disposers.push(t._chart),t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Aa,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){var t=this,i=e.newValue;if(i.xAxis&&i.yAxis){var r=this.scrollbarChart;r.zoomOutButton.disabled=!0,this.chart=i.chart,r.language.locale=this.chart.language.locale;var a=!0,o=!0;fa(this.series.iterator(),function(e){e!=i&&(e.xAxis==i.xAxis&&t.scrollbarChart.xAxes.length>0&&(a=!1),e.yAxis==i.yAxis&&t.scrollbarChart.yAxes.length>0&&(o=!1))}),i.events.on("beforedisposed",function(){t.series.removeValue(i)});var s=new Ba,n=i.clone();if(Hd()&&(n.stroke=oa("#aaaaaa"),n.fill=n.stroke,n.propertyFields.fill=void 0,n.propertyFields.stroke=void 0),i.scrollbarSeries=n,a){var l=i.xAxis.clone();if(r.xAxes.moveValue(l),l.title.disabled=!0,l.rangeChangeDuration=0,($=l.renderer).ticks.template.disabled=!0,$.inside=!0,$.labels.template.inside=!0,$.line.strokeOpacity=0,$.minLabelPosition=.02,$.maxLabelPosition=.98,$.line.disabled=!0,$.axisFills.template.disabled=!0,$.baseGrid.disabled=!0,$.grid.template.strokeOpacity=.05,$.minWidth=void 0,$.minHeight=void 0,$.padding(0,0,0,0),$.chart=r,$.margin(0,0,0,0),l.width=ha(100),$.labels.template.fillOpacity=.5,l.maxZoomCount=void 0,l.minZoomCount=void 0,l instanceof _a){var d=l,p=i.xAxis;d.groupCount=5*p.groupCount,d.min=void 0,d.max=void 0,this._disposers.push(d.clonedFrom.events.on("extremeschanged",function(){aa(d.clonedFrom.minDefined)&&(d.min=d.clonedFrom.minDefined),aa(d.clonedFrom.maxDefined)&&(d.max=d.clonedFrom.maxDefined)},void 0,!1))}else if(l instanceof va){var c=l;c.min=void 0,c.max=void 0,aa(c.clonedFrom.minDefined)||(c.min=void 0),aa(c.clonedFrom.maxDefined)||(c.max=void 0),this._disposers.push(c.clonedFrom.events.on("extremeschanged",function(){aa(c.clonedFrom.minDefined)&&(c.min=c.clonedFrom.min),aa(c.clonedFrom.maxDefined)&&(c.max=c.clonedFrom.max)},void 0,!1))}n.xAxis=l}else this.scrollbarChart.xAxes.each(function(e){e.clonedFrom==i.xAxis&&(n.xAxis=e)});if(o){var $,m=i.yAxis.clone();if(r.yAxes.moveValue(m),m.title.disabled=!0,m.rangeChangeDuration=0,($=m.renderer).ticks.template.disabled=!0,$.inside=!0,$.labels.template.inside=!0,$.line.strokeOpacity=0,$.minLabelPosition=.02,$.maxLabelPosition=.98,$.line.disabled=!0,$.axisFills.template.disabled=!0,$.grid.template.stroke=s.getFor("background"),$.baseGrid.disabled=!0,$.grid.template.strokeOpacity=.05,$.minWidth=void 0,$.minHeight=void 0,$.chart=r,$.padding(0,0,0,0),$.margin(0,0,0,0),m.height=ha(100),$.labels.template.fillOpacity=.5,n.yAxis=m,m.maxZoomCount=void 0,m.minZoomCount=void 0,m instanceof _a){var h=m;h.min=void 0,h.max=void 0;p=i.yAxis;m.groupCount=5*p.groupCount,this._disposers.push(h.clonedFrom.events.on("extremeschanged",function(){aa(h.clonedFrom.minDefined)&&(h.min=h.clonedFrom.minDefined),aa(h.clonedFrom.maxDefined)&&(h.max=h.clonedFrom.maxDefined)}))}else if(m instanceof va){var f=m;f.min=void 0,f.max=void 0,aa(f.clonedFrom.minDefined)||(f.min=void 0),aa(f.clonedFrom.maxDefined)||(f.max=void 0),this._disposers.push(f.clonedFrom.events.on("extremeschanged",function(){aa(f.clonedFrom.minDefined)&&(f.min=f.clonedFrom.minDefined),aa(f.clonedFrom.maxDefined)&&(f.max=f.clonedFrom.maxDefined)}))}}else this.scrollbarChart.yAxes.each(function(e){e.clonedFrom==i.yAxis&&(n.yAxis=e)});n.rangeChangeDuration=0,n.interpolationDuration=0,n.defaultState.transitionDuration=0,n.showOnInit=!1,this._disposers.push(n.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(i.events.on("datavalidated",function(){n.data!=i.data&&(n.data=i.data)},void 0,!1)),n.defaultState.properties.visible=!0,r.series.push(n),this.updateByOrientation()}},t.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(fa(this._scrollbarChart.xAxes.iterator(),function(t){var i=t.renderer;"vertical"==e.orientation?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=t.clonedFrom.renderer.minGridDistance)}),fa(this._scrollbarChart.yAxes.iterator(),function(t){var i=t.renderer;"horizontal"==e.orientation?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=t.clonedFrom.renderer.minGridDistance)}))},t.prototype.handleSeriesRemoved=function(e){var t=e.oldValue,i=this.scrollbarChart;i.series.each(function(e){e&&e.clonedFrom==t&&i.series.removeValue(e)}),0==i.series.length&&(i.xAxes.clear(),i.yAxes.clear());try{t.events.off("validated",this.zoomOutAxes,this)}catch(r){}},Object.defineProperty(t.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),t.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData()},t.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;fa(e.xAxes.iterator(),function(e){e.zoom({start:0,end:1},!0,!0)}),fa(e.yAxes.iterator(),function(e){e.zoom({start:0,end:1},!0,!0)})},t.prototype.updateThumb=function(){if(e.prototype.updateThumb.call(this),this._unselectedOverlay){var t=this.thumb,i=t.pixelX||0,r=t.pixelY||0,a=t.pixelWidth||0,o=t.pixelHeight||0,s="";"horizontal"==this.orientation?(s=rc({x:-1,y:0,width:i,height:o}),s+=rc({x:i+a,y:0,width:(this.pixelWidth||0)-i-a,height:o})):(s=rc({x:0,y:0,width:a,height:r}),s+=rc({x:0,y:r+o,width:a,height:(this.pixelHeight||0)-r-o})),this._unselectedOverlay.path=s}},t.prototype.processConfig=function(t){if(t&&ba(t.series)&&ab(t.series))for(var i=0,r=t.series.length;i<r;i++){var a=t.series[i];if(ba(a)&&wa(a)){if(!this.map.hasKey(a))throw Error("XYChartScrollbar error: Series with id `"+a+"` does not exist.");t.series[i]=this.map.getKey(a)}}e.prototype.processConfig.call(this,t)},t}(Je);ca.registeredClasses.XYChartScrollbar=Lc;var Bg=function(t){function e(){var e=t.call(this)||this;return e.className="XYChartDataItem",e.applyTheme(),e}return da(e,t),e}(gj);var bc=function(t){function e(){var e=t.call(this)||this;e._axisRendererX=jc,e._axisRendererY=Qb,e._seriesPoints=[],e.className="XYChart",e.maskBullets=!0,e.arrangeTooltips=!0;var i=e.chartContainer;i.layout="vertical",e.padding(15,15,15,15);var r=i.createChild(na);r.shouldClone=!1,r.layout="vertical",r.width=ha(100),r.zIndex=1,e.topAxesContainer=r;var o=i.createChild(na);o.shouldClone=!1,o.layout="horizontal",o.width=ha(100),o.height=ha(100),o.zIndex=0,e.yAxesAndPlotContainer=o;var s=i.createChild(na);s.shouldClone=!1,s.width=ha(100),s.layout="vertical",s.zIndex=1,e.bottomAxesContainer=s;var a=o.createChild(na);a.shouldClone=!1,a.layout="horizontal",a.height=ha(100),a.contentAlign="right",a.events.on("transformed",e.updateXAxesMargins,e,!1),a.zIndex=1,e.leftAxesContainer=a;var n=o.createChild(na);n.shouldClone=!1,n.height=ha(100),n.width=ha(100),n.background.fillOpacity=0,e.plotContainer=n,e.mouseWheelBehavior="none",e._cursorContainer=n;var p=o.createChild(na);p.shouldClone=!1,p.layout="horizontal",p.height=ha(100),p.zIndex=1,p.events.on("transformed",e.updateXAxesMargins,e,!1),e.rightAxesContainer=p,e.seriesContainer.parent=n,e.bulletsContainer.parent=n;var h=n.createChild(Wi);h.shouldClone=!1,h.align="right",h.valign="top",h.zIndex=Number.MAX_SAFE_INTEGER,h.marginTop=5,h.marginRight=5,h.hide(0),e.zoomOutButton=h;var l=e.plotContainer.createChild(na);return l.shouldClone=!1,l.width=ha(100),l.height=ha(100),l.isMeasured=!1,l.zIndex=4,l.layout="none",e.axisBulletsContainer=l,e._bulletMask=e.plotContainer,e.events.on("beforedatavalidated",function(){e.series.each(function(t){t.dataGrouped=!1,t._baseInterval={}})},e,!1),e.applyTheme(),e}return da(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,ba(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"))},e.prototype.draw=function(){t.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend()},e.prototype.updatePlotElements=function(){fa(this.series.iterator(),function(t){t.invalidate()})},e.prototype.validateData=function(){0==this._parseDataFrom&&(fa(this.xAxes.iterator(),function(t){t.dataChangeUpdate()}),fa(this.yAxes.iterator(),function(t){t.dataChangeUpdate()}),fa(this.series.iterator(),function(t){t.dataChangeUpdate()})),t.prototype.validateData.call(this)},e.prototype.updateXAxesMargins=function(){var t=this.leftAxesContainer.measuredWidth,e=this.rightAxesContainer.measuredWidth,i=this.bottomAxesContainer;i.paddingLeft==t&&i.paddingRight==e||(i.paddingLeft=t,i.paddingRight=e);var r=this.topAxesContainer;r.paddingLeft==t&&r.paddingRight==e||(r.paddingLeft=t,r.paddingRight=e)},e.prototype.reinit=function(){t.prototype.reinit.call(this),this.series.each(function(t){t.appeared=!1})},e.prototype.handleXAxisChange=function(t){this.updateXAxis(t.target)},e.prototype.handleYAxisChange=function(t){this.updateYAxis(t.target)},e.prototype.processXAxis=function(t){var e=t.newValue;e.chart=this,e.renderer||(e.renderer=new this._axisRendererX,e.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),e.axisLetter="X",e.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),e.dataProvider=this,this.updateXAxis(e.renderer),this.processAxis(e)},e.prototype.processYAxis=function(t){var e=t.newValue;e.chart=this,e.renderer||(e.renderer=new this._axisRendererY,e.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),e.axisLetter="Y",e.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),e.dataProvider=this,this.updateYAxis(e.renderer),this.processAxis(e)},e.prototype.handleXAxisRangeChange=function(){var t=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,t,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,t)},e.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var t=!1;Db(this.xAxes.iterator(),function(e){if(e.toggleZoomOutButton)if(e.maxZoomCount>0){var i=e.maxZoomFactor/e.maxZoomCount;if(ga(e.end-e.start,3)<1/i)return t=!0,!1}else if(ga(e.start,3)>0||ga(e.end,3)<1)return t=!0,!1;return!0}),Db(this.yAxes.iterator(),function(e){if(e.toggleZoomOutButton){if(e.maxZoomCount>0){var i=e.maxZoomFactor/e.maxZoomCount;if(ga(e.end-e.start,3)<1/i)return t=!0,!1}else if(ga(e.start,3)>0||ga(e.end,3)<1)return t=!0,!1;return!0}}),this.seriesAppeared||(t=!1),t?this.zoomOutButton.show():this.zoomOutButton.hide()}},e.prototype.seriesAppeared=function(){var t=!1;return fa(this.series.iterator(),function(e){if(!e.appeared)return t=!1,!1}),t},e.prototype.handleYAxisRangeChange=function(){var t=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,t,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,t)},e.prototype.updateScrollbar=function(t,e){t&&(t.skipRangeEvents(),t.start=e.start,t.end=e.end)},e.prototype.getCommonAxisRange=function(t){var e,i;return fa(t.iterator(),function(t){var r=t.start,o=t.end;t.renderer.inversed&&(r=1-t.end,o=1-t.start),(!aa(e)||r<e)&&(e=r),(!aa(i)||o>i)&&(i=o)}),{start:e,end:i}},e.prototype.updateXAxis=function(t){var e=t.axis;t.opposite?(e.parent=this.topAxesContainer,e.toFront()):(e.parent=this.bottomAxesContainer,e.toBack()),e.renderer&&e.renderer.processRenderer()},e.prototype.updateYAxis=function(t){var e=t.axis;t.opposite?(e.parent=this.rightAxesContainer,e.toBack()):(e.parent=this.leftAxesContainer,e.toFront()),e.renderer&&e.renderer.processRenderer()},e.prototype.processAxis=function(t){var e=this;t instanceof Xa&&this._dataUsers.moveValue(t);var i=t.renderer;i.gridContainer.parent=this.plotContainer,i.gridContainer.toBack(),i.breakContainer.parent=this.plotContainer,i.breakContainer.toFront(),i.breakContainer.zIndex=10,t.addDisposer(new Ga(function(){e.dataUsers.removeValue(t)})),i.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(t.events.on("positionchanged",function(){var r=wb({x:0,y:0},t,e.axisBulletsContainer);t.renderer instanceof Qb&&(i.bulletsContainer.y=r.y),t.renderer instanceof jc&&(i.bulletsContainer.x=r.x)},void 0,!1)),this.plotContainer.events.on("maxsizechanged",function(){e.inited&&(t.invalidateDataItems(),e.updateSeriesMasks())},t,!1)},e.prototype.updateSeriesMasks=function(){Hd()&&this.series.each(function(t){var e=t.mainContainer.mask;t.mainContainer.mask=void 0,t.mainContainer.mask=e})},e.prototype.handleSeriesRemoved=function(e){var i=e.oldValue;i&&(i.xAxis&&(i.xAxis.series.removeValue(i),i.xAxis.invalidateProcessedData()),i.yAxis&&(i.yAxis.series.removeValue(i),i.yAxis.invalidateProcessedData()),this.series.each(function(t){t.resetExtremes()})),t.prototype.handleSeriesRemoved.call(this,e)},Object.defineProperty(e.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new Aa,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Ja(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),e.prototype.handleAxisRemoval=function(t){var e=t.oldValue;this.dataUsers.removeValue(e),e.autoDispose&&e.dispose()},Object.defineProperty(e.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new Aa,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new Ja(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),e.prototype.handleSeriesAdded=function(e){try{t.prototype.handleSeriesAdded.call(this,e);var i=e.newValue;0!=this.xAxes.length&&0!=this.yAxes.length||(ca.removeFromInvalidComponents(i),i.dataInvalid=!1),ub(i.xAxis),ub(i.yAxis),i.maskBullets=i.maskBullets,null==i.fill&&(this.patterns?(ba(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),ba(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof Ca&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next()),ba(i.stroke)||(i.stroke=i.fill)}catch(r){this.raiseCriticalError(r)}},Object.defineProperty(e.prototype,"cursor",{get:function(){return this._cursor},set:function(t){this._cursor!=t&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=t,t&&(this._disposers.push(t),t.chart=this,t.shouldClone=!1,t.parent=this._cursorContainer,t.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),t.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),t.events.on("zoomended",this.handleCursorZoomEnd,this,!1),t.events.on("panstarted",this.handleCursorPanStart,this,!1),t.events.on("panning",this.handleCursorPanning,this,!1),t.events.on("panended",this.handleCursorPanEnd,this,!1),t.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),t.events.on("hidden",this.handleHideCursor,this,!1),t.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)))},enumerable:!0,configurable:!0}),e.prototype.handleCursorPositionChange=function(){var t=this.cursor;if(t.visible&&!t.isHiding){var e=this.cursor.xPosition,i=this.cursor.yPosition;this.showSeriesTooltip({x:e,y:i});var r=[],o=t.snapToSeries;if(o&&!t.downPoint){o instanceof Kc&&(o=[o]);var s=[];la(o,function(t){var o=t.xAxis,a=t.yAxis;o instanceof va&&!(o instanceof _a)&&a instanceof va&&!(a instanceof _a)?(t.dataItems.each(function(t){s.push(t)}),Hb(r,t.yAxis),Hb(r,t.xAxis)):(t.baseAxis==t.xAxis&&(Hb(r,t.yAxis),s.push(o.getSeriesDataItem(t,o.toAxisPosition(e),!0))),t.baseAxis==t.yAxis&&(Hb(r,t.xAxis),s.push(a.getSeriesDataItem(t,a.toAxisPosition(i),!0))))});var a=this.getClosest(s,e,i);a&&(this.series.each(function(t){var e=a.component;t!=e&&(t.hideTooltip(),t.xAxis!=e.xAxis&&t.xAxis.hideTooltip(),t.yAxis!=e.yAxis&&t.yAxis.hideTooltip())}),a.component.showTooltipAtDataItem(a),t.handleSnap(a.component))}this._seriesPoints=[],this._cursorXPosition!=e&&this.showAxisTooltip(this.xAxes,e,r),this._cursorYPosition!=i&&this.showAxisTooltip(this.yAxes,i,r),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw()}},e.prototype.getClosest=function(t,e,i){var r,o=1/0;return xf(t,function(t){if(t){var s=t.component.xAxis,a=t.component.yAxis,n=s.positionToCoordinate(s.toGlobalPosition(s.toAxisPosition(e))),p=a.positionToCoordinate(a.toGlobalPosition(a.toAxisPosition(i))),h=t.component.xField,l=t.component.yField;if(s instanceof va&&!aa(t.getValue(h)))return!0;if(a instanceof va&&!aa(t.getValue(l)))return!0;var d=s.positionToCoordinate(s.toGlobalPosition(s.getPositionX(t,h,t.locations[h],"valueX"))),$=a.positionToCoordinate(a.toGlobalPosition(a.getPositionY(t,l,t.locations[l],"valueY"))),u=Math.sqrt(Math.pow(n-d,2)+Math.pow(p-$,2));return u<o&&(o=u,r=t),!0}}),r},e.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend()},e.prototype.updateSeriesLegend=function(){fa(this.series.iterator(),function(t){t.updateLegendValue()})},e.prototype.hideObjectTooltip=function(t){fa(t.iterator(),function(t){t.hideTooltip(0)})},e.prototype.showSeriesTooltip=function(t){var e=this;if(t){var i=[];this.series.each(function(r){if(r.xAxis instanceof _a&&r.xAxis.snapTooltip||r.yAxis instanceof _a&&r.yAxis.snapTooltip);else{var o=r.showTooltipAtPosition(t.x,t.y);o&&(r.tooltip.setBounds(Xf({x:0,y:0,width:e.pixelWidth,height:e.pixelHeight},e)),i.push({series:r,point:o}))}}),this.arrangeTooltips&&this.sortSeriesTooltips(i)}else this.series.each(function(t){t.hideTooltip()})},e.prototype.sortSeriesTooltips=function(t){if(t.length>0){var e=this.cursor;if(e&&aa(e.maxTooltipDistance)){var i,r,o=Jb({x:e.point.x,y:e.point.y},e),s=1/0;la(t,function(t){var e=t.series,a=t.point;if(a){var n={x:a.x,y:a.y},p=Math.abs(Ea(n,o));p<s&&(r=n,s=p,i=e)}});var a=[];i&&(la(t,function(t){if(Math.abs(Ea(t.point,r))<=Math.abs(e.maxTooltipDistance))a.push({series:t.series,point:t.point});else{var i=t.series.tooltipDataItem;i&&la(i.sprites,function(t){t.isHover=!1,t.handleOutReal()}),t.series.tooltip.hide(0)}}),e.maxTooltipDistance<0&&(a.length>0&&la(a,function(t){i!=t.series&&t.series.tooltip.hide(0)}),a=[{series:i,point:r}])),t=a}var n=Jb({x:-.5,y:-.5},this.plotContainer),p=Jb({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),h=0,l=[];la(t,function(t){var e=t.point;e&&Kh(e,{x:n.x,y:n.y,width:p.x-n.x,height:p.y-n.y})&&(l.push({point:e,series:t.series}),h+=e.y)}),t=l;var d=this.series.getIndex(0),$=!1;d&&d.yAxis&&d.yAxis.renderer.inversed&&($=!0),$?t.sort(function(t,e){return Yb(t.point.y,e.point.y)}):(t.sort(function(t,e){return Yb(e.point.y,t.point.y)}),t.reverse());var u=h/t.length,c=di({x:0,y:0},this.svgContainer.SVGContainer).y;if(t.length>0){var x=n.y,m=p.y;Yf({x:0,y:x},this);var y=!1;if(u>x+(m-x)/2)for(var g=m,f=t.length-1;f>=0;f--){var v=(L=t[f].series).tooltip,A=t[f].point.y;if(v.setBounds({x:0,y:-c,width:this.pixelWidth,height:g+c}),v.invalid&&v.validate(),v.toBack(),(g=Jb({x:0,y:v.label.pixelY-v.pixelY+A-v.pixelMarginTop},v).y)<-c){y=!0;break}}if(u<=x+(m-x)/2||y)for(var I=x,F=(f=0,t.length);f<F;f++){var L=t[f].series;A=t[f].point.y;(v=L.tooltip).setBounds({x:0,y:I,width:this.pixelWidth,height:m}),v.invalid&&v.validate(),v.toBack(),I=Jb({x:0,y:v.label.pixelY+v.label.measuredHeight-v.pixelY+A+v.pixelMarginBottom},v).y}}}},e.prototype.showAxisTooltip=function(t,e,i){var r=this;fa(t.iterator(),function(t){i&&-1!=i.indexOf(t)||(r.dataItems.length>0||t.dataItems.length>0)&&t.showTooltipAtPosition(e)})},e.prototype.getUpdatedRange=function(t,e){if(t){var i,r;t.renderer.inversed?(Cf(e),i=1-t.end,r=1-t.start):(i=t.start,r=t.end);var o=r-i;return{start:i+e.start*o,end:i+e.end*o}}},e.prototype.handleCursorZoomEnd=function(t){var e=this.cursor,i=e.behavior;if("zoomX"==i||"zoomXY"==i){var r=e.xRange;r&&this.xAxes.length>0&&((r=this.getUpdatedRange(this.xAxes.getIndex(0),r)).priority="start",this.zoomAxes(this.xAxes,r))}if("zoomY"==i||"zoomXY"==i){var o=e.yRange;o&&this.yAxes.length>0&&((o=this.getUpdatedRange(this.yAxes.getIndex(0),o)).priority="start",this.zoomAxes(this.yAxes,o))}this.handleHideCursor()},e.prototype.handleCursorPanStart=function(t){var e=this.xAxes.getIndex(0);e&&(this._panStartXRange={start:e.start,end:e.end});var i=this.yAxes.getIndex(0);i&&(this._panStartYRange={start:i.start,end:i.end})},e.prototype.handleCursorPanEnd=function(t){var e=this.cursor.behavior;if(this._panEndXRange&&("panX"==e||"panXY"==e)){var i=0;(r=this._panEndXRange).start<0&&(i=r.start),r.end>1&&(i=r.end-1),this.zoomAxes(this.xAxes,{start:r.start-i,end:r.end-i},!1,!0),this._panEndXRange=void 0,this._panStartXRange=void 0}if(this._panEndYRange&&("panY"==e||"panXY"==e)){var r;i=0;(r=this._panEndYRange).start<0&&(i=r.start),r.end>1&&(i=r.end-1),this.zoomAxes(this.yAxes,{start:r.start-i,end:r.end-i},!1,!0),this._panEndYRange=void 0,this._panStartYRange=void 0}},e.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0},e.prototype.handleCursorPanning=function(t){var e=this.cursor,i=e.behavior,r=e.maxPanOut;if(this._panStartXRange&&("panX"==i||"panXY"==i)){var o=this._panStartXRange,s=e.xRange,a=this.getCommonAxisRange(this.xAxes),n=o.end-o.start,p=s.start*(a.end-a.start),h=Math.max(-r,p+o.start),l=Math.min(p+o.end,1+r);h<=0&&(l=h+n),l>=1&&(h=l-n);var d={start:h,end:l};this._panEndXRange=d,this.zoomAxes(this.xAxes,d,!1,!1,e.maxPanOut)}if(this._panStartYRange&&("panY"==i||"panXY"==i)){o=this._panStartYRange,s=e.yRange,a=this.getCommonAxisRange(this.yAxes),n=o.end-o.start,p=s.start*(a.end-a.start),h=Math.max(-r,p+o.start),l=Math.min(p+o.end,1+r);h<=0&&(l=h+n),l>=1&&(h=l-n);d={start:h,end:l};this._panEndYRange=d,this.zoomAxes(this.yAxes,d,!1,!1,e.maxPanOut)}this.handleHideCursor()},e.prototype.handleYAxisSet=function(t){},e.prototype.handleCursorZoomStart=function(t){},Object.defineProperty(e.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(t){var e=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=t,t&&(this._disposers.push(t),t.parent=this.topAxesContainer,t.shouldClone=!1,t.startGrip.exportable=!1,t.endGrip.exportable=!1,t.toBack(),t.orientation="horizontal",t.events.on("rangechanged",this.handleXScrollbarChange,this,!1),t.adapter.add("positionValue",function(t){var i=e.xAxes.getIndex(0);return i&&(t.value=i.getPositionLabel(i.renderer.inversed?1-t.position:t.position)),t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(t){var e=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=t,t&&(this._disposers.push(t),t.parent=this.rightAxesContainer,t.startGrip.exportable=!1,t.shouldClone=!1,t.endGrip.exportable=!1,t.toFront(),t.orientation="vertical",t.events.on("rangechanged",this.handleYScrollbarChange,this,!1),t.adapter.add("positionValue",function(t){var i=e.yAxes.getIndex(0);return i&&(t.value=i.getPositionLabel(t.position)),t}))},enumerable:!0,configurable:!0}),e.prototype.handleXScrollbarChange=function(t){if(this.inited){var e=t.target,i=e.range;0==i.start&&(i.priority="start"),1==i.end&&(i.priority="end"),i=this.zoomAxes(this.xAxes,i),e.fixRange(i)}},e.prototype.handleYScrollbarChange=function(t){if(this.inited){var e=t.target,i=e.range;1==i.end&&(i.priority="end"),0==i.start&&(i.priority="start"),i=this.zoomAxes(this.yAxes,i),e.fixRange(i)}},e.prototype.zoomAxes=function(t,e,i,r,o){var s={start:0,end:1};return this.showSeriesTooltip(),this.dataInvalid||fa(t.iterator(),function(t){if(t.renderer.inversed&&(e=Cf(e)),t.hideTooltip(0),r)if(t instanceof Xa){var a=t.getCellEndPosition(0)-t.getCellStartPosition(0);e.start=t.roundPosition(e.start+a/2-t.startLocation*a,t.startLocation),e.end=t.roundPosition(e.end-a/2+(1-t.endLocation)*a,t.endLocation)}else e.start=t.roundPosition(e.start+1e-4,0,t.startLocation),e.end=t.roundPosition(e.end+1e-4,0,t.endLocation);var n=t.zoom(e,i,i,o);t.renderer.inversed&&(n=Cf(n)),s=n}),s},Object.defineProperty(e.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(t){this.setPropertyValue("maskBullets",t,!0)&&this.bulletsContainer&&(this.bulletsContainer.mask=t?this._bulletMask:void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(t){this.setPropertyValue("arrangeTooltips",t,!0)},enumerable:!0,configurable:!0}),e.prototype.handleWheel=function(t){var e=this.plotContainer,i=nc(t.point,this.htmlContainer,this.svgContainer.cssScale),r=Nb(i,e),o=t.shift.y;this.handleWheelReal(o,this.mouseWheelBehavior,r)},e.prototype.handleHorizontalWheel=function(t){var e=this.plotContainer,i=nc(t.point,this.htmlContainer,this.svgContainer.cssScale),r=Nb(i,e);this.handleWheelReal(t.shift.x,this.horizontalMouseWheelBehavior,r)},e.prototype.handleWheelReal=function(t,e,i){if(0!=t){var r=this.plotContainer,o=this.getCommonAxisRange(this.xAxes),s=this.getCommonAxisRange(this.yAxes);if("panX"==e||"panXY"==e){var a=o.end-o.start,n=Math.max(-0,o.start+.1*t/100*(o.end-o.start)),p=Math.min(o.end+.1*t/100*(o.end-o.start),1);n<=0&&(p=n+a),p>=1&&(n=p-a),this.zoomAxes(this.xAxes,{start:n,end:p})}if("panY"==e||"panXY"==e){t*=-1;var h=s.end-s.start,l=Math.max(-0,s.start+.1*t/100*(s.end-s.start)),d=Math.min(s.end+.1*t/100*(s.end-s.start),1);l<=0&&(d=l+h),d>=1&&(l=d-h),this.zoomAxes(this.yAxes,{start:l,end:d})}if("zoomX"==e||"zoomXY"==e){var $=i.x/r.maxWidth,u=this.xAxes.getIndex(0).toAxisPosition($);n=Math.max(-0,o.start-.1*(o.end-o.start)*t/100*$);n=Math.min(n,u);p=Math.min(o.end+.1*(o.end-o.start)*t/100*(1-$),1);p=Math.max(p,u),this.zoomAxes(this.xAxes,{start:n,end:p})}if("zoomY"==e||"zoomXY"==e){var c=i.y/r.maxHeight,x=this.yAxes.getIndex(0).toAxisPosition(c);l=Math.max(-0,s.start-.1*(s.end-s.start)*t/100*(1-c));l=Math.min(l,x);d=Math.min(s.end+.1*t/100*c*(s.end-s.start),1);d=Math.max(d,x),this.zoomAxes(this.yAxes,{start:l,end:d})}}},Object.defineProperty(e.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(t){this.setPropertyValue("mouseWheelBehavior",t)&&("none"!=t?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(t){this.setPropertyValue("horizontalMouseWheelBehavior",t)&&("none"!=t?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()))},enumerable:!0,configurable:!0}),e.prototype.dataSourceDateFields=function(e){var i=this;return e=t.prototype.dataSourceDateFields.call(this,e),fa(this.series.iterator(),function(t){e=i.populateDataSourceFields(e,t.dataFields,["dateX","dateY","openDateX","openDateY"])}),e},e.prototype.dataSourceNumberFields=function(e){var i=this;return e=t.prototype.dataSourceDateFields.call(this,e),fa(this.series.iterator(),function(t){e=i.populateDataSourceFields(e,t.dataFields,["valueX","valueY","openValueX","openValueY"])}),e},e.prototype.processConfig=function(e){if(e){var i=[],r=[];if(ba(e.xAxes)&&ab(e.xAxes))for(var o=0,s=e.xAxes.length;o<s;o++){if(!e.xAxes[o].type)throw Error("[XYChart error] No type set for xAxes["+o+"].");if(ba(e.xAxes[o].axisRanges)){for(var a=0,n=e.xAxes[o].axisRanges.length;a<n;a++){var p=e.xAxes[o].axisRanges[a];ba(p.date)&&wa(p.date)&&(p.date=this.dateFormatter.parse(p.date)),ba(p.endDate)&&wa(p.endDate)&&(p.endDate=this.dateFormatter.parse(p.endDate))}i.push({axisRanges:e.xAxes[o].axisRanges,index:o}),delete e.xAxes[o].axisRanges}}if(ba(e.yAxes)&&ab(e.yAxes))for(o=0,s=e.yAxes.length;o<s;o++){if(!e.yAxes[o].type)throw Error("[XYChart error] No type set for yAxes["+o+"].");if(ba(e.yAxes[o].axisRanges)){a=0;for(var h=e.yAxes[o].axisRanges.length;a<h;a++){p=e.yAxes[o].axisRanges[a];ba(p.date)&&wa(p.date)&&(p.date=this.dateFormatter.parse(p.date)),ba(p.endDate)&&wa(p.endDate)&&(p.endDate=this.dateFormatter.parse(p.endDate))}r.push({axisRanges:e.yAxes[o].axisRanges,index:o}),delete e.yAxes[o].axisRanges}}if(ba(e.series)&&ab(e.series))for(o=0,s=e.series.length;o<s;o++)e.series[o].type=e.series[o].type||"LineSeries";if(ba(e.cursor)&&!ba(e.cursor.type)&&(e.cursor.type="XYCursor"),ba(e.scrollbarX)&&!ba(e.scrollbarX.type)&&(e.scrollbarX.type="Scrollbar"),ba(e.scrollbarY)&&!ba(e.scrollbarY.type)&&(e.scrollbarY.type="Scrollbar"),t.prototype.processConfig.call(this,e),r.length)for(o=0,s=r.length;o<s;o++)this.yAxes.getIndex(r[o].index).config={axisRanges:r[o].axisRanges};if(i.length)for(o=0,s=i.length;o<s;o++)this.xAxes.getIndex(i[o].index).config={axisRanges:i[o].axisRanges}}},e.prototype.configOrder=function(e,i){return e==i?0:"scrollbarX"==e?1:"scrollbarX"==i?-1:"scrollbarY"==e?1:"scrollbarY"==i?-1:"cursor"==e?1:"cursor"==i?-1:"series"==e?1:"series"==i?-1:t.prototype.configOrder.call(this,e,i)},e.prototype.createSeries=function(){return new Kc},Object.defineProperty(e.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(t){var e=this;this._zoomOutButton=t,t&&t.events.on("hit",function(){e.zoomAxes(e.xAxes,{start:0,end:1}),e.zoomAxes(e.yAxes,{start:0,end:1})},void 0,!1)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){var i=this;e.xAxes.each(function(t){i.xAxes.push(t.clone())}),e.yAxes.each(function(t){i.yAxes.push(t.clone())}),t.prototype.copyFrom.call(this,e),e.cursor&&(this.cursor=e.cursor.clone()),e.scrollbarX&&(this.scrollbarX=e.scrollbarX.clone()),e.scrollbarY&&(this.scrollbarY=e.scrollbarY.clone())},e.prototype.disposeData=function(){t.prototype.disposeData.call(this);var e=this.scrollbarX;e&&e instanceof Lc&&e.scrollbarChart.disposeData();var i=this.scrollbarY;i&&i instanceof Lc&&i.scrollbarChart.disposeData(),this.xAxes.each(function(t){t.disposeData()}),this.yAxes.each(function(t){t.disposeData()})},e.prototype.addData=function(e,i){this.scrollbarX instanceof Lc&&this.addScrollbarData(this.scrollbarX,i),this.scrollbarY instanceof Lc&&this.addScrollbarData(this.scrollbarY,i),t.prototype.addData.call(this,e,i)},e.prototype.addScrollbarData=function(t,e){var i=t.scrollbarChart;i._parseDataFrom=i.data.length,i.invalidateData()},e.prototype.removeScrollbarData=function(t,e){var i=t.scrollbarChart;if(aa(e)){for(;e>0;){var r=this.dataItems.getIndex(0);r&&i.dataItems.remove(r),i.dataUsers.each(function(t){var e=t.dataItems.getIndex(0);e&&t.dataItems.remove(e)}),i._parseDataFrom--,e--}i.invalidateData()}},e.prototype.removeData=function(e){this.scrollbarX instanceof Lc&&this.removeScrollbarData(this.scrollbarX,e),this.scrollbarY instanceof Lc&&this.removeScrollbarData(this.scrollbarY,e),t.prototype.removeData.call(this,e)},e.prototype.setTapToActivate=function(e){t.prototype.setTapToActivate.call(this,e),this.cursor&&(this.cursor.interactions.isTouchProtected=e,this.plotContainer.interactions.isTouchProtected=e)},e.prototype.handleTapToActivate=function(){t.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1)},e.prototype.handleTapToActivateDeactivation=function(){t.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0)},e}(xg);ca.registeredClasses.XYChart=bc,gb.push({relevant:pb.maybeXS,state:function(t,e){if(t instanceof bc&&t.scrollbarX){var i=t.states.create(e);return t.scrollbarX.states.create(e).properties.disabled=!0,i}return null}}),gb.push({relevant:pb.maybeXS,state:function(t,e){if(t instanceof bc&&t.scrollbarY){var i=t.states.create(e);return t.scrollbarY.states.create(e).properties.disabled=!0,i}return null}});var Cg=function(e){function t(){var t=e.call(this)||this;t.className="LineSeriesSegment",t.isMeasured=!1,t.interactionsEnabled=!1,t.layout="none";var r=t.createChild(sa);t.fillSprite=r,r.shouldClone=!1,r.setElement(t.paper.add("path")),r.isMeasured=!1,t._disposers.push(r);var i=t.createChild(sa);return t.strokeSprite=i,i.shouldClone=!1,i.fill=oa(),i.setElement(t.paper.add("path")),i.isMeasured=!1,t._disposers.push(i),t}return da(t,e),t.prototype.drawSegment=function(e,t,r,i){if(!this.disabled)if(e.length>0&&t.length>0){var o=ka({x:e[0].x-.2,y:e[0].y-.2})+ka(e[0])+new sc(r,i).smooth(e);0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=o),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o+=ea(t[0])+new sc(r,i).smooth(t),o+=ea(e[0]),o+=Va(),this.fillSprite.path=o)}else this.fillSprite.path="",this.strokeSprite.path=""},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t);var r=this.strokeSprite;Wa(t,r.properties,Ua),r.events.copyFrom(t.strokeSprite.events),r.fillOpacity=0;var i=this.fillSprite;Wa(t,i.properties,Ua),i.events.copyFrom(t.fillSprite.events),i.strokeOpacity=0},t}(na);ca.registeredClasses.LineSeriesSegment=Cg;var io=function(t){function r(){var r=t.call(this)||this;return r.className="DurationAxisDataItem",r.applyTheme(),r}return da(r,t),r}(Ue);var Dg=function(t){function r(){var r=t.call(this)||this;return r._baseUnit="second",r.className="DurationAxis",r.setPropertyValue("maxZoomFactor",1e6),r.applyTheme(),r}return da(r,t),r.prototype.formatLabel=function(t,r){return this.durationFormatter.format(t,r||this.axisDurationFormat)},r.prototype.adjustMinMax=function(r,e,a,i,o){var s,n,m,u=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),"millisecond"==u||"second"==u||"minute"==u||"hour"==u){i<=1&&(i=1),i=Math.round(i);var p=r,$=e;0===a&&(a=Math.abs(e));var l,h=[60,30,20,15,10,2,1],c=1;"hour"==u&&(h=[24,12,6,4,2,1]);try{for(var x=nd(h),P=x.next();!P.done;P=x.next()){var f=P.value;if(a/f>i){c=f;break}}}catch(J){s={error:J}}finally{try{P&&!P.done&&(n=x.return)&&n.call(x)}finally{if(s)throw s.error}}var D=Math.ceil((e-r)/c/i),y=Math.log(Math.abs(D))*Math.LOG10E,b=Math.pow(10,Math.floor(y))/10,d=D/b;l=c*(D=ml(h,d)*b),this.durationFormatter.getValueUnit(l,this.baseUnit),r=Math.floor(r/l)*l,e=Math.ceil(e/l)*l,o&&((r-=l)<0&&p>=0&&(r=0),(e+=l)>0&&$<=0&&(e=0)),m={min:r,max:e,step:l}}else m=t.prototype.adjustMinMax.call(this,r,e,a,i,o);return this.axisDurationFormat=this.durationFormatter.getFormat(m.step,m.max,this.baseUnit),m},Object.defineProperty(r.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(t){this._tooltipDurationFormat=t},enumerable:!0,configurable:!0}),r.prototype.getTooltipText=function(t){var r=ga(this.positionToValue(t),this._stepDecimalPlaces),e=this.formatLabel(r,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",e):e},Object.defineProperty(r.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(t){this._baseUnit!=t&&(this._baseUnit=t,this.durationFormatter.baseUnit=t,this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(r){t.prototype.copyFrom.call(this,r),this.baseUnit=r.baseUnit},r}(va);ca.registeredClasses.DurationAxis=Dg,ca.registeredClasses.DurationAxisDataItem=io;var We=function(e){function t(){var t=e.call(this)||this;return t.className="LineSeriesDataItem",t}return da(t,e),t}(Ve);var Xe=function(e){function t(){var t=e.call(this)||this;return t.minDistance=.5,t.segments=new Ra(t.createSegment()),t.segments.template.applyOnClones=!0,t._disposers.push(new Ja(t.segments)),t._disposers.push(t.segments.template),t._segmentsIterator=new Jf(t.segments,function(){return t.segments.create()}),t._segmentsIterator.createNewItems=!0,t.className="LineSeries",t.strokeOpacity=1,t.fillOpacity=0,t.connect=!0,t.tensionX=1,t.tensionY=1,t.autoGapCount=1.1,t.segmentsContainer=t.mainContainer.createChild(na),t.segmentsContainer.isMeasured=!1,t.bulletsContainer.toFront(),t.applyTheme(),t}return da(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"))},t.prototype.createSegment=function(){return new Cg},t.prototype.createDataItem=function(){return new We},t.prototype.setInitialWorkingValues=function(e){var t=this._yAxis.get(),i=this._xAxis.get();if(this.appeared&&this.visible){var r=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==i&&t instanceof va){var s=t.minZoomed;if(r&&(s=r.values.valueY.workingValue),e.setWorkingValue("valueY",s,0),e.setWorkingValue("valueY",e.values.valueY.value),i instanceof _a)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(i instanceof Dg&&r){var a=e.valueX;e.setWorkingValue("valueX",r.valueX,0),e.setWorkingValue("valueX",a)}}if(this.baseAxis==t&&i instanceof va){var n=i.minZoomed;if(r&&(n=r.values.valueX.workingValue),e.setWorkingValue("valueX",n,0),e.setWorkingValue("valueX",e.values.valueX.value),t instanceof _a)e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY);else if(t instanceof Dg&&r){a=e.valueY;e.setWorkingValue("valueY",r.valueY,0),e.setWorkingValue("valueY",a)}}}else this.baseAxis==i&&t instanceof va&&(i instanceof _a&&e.setWorkingLocation("dateX",e.locations.dateX),i instanceof Xa&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==t&&i instanceof va&&(t instanceof _a&&e.setWorkingLocation("dateY",e.locations.dateY),t instanceof Xa&&e.setWorkingLocation("categoryY",e.locations.categoryY))},t.prototype.updateLegendValue=function(t,i){e.prototype.updateLegendValue.call(this,t,i),t&&t.segment&&(this.tooltipColorSource=t.segment)},t.prototype.validate=function(){var t=this;e.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),fa(this.axisRanges.iterator(),function(e){t.openSegmentWrapper(t._adjustedStartIndex,e)}),fa(this._segmentsIterator.iterator(),function(e){e.__disabled=!0}))},t.prototype.sliceData=function(){for(var e=this.startIndex,t=this.endIndex,i=this.startIndex-1;i>=0;i--){if((s=this.dataItems.getIndex(i))&&s.hasValue(this._xValueFields)&&s.hasValue(this._yValueFields)){e=i;break}}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);i=this.endIndex;for(var r=this.dataItems.length;i<r;i++){var s;if((s=this.dataItems.getIndex(i))&&s.hasValue(this._xValueFields)&&s.hasValue(this._yValueFields)){t=i+1;break}}this._workingStartIndex=e,this._workingEndIndex=t},t.prototype.findAdjustedIndex=function(e,t){var i=this,r=this.propertyFields,s=e;return la(t,function(t){if(ba(r[t]))for(var a=s;a>=0;a--){var n=i.dataItems.getIndex(a);if(n&&ba(n.properties[t])){e>a&&(e=a);break}}}),e},t.prototype.openSegmentWrapper=function(e,t){var i={index:e,axisRange:t};do{i=this.openSegment(i.index,i.axisRange)}while(i)},t.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},t.prototype.openSegment=function(e,t){var i=!1,r=[];e=Math.min(e,this.dataItems.length);var s,a=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var n=!1,o=this.getSegment();o.__disabled=!1,t?(o.parent=t.contents,Wa(t.contents,o,Ua)):(Wa(this,o,Ua),o.filters.clear(),o.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var l=this.connect,p=!1,$=e;$<a;$++){var m=this.dataItems.getIndex($);if(m.segment=o,m.hasProperties&&($==e?this.updateSegmentProperties(m.properties,o):n=this.updateSegmentProperties(m.properties,o,!0)),m.hasValue(this._xValueFields)&&m.hasValue(this._yValueFields))this.addPoints(r,m,this.xField,this.yField),p=!0;else{if($==e)continue;if(!l&&p){s=$;break}}if(s=$,this.baseAxis instanceof _a){var u=this.dataItems.getIndex($+1);if(u&&this.baseAxis.makeGap(u,m)){i=!0;break}}if(n)break}return this.closeSegment(o,r,e,s,t,i)},t.prototype.addPoints=function(e,t,i,r,s){var a=this.getPoint(t,i,r,t.workingLocations[i],t.workingLocations[r]);s||(t.point=a),e.push(a)},t.prototype.closeSegment=function(e,t,i,r,s,a){var n=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var o=r;o>=i;o--){var l=this.dataItems.getIndex(o);l.hasValue(this._xValueFields)&&l.hasValue(this._yValueFields)&&this.addPoints(n,l,this.xOpenField,this.yOpenField,!0)}else{var p=this.baseAxis,$=t.length,m=this.xAxis,u=this.yAxis;$>0&&(p==m?(n.push({x:t[$-1].x,y:u.basePoint.y}),n.push({x:t[0].x,y:u.basePoint.y})):(n.push({x:m.basePoint.x,y:t[$-1].y}),n.push({x:m.basePoint.x,y:t[0].y})))}return this.drawSegment(e,t,n),a&&r++,r<this._workingEndIndex-1?{index:r,axisRange:s}:null},t.prototype.drawSegment=function(e,t,i){e.drawSegment(t,i,this.tensionX,this.tensionY)},t.prototype.updateSegmentProperties=function(e,t,i){var r=!1;return qa(e,function(e,s){if(ba(s)){var a=t[e],n=void 0;a&&(n=a.toString?a.toString():a);var o=void 0;s&&(o=s.toString?s.toString():s),a==s||null!=n&&null!=o&&n==o||(i||(t[e]=s),r=!0)}}),r},Object.defineProperty(t.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var t=this,i=e.pixelWidth,r=e.pixelHeight;e.disposeChildren();var s=e.createChild(Pb);if(s.shouldClone=!1,Wa(this,s,Ua),s.x2=i,s.y=r/2,s.y2=1e-5,s.visible=!0,this.fillOpacity>0){var a=e.createChild(Fe);Wa(this,a,Ua),a.width=i,a.height=r,a.y=0,a.strokeOpacity=0,a.visible=!0,s.y=0}var n=e.dataItem;n.color=this.stroke,n.colorOrig=this.fill,Db(this.bullets.iterator(),function(s){if(s instanceof ac&&!s.copyToLegendMarker)return!1;var a=!1;if(s instanceof na&&fa(s.children.iterator(),function(e){if(e instanceof vb)return a=!0,!0}),!a){var n=s.clone();return n.parent=e,n.isMeasured=!0,n.tooltipText=void 0,n.x=i/2,t.fillOpacity>0?n.y=0:n.y=r/2,n.visible=!0,ba(n.fill)||(n.fill=t.fill),ba(n.stroke)||(n.stroke=t.stroke),!1}})},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this.segments.clear()},Object.defineProperty(t.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0)},enumerable:!0,configurable:!0}),t}(Kc);ca.registeredClasses.LineSeries=Xe,ca.registeredClasses.LineSeriesDataItem=We;var nj=function(e){function t(){var t=e.call(this)||this;return t.className="RadarSeriesDataItem",t.setLocation("dateX",0,0),t.setLocation("dateY",0,0),t.setLocation("categoryX",0,0),t.setLocation("categoryY",0,0),t.applyTheme(),t}return da(t,e),t}(We);var oj=function(e){function t(){var t=e.call(this)||this;return t.className="RadarSeries",t.connectEnds=!0,t.applyTheme(),t}return da(t,e),t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this)},t.prototype.createDataItem=function(){return new nj},t.prototype.getPoint=function(e,t,r,i,a,s,n){s||(s="valueX"),n||(n="valueY");var o=this.yAxis.getX(e,r,a,n),p=this.yAxis.getY(e,r,a,n),$=Ea({x:o,y:p});0==$&&($=1e-5);var c=this.xAxis.getAngle(e,t,i,s),d=this.chart.startAngle,l=this.chart.endAngle;return c<d||c>l?void 0:{x:$*ja(c),y:$*ia(c)}},t.prototype.addPoints=function(e,t,r,i,a){var s=this.getPoint(t,r,i,t.locations[r],t.locations[i]);s&&e.push(s)},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return fd(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.drawSegment=function(t,r,i){var a=this.yAxis.renderer;this.connectEnds&&360==Math.abs(a.endAngle-a.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(r.push(r[0]),i.length>0&&i.unshift(i[i.length-1])),e.prototype.drawSegment.call(this,t,r,i)},Object.defineProperty(t.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBulletReal=function(e,t,r){var i=this.xAxis,a=this.yAxis;(t<i.start||t>i.end||r<a.start||r>a.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,r))},t.prototype.setXAxis=function(t){e.prototype.setXAxis.call(this,t),this.updateRendererRefs()},t.prototype.setYAxis=function(t){e.prototype.setYAxis.call(this,t),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,t=this.yAxis.renderer;e.axisRendererY=t},t}(Xe);ca.registeredClasses.RadarSeries=oj,ca.registeredClasses.RadarSeriesDataItem=nj;var pj=function(e){function t(t){var r=e.call(this,t)||this;return r.className="AxisFillCircular",r.element=r.paper.add("path"),r.radius=ha(100),r.applyTheme(),r}return da(t,e),t.prototype.draw=function(){if(e.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis){var t=this.axis.renderer;this.fillPath=t.getPositionRangePath(this.startPosition,this.endPosition,this.radius,ba(this.innerRadius)?this.innerRadius:t.innerRadius,this.cornerRadius),this.path=this.fillPath}},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0)},enumerable:!0,configurable:!0}),t}(yg);ca.registeredClasses.AxisFillCircular=pj;var qj=function(r){function e(){var e=r.call(this)||this;return e.className="GridCircular",e.pixelPerfect=!1,e.applyTheme(),e}return da(e,r),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(r){this.setPercentProperty("innerRadius",r,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(r){this.setPercentProperty("radius",r,!0,!1,10,!1)},enumerable:!0,configurable:!0}),e}(Ud);ca.registeredClasses.GridCircular=qj;var Ye=function(t){function i(){var i=t.call(this)||this;return i.fdx=0,i.fdy=0,i.className="AxisLabelCircular",i.padding(0,0,0,0),i.location=.5,i.locationOnPath=.5,i.radius=0,i.isMeasured=!1,i.applyTheme(),i}return da(i,t),Object.defineProperty(i.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(t){if(this.setPropertyValue("relativeRotation",t,!0),!ba(t)){this.rotation=void 0;var i=this.dataItem;i&&i.component&&i.component.invalidateDataItems()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(t){this.setPropertyValue("bent",t,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),t?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0)},enumerable:!0,configurable:!0}),i.prototype.pixelRadius=function(t){var i=1;return this.inside&&(i=-1),Na(this.radius,t)*i},i.prototype.pixelRadiusY=function(t,i){var e=1;this.inside&&(e=-1);var r=this.radius;return aa(r)?(r*=i/t,Na(r,t)*e):Na(r,i)*e},i.prototype.fixPosition=function(t,i,e,r,a){aa(e)||(e=i),aa(r)||(r=0),aa(a)||(a=0);var $={x:i*ja(t),y:e*ia(t)};this.invalid&&this.validate();var o=!1,s=this.radius;s instanceof za&&s.value<0?o=!0:s<0&&(o=!0);var c=this.relativeRotation,h=this.pixelRadius(i);if(this.bent){var n={x:(i+h)*ja(t+180),y:(e+h*e/i)*ia(t+180)};return this.path=ka(n)+cb(t+180,360,i+h,e+h*e/i),void(this.textPathElement&&this.textPathElement.attr({startOffset:100*this.locationOnPath+"%"}))}if(aa(c)){this.horizontalCenter="none",this.verticalCenter="none",t=Vb(t,-180,180);var p=this.bbox.width,l=this.bbox.height,m=this.pixelPaddingBottom,u=this.pixelPaddingTop,g=this.pixelPaddingLeft,d=this.pixelPaddingRight;t>90||t<-90?-90==c&&(c=90,p=0):(-90==c&&(l=-l),90==c&&(c=-90,p=-g-d,l=-l-u-m)),this.rotation=c+t+90;var R=ia(c)/2,y=ja(c)/2,x=this.rotation;this.dx=l*R*ia(x)-p*y*ja(x),this.dy=-l*R*ja(x)-p*y*ia(x),this.inside?t>90||t<-90?h-=(m+u)*ja(c)+(g+d)*ia(c):h+=(m+this.bbox.height+u)*ja(c)+(g+d+this.bbox.width)*ia(c):h+=(l+m+u)*ja(c)+(p+g+d)*ia(c),$.x+=ja(t)*h,$.y+=ia(t)*h*e/i}else this.horizontalCenter="middle",this.verticalCenter="middle",o?(this.dx=0,this.dy=0,$.x=(i+h)*ja(t),$.y=(e+h*e/i)*ia(t)):(this.dy=this._measuredHeight/2*ia(t),this.dx=this._measuredWidth/2*ja(t),$.x+=ja(t)*h,$.y+=ia(t)*h*e/i);$.x+=r,$.y+=a,this.fdx=this.dx,this.fdy=this.dy,this.moveTo($)},i}(zg);ca.registeredClasses.AxisLabelCircular=Ye;var rj=function(t){function e(){var e=t.call(this)||this;return e.pixelRadiusReal=0,e.layout="none",e.className="AxisRendererCircular",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.useChartAngles=!0,e.radius=ha(100),e.isMeasured=!1,e.grid.template.location=0,e.labels.template.location=0,e.labels.template.radius=15,e.ticks.template.location=0,e.ticks.template.pixelPerfect=!1,e.tooltipLocation=0,e.line.strokeOpacity=0,e.applyTheme(),e}return da(e,t),e.prototype.setAxis=function(e){var i=this;t.prototype.setAxis.call(this,e),e.isMeasured=!1;var r=e.tooltip;r.adapter.add("dx",function(t,e){var r=Nb({x:e.pixelX,y:e.pixelY},i);return i.pixelRadius*Math.cos(Math.atan2(r.y,r.x))-r.x}),r.adapter.add("dy",function(t,e){var r=Nb({x:e.pixelX,y:e.pixelY},i);return i.pixelRadius*Math.sin(Math.atan2(r.y,r.x))-r.y})},e.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),t.prototype.validate.call(this)},Object.defineProperty(e.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRadius",{get:function(){return db(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){var t=this.chart,e=this.getPropertyValue("innerRadius");if(ba(e)){if(e instanceof za&&t){var i=t.mr,r=e.value;r=Math.max(i*r,i-Math.min(t.plotContainer.innerHeight,t.plotContainer.innerWidth))/i,e=ha(100*r)}}else(e=t.innerRadius)instanceof za&&t&&(e=ha(e.value*t.innerRadiusModifyer*100));return e},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)&&this.axis&&this.axis.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(t){this.setPropertyValue("useChartAngles",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return db(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){aa(e)||(e=1);var i=this.positionToCoordinate(t),r=this.startAngle+(this.endAngle-this.startAngle)*i/this.axisLength,a=this.pixelRadius,o=this.pixelInnerRadius;if(this.axisRendererY){var p=ma(this.axisRendererY.positionToCoordinate(e),0,1/0);return{x:p*ja(r),y:p*ia(r)}}return{x:ja(r)*o+(a-o)*ja(r)*e,y:ia(r)*o+(a-o)*ia(r)*e}},e.prototype.positionToAngle=function(t){var e,i=this.axis,r=(this.endAngle-this.startAngle)/(i.end-i.start);return e=i.renderer.inversed?this.startAngle+(i.end-t)*r:this.startAngle+(t-i.start)*r,ga(e,3)},e.prototype.angleToPosition=function(t){var e,i=this.axis,r=(this.endAngle-this.startAngle)/(i.end-i.start);return e=i.renderer.inversed?i.end-(t-this.startAngle)/r:(t-this.startAngle)/r+i.start,ga(e,5)},e.prototype.updateAxisLine=function(){var t=this.pixelRadius,e=this.startAngle,i=this.endAngle-e;this.line.path=ka({x:t*ja(e),y:t*ia(e)})+cb(e,i,t,t)},e.prototype.updateGridElement=function(t,e,i){e+=(i-e)*t.location;var r=this.positionToPoint(e);if(aa(r.x)&&aa(r.y)&&t.element){var a=lc*Math.atan2(r.y,r.x),o=db(ba(t.radius)?t.radius:ha(100),this.pixelRadius),p=db(t.innerRadius,this.pixelRadius);t.zIndex=0;var n=db(aa(p)?p:this.innerRadius,this.pixelRadiusReal,!0);t.path=ka({x:n*ja(a),y:n*ia(a)})+ea({x:o*ja(a),y:o*ia(a)})}this.toggleVisibility(t,e,0,1)},e.prototype.updateTickElement=function(t,e,i){e+=(i-e)*t.location;var r=this.positionToPoint(e);if(t.element){var a=this.pixelRadius,o=lc*Math.atan2(r.y,r.x),p=t.length;t.inside&&(p=-p),t.zIndex=1,t.path=ka({x:a*ja(o),y:a*ia(o)})+ea({x:(a+p)*ja(o),y:(a+p)*ia(o)})}this.toggleVisibility(t,e,0,1)},e.prototype.updateBullet=function(t,e,i){var r=.5;t instanceof Wd&&(r=t.location),e+=(i-e)*r;var a=this.positionToPoint(e),o=this.pixelRadius,p=lc*Math.atan2(a.y,a.x);a={x:o*ja(p),y:o*ia(p)},this.positionItem(t,a),this.toggleVisibility(t,e,0,1)},e.prototype.updateLabelElement=function(t,e,i,r){ba(r)||(r=t.location),e+=(i-e)*r,t.fixPosition(this.positionToAngle(e),this.pixelRadius),t.zIndex=2,this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.fitsToBounds=function(t){return!0},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries())},enumerable:!0,configurable:!0}),e.prototype.getPositionRangePath=function(t,e,i,r,a){var o="";if(aa(t)&&aa(e)){ba(i)||(i=this.radius),t=ua(t,this.axis.start),(e=ya(e,this.axis.end))<t&&(e=t);var p=db(i,this.pixelRadius),n=db(r,this.pixelRadius,!0),s=this.positionToAngle(t),$=this.positionToAngle(e)-s;o=fd(s,$,p,n,p,a)}return o},e.prototype.createGrid=function(){return new qj},e.prototype.createFill=function(t){return new pj(t)},e.prototype.createLabel=function(){return new Ye},e.prototype.pointToPosition=function(t){var e=Vb(lb(t),this.startAngle,this.endAngle);return this.coordinateToPosition((e-this.startAngle)/360*this.axisLength)},e}(Te);ca.registeredClasses.AxisRendererCircular=rj;var sj=function(t){function e(){var e=t.call(this)||this;return e._chart=new bb,e.pixelRadiusReal=0,e.className="AxisRendererRadial",e.isMeasured=!1,e.startAngle=-90,e.endAngle=270,e.minGridDistance=30,e.gridType="circles",e.axisAngle=-90,e.isMeasured=!1,e.layout="none",e.radius=ha(100),e.line.strokeOpacity=0,e.labels.template.horizontalCenter="middle",e._disposers.push(e._chart),e.applyTheme(),e}return da(e,t),e.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),t.prototype.validate.call(this)},Object.defineProperty(e.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRadius",{get:function(){return db(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){var t=this.chart,e=this.getPropertyValue("innerRadius");if(ba(e)){if(e instanceof za&&t){var i=t.mr,r=e.value;r=Math.max(i*r,i-Math.min(t.plotContainer.innerHeight,t.plotContainer.innerWidth))/i,e=ha(100*r)}}else(e=t.innerRadius)instanceof za&&t&&(e=ha(e.value*t.innerRadiusModifyer*100));return e},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelInnerRadius",{get:function(){return db(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t,e){var i=ma(this.positionToCoordinate(t),0,1/0);return{x:i*ja(this.axisAngle),y:i*ia(this.axisAngle)}},e.prototype.updateAxisLine=function(){this.line.path=ka({x:this.pixelInnerRadius*ja(this.axisAngle),y:this.pixelInnerRadius*ia(this.axisAngle)})+ea({x:this.pixelRadius*ja(this.axisAngle),y:this.pixelRadius*ia(this.axisAngle)});var t=this.axis.title;t.valign="none",t.horizontalCenter="middle",t.verticalCenter="bottom",t.y=-this.axisLength/2;var e=90;this.opposite?this.inside||(e=-90):this.inside&&(e=-90),t.rotation=e},e.prototype.updateGridElement=function(t,e,i){e+=(i-e)*t.location;var r,o=this.positionToPoint(e),n=Ea(o),a=this.startAngle,p=this.endAngle;if(aa(n)&&t.element){var l=this.chart,s=l.xAxes.getIndex(0),$=0,h=l.series.getIndex(0);if(h&&($=h.dataItems.length),"polygons"==this.gridType&&$>0&&h&&s&&s instanceof Xa){var u=s.renderer.grid.template.location,m=s.getAngle(h.dataItems.getIndex(0),"categoryX",u);r=ka({x:n*ja(m),y:n*ia(m)});for(var c=1;c<$;c++)m=s.getAngle(h.dataItems.getIndex(c),"categoryX",u),r+=ea({x:n*ja(m),y:n*ia(m)});m=s.getAngle(h.dataItems.getIndex($-1),"categoryX",s.renderer.cellEndLocation),r+=ea({x:n*ja(m),y:n*ia(m)})}else r=ka({x:n*ja(a),y:n*ia(a)})+cb(a,p-a,n,n);t.path=r}this.toggleVisibility(t,e,0,1)},e.prototype.updateLabelElement=function(t,e,i,r){ba(r)||(r=t.location),e+=(i-e)*r;var o=this.positionToPoint(e);this.positionItem(t,o),this.toggleVisibility(t,e,this.minLabelPosition,this.maxLabelPosition)},e.prototype.updateBaseGridElement=function(){},e.prototype.fitsToBounds=function(t){return!0},Object.defineProperty(e.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t)&&this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(t){this.setPropertyValue("axisAngle",yc(t)),this.invalidateAxisItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridType",{get:function(){return this.chart.xAxes.getIndex(0)instanceof Xa?this.getPropertyValue("gridType"):"circles"},set:function(t){this.setPropertyValue("gridType",t,!0)},enumerable:!0,configurable:!0}),e.prototype.getPositionRangePath=function(t,e){var i,r=this.pixelInnerRadius,o=this.axisLength+r,n=ma(this.positionToCoordinate(t),r,o),a=ma(this.positionToCoordinate(e),r,o),p=this.startAngle,l=this.endAngle-p,s=this.chart,$=s.xAxes.getIndex(0),h=s.series.getIndex(0),u=0;if(h&&(u=h.dataItems.length),"polygons"==this.gridType&&u>0&&h&&$&&$ instanceof Xa){var m=$.renderer.grid.template.location,c=$.getAngle(h.dataItems.getIndex(0),"categoryX",m);i=ka({x:a*ja(c),y:a*ia(c)});for(var d=1;d<u;d++)c=$.getAngle(h.dataItems.getIndex(d),"categoryX",m),i+=ea({x:a*ja(c),y:a*ia(c)});c=$.getAngle(h.dataItems.getIndex(u-1),"categoryX",$.renderer.cellEndLocation),i+=ea({x:a*ja(c),y:a*ia(c)}),i+=ka({x:n*ja(c),y:n*ia(c)});for(d=u-1;d>=0;d--)c=$.getAngle(h.dataItems.getIndex(d),"categoryX",m),i+=ea({x:n*ja(c),y:n*ia(c)})}else i=fd(p,l,a,n);return i},e.prototype.updateBreakElement=function(t){var e=t.startLine,i=t.endLine,r=t.fillShape,o=t.startPoint,n=t.endPoint;e.radius=Math.abs(o.y),i.radius=Math.abs(n.y),r.radius=Math.abs(n.y),r.innerRadius=Math.abs(o.y)},e.prototype.createBreakSprites=function(t){t.startLine=new Le,t.endLine=new Le,t.fillShape=new Le},e.prototype.updateTooltip=function(){if(this.axis){var t=this.axisAngle;t<0&&(t+=360);var e="vertical";(t>45&&t<135||t>225&&t<315)&&(e="horizontal"),this.axis.updateTooltip(e,{x:-4e3,y:-4e3,width:8e3,height:8e3})}},e.prototype.updateTickElement=function(t,e,i){e+=(i-e)*t.location;var r=this.positionToPoint(e);if(t.element){var o=yc(this.axisAngle+90);o/90!=Math.round(o/90)?t.pixelPerfect=!1:t.pixelPerfect=!0;var n=-t.length;t.inside&&(n*=-1),t.path=ka({x:0,y:0})+ea({x:n*ja(o),y:n*ia(o)})}this.positionItem(t,r),this.toggleVisibility(t,e,0,1)},e.prototype.updateBullet=function(t,e,i){var r=.5;t instanceof Wd&&(r=t.location),e+=(i-e)*r;var o=this.positionToPoint(e);this.positionItem(t,o),this.toggleVisibility(t,e,0,1)},e.prototype.positionToCoordinate=function(t){var e,i=this.axis,r=i.axisFullLength,o=this.pixelInnerRadius;return e=i.renderer.inversed?(i.end-t)*r+o:(t-i.start)*r+o,ga(e,1)},e.prototype.pointToPosition=function(t){var e=Ea(t)-this.pixelInnerRadius;return this.coordinateToPosition(e)},Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart.get()},set:function(t){this._chart.set(t,null)},enumerable:!0,configurable:!0}),e}(Qb);ca.registeredClasses.AxisRendererRadial=sj;var jo=function(e){function t(){var t=e.call(this)||this;return t.className="RadarChartDataItem",t.applyTheme(),t}return da(t,e),t}(Bg);var tj=function(e){function t(){var t=e.call(this)||this;t._axisRendererX=rj,t._axisRendererY=sj,t.innerRadiusModifyer=1,t.className="RadarChart",t.startAngle=-90,t.endAngle=270,t.radius=ha(80),t.innerRadius=0;var r=t.plotContainer.createChild(na);return r.shouldClone=!1,r.layout="absolute",r.align="center",r.valign="middle",t.seriesContainer.parent=r,t.radarContainer=r,t.bulletsContainer.parent=r,t.axisBulletsContainer=r,t._cursorContainer=r,t.chartContainer.events.on("maxsizechanged",t.invalidate,t,!1),t._bulletMask=r.createChild(Fc),t._bulletMask.shouldClone=!1,t._bulletMask.element=t.paper.add("path"),t._bulletMask.opacity=0,t.applyTheme(),t}return da(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"))},t.prototype.processAxis=function(t){e.prototype.processAxis.call(this,t);var r=t.renderer;r.gridContainer.parent=r,r.breakContainer.parent=r,t.parent=this.radarContainer,r.toBack()},t.prototype.handleXAxisRangeChange=function(){e.prototype.handleXAxisRangeChange.call(this),fa(this.yAxes.iterator(),function(e){e.invalidate()})},t.prototype.handleYAxisRangeChange=function(){e.prototype.handleYAxisRangeChange.call(this),fa(this.xAxes.iterator(),function(e){e.invalidate()})},t.prototype.processConfig=function(t){if(t&&(ba(t.cursor)&&!ba(t.cursor.type)&&(t.cursor.type="RadarCursor"),ba(t.series)&&ab(t.series)))for(var r=0,a=t.series.length;r<a;r++)t.series[r].type=t.series[r].type||"RadarSeries";e.prototype.processConfig.call(this,t)},t.prototype.beforeDraw=function(){e.prototype.beforeDraw.call(this);var t=this.plotContainer,r=Wb(this.startAngle,this.endAngle,1),a={x:0,y:0,width:0,height:0},i=t.innerWidth/r.width,n=t.innerHeight/r.height,s=this.innerRadius;if(s instanceof za){var o=s.value,l=Math.min(i,n);this.mr=l,o=Math.max(l*o,l-Math.min(t.innerHeight,t.innerWidth))/l,a=Wb(this.startAngle,this.endAngle,o),this.innerRadiusModifyer=o/s.value,s=ha(100*o)}r=yd([r,a]);var p=Math.min(t.innerWidth/r.width,t.innerHeight/r.height),$=2*db(this.radius,p)||0,h=$/2,u=this.startAngle,d=this.endAngle;this._pixelInnerRadius=db(s,h),this._bulletMask.path=fd(u,d-u,h,this._pixelInnerRadius),fa(this.xAxes.iterator(),function(e){e.renderer.useChartAngles&&(e.renderer.startAngle=u,e.renderer.endAngle=d),e.width=$,e.height=$,e.renderer.pixelRadiusReal=h}),fa(this.yAxes.iterator(),function(e){e.renderer.startAngle=u,e.renderer.endAngle=d,e.width=$,e.height=$,e.renderer.pixelRadiusReal=h});var c=this.cursor;c&&(c.width=$,c.height=$,c.startAngle=u,c.endAngle=d),this.radarContainer.definedBBox={x:h*r.x,y:h*r.y,width:h*r.width,height:h*r.height},this.radarContainer.validatePosition()},t.prototype.createSeries=function(){return new oj},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.updateXAxis=function(e){e&&e.processRenderer()},t.prototype.updateYAxis=function(e){e&&e.processRenderer()},t}(bc);ca.registeredClasses.RadarChart=tj;var uj=function(e){function t(){var t=e.call(this)||this;t._axis=new bb,t.className="ClockHand";var i=new Ba;t.fill=i.getFor("alternativeBackground"),t.stroke=t.fill;var r=new Fc;r.radius=5,t.pin=r,t.isMeasured=!1,t.startWidth=5,t.endWidth=1,t.width=ha(100),t.height=ha(100),t.radius=ha(100),t.innerRadius=ha(0);var a=new Ui;return t.hand=a,t._disposers.push(t._axis),t.applyTheme(),t}return da(t,e),t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.hand;t.width=this.pixelWidth;var i=Math.max(this.startWidth,this.endWidth);if(t.height=i,t.leftSide=ha(this.startWidth/i*100),t.rightSide=ha(this.endWidth/i*100),this.axis){var r=this.axis.renderer,a=db(this.innerRadius,r.pixelRadius),n=db(this.radius,r.pixelRadius);t.x=a,t.y=-i/2,t.width=n-a}},Object.defineProperty(t.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e)},enumerable:!0,configurable:!0}),t.prototype.showValue=function(e,t,i){if(this._value=e,null!=e&&(aa(t)||(t=0),this.axis)){var r=this.axis.renderer.positionToAngle(this.axis.anyToPosition(e)),a=this.rotation;"clockWise"==this.rotationDirection&&r<a&&(this.rotation=a-360),"counterClockWise"==this.rotationDirection&&r>a&&(this.rotation=a+360),this.animate({property:"rotation",to:r},t,i)}},Object.defineProperty(t.prototype,"currentPosition",{get:function(){if(this.axis)return this.axis.renderer.angleToPosition(this.rotation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new Pa([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var t=e.chart;t&&(this.rotation=t.startAngle)}this.parent=e.renderer,this.zIndex=5},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.value=this.value},t.prototype.processConfig=function(t){t&&ba(t.axis)&&wa(t.axis)&&this.map.hasKey(t.axis)&&(t.axis=this.map.getKey(t.axis)),e.prototype.processConfig.call(this,t)},t}(na);ca.registeredClasses.ClockHand=uj;var g=function(e){function t(){var t=e.call(this)||this;return t.className="GaugeChartDataItem",t.applyTheme(),t}return da(t,e),t}(jo);var ko=function(e){function t(){var t=e.call(this)||this;return t.className="GaugeChart",t.startAngle=180,t.endAngle=360,t.hands=new Ra(new uj()),t.hands.events.on("inserted",t.processHand,t,!1),t._disposers.push(new Ja(t.hands)),t._disposers.push(t.hands.template),t.applyTheme(),t}return da(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"))},t.prototype.processHand=function(e){var t=e.newValue;t.axis||(t.axis=this.xAxes.getIndex(0))},t.prototype.configOrder=function(t,r){return t==r?0:"hands"==t?1:"hands"==r?-1:e.prototype.configOrder.call(this,t,r)},t}(tj);ca.registeredClasses.GaugeChart=ko;var Ze=function(e){function t(){var t=e.call(this)||this;return t.className="PercentSeriesDataItem",t.applyTheme(),t}return da(t,e),t.prototype.uidAttr=function(){return this.slice.uidAttr()},t.prototype.hide=function(t,r,i,o){return o||(o=["value"]),e.prototype.hide.call(this,t,r,0,o)},t.prototype.setVisibility=function(t,r){r||(t?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),e.prototype.setVisibility.call(this,t,r)},t.prototype.show=function(t,r,i){return i||(i=["value"]),e.prototype.show.call(this,t,r,i)},Object.defineProperty(t.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){var e=this;if(!this._tick){var t=this.component.ticks.create();this._tick=t,this.addSprite(t),this._disposers.push(t),t.parent=this.component.ticksContainer,this._disposers.push(new Ga(function(){e.component&&e.component.ticks.removeValue(t)})),t.visible=this.visible}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this.addSprite(t),this._label=t,this._disposers.push(t),t.parent=this.component.labelsContainer,this._disposers.push(new Ga(function(){e.component&&e.component.labels.removeValue(t)})),t.visible=this.visible}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){var e=this;if(!this._slice){var t=this.component,r=t.slices.create();this.addSprite(r),this._slice=r,this._disposers.push(r),r.parent=t.slicesContainer,this._disposers.push(new Ga(function(){t.slices.removeValue(r)})),r.visible=this.visible,t.itemsFocusable()?(this.component.role="menu",r.role="menuitem",r.focusable=!0):(this.component.role="list",r.role="listitem",r.focusable=!1),r.focusable&&(r.events.on("focus",function(i){r.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),r.events.on("blur",function(e){r.readerTitle=""},void 0,!1)),r.hoverable&&(r.events.on("over",function(i){r.readerTitle=t.populateString(t.itemReaderText,e)},void 0,!1),r.events.on("out",function(e){r.readerTitle=""},void 0,!1))}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e)},enumerable:!0,configurable:!0}),t}(Pe);var Xd=function(e){function t(){var t=e.call(this)||this;t.className="PercentSeries",t._addAllDataItems=!1,t.colors=new Rd,t.colors.step=1,t.isMeasured=!0,t.calculatePercent=!0;var r=t.createChild(na);r.shouldClone=!1,r.isMeasured=!1,t.slicesContainer=r;var i=t.createChild(na);i.shouldClone=!1,i.isMeasured=!1,i.layout="none",t.ticksContainer=i;var o=t.createChild(na);return o.shouldClone=!1,o.isMeasured=!1,o.layout="none",t.labelsContainer=o,t.alignLabels=!1,t.bulletsContainer.toFront(),t.skipFocusThreshold=50,t.defaultState.transitionEasing=mi,t.itemReaderText="{category}: {value.percent.formatNumber('#.#')}%",t.applyTheme(),t}return da(t,e),t.prototype.createSlice=function(){return new sa},t.prototype.createTick=function(){return new Vd},t.prototype.createLabel=function(){return new vb},Object.defineProperty(t.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new Ra(e),this._disposers.push(new Ja(this._slices))}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new Ra(e),this._disposers.push(new Ja(this._ticks))}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new Ra(e),this._disposers.push(new Ja(this._labels))}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createDataItem=function(){return new Ze},t.prototype.initSlice=function(e){},t.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0')}%",e.isMeasured=!1,e.padding(5,5,5,5)},t.prototype.initTick=function(e){},t.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),e.prototype.validateDataItems.call(this)},t.prototype.validateDataElement=function(t){var r=t.slice;r&&(null==r.fill?this.patterns?(ba(r.stroke)||(r.stroke=this.colors.next()),r.fill=this.patterns.next(),ba(r.fillOpacity)&&(r.fill.backgroundOpacity=r.fillOpacity),r.stroke instanceof Ca&&(r.fill.stroke=r.stroke,r.fill.fill=r.stroke)):r.fill=this.colors.next():this.colors.currentStep+=this.colors.step,null==r.stroke&&(r.stroke=r.fill)),e.prototype.validateDataElement.call(this,t),r&&t.bullets.each(function(e,t){null==t.fill&&(t.fill=r.fill),null==t.stroke&&(t.stroke=r.stroke)}),this.updateLegendValue(t)},t.prototype.validateData=function(){e.prototype.validateData.call(this),this.chart&&this.chart.feedLegend()},t.prototype.arrangeLabels=function(e){for(var t=0,r=e.length;t<r;t++){var i=e[t].label;if(i){i.invalid&&i.validate();var o=i.measuredHeight;i.visible||(o=0),i.pixelY-o/2<-this.maxHeight/2&&(i.y=-this.maxHeight/2+o/2);var s=this.getNextLabel(t+1,e),l=i.pixelY+o;s&&s.y<l&&(s.y=l)}}},t.prototype.arrangeLabels2=function(e){for(var t=this.maxHeight/2,r=e.length-1;r>=0;r--){var i=e[r].label;if(i){i.invalid&&i.validate();var o=i.measuredHeight;i.visible||(o=0),r==e.length-1&&(t+=o/2),i.pixelY+o>t&&(i.y=t-o,t=i.y)}}},t.prototype.getNextLabel=function(e,t){if(t.length>=e){var r=t[e];if(r)return r.label&&r.visible?r.label:this.getNextLabel(e+1,t)}},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e,t){fa(e.children.iterator(),function(r){var i=t.slice;r.defaultState.properties.fill=i.fill,r.defaultState.properties.stroke=i.stroke,r.defaultState.properties.fillOpacity=i.fillOpacity,r.defaultState.properties.strokeOpacity=i.strokeOpacity,r.fill=i.fill,r.stroke=i.stroke,r.fillOpacity=i.fillOpacity,r.strokeOpacity=i.strokeOpacity,null==r.fill&&(r.__disabled=!0);var o=e.dataItem;o.color=i.fill,o.colorOrig=i.fill,r.addDisposer(i.events.on("propertychanged",function(e){"fill"==e.property&&(r.__disabled=!1,r.isActive||(r.fill=i.fill),r.defaultState.properties.fill=i.fill,o.color=i.fill,o.colorOrig=i.fill),"stroke"==e.property&&(r.isActive||(r.stroke=i.stroke),r.defaultState.properties.stroke=i.stroke)},void 0,!1))})},t.prototype.handleSliceScale=function(e){var t=this,r=e.target.dataItem;fa(r.bullets.iterator(),function(e){var r=e[1];t.positionBullet(r)})},t.prototype.handleSliceMove=function(e){},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.slices.template.copyFrom(t.slices.template),this.labels.template.copyFrom(t.labels.template),this.ticks.template.copyFrom(t.ticks.template),this.colors=t.colors.clone()},Object.defineProperty(t.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e)},enumerable:!0,configurable:!0}),t.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0)},Object.defineProperty(t.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0)},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e){if(e){var t=e.legendDataItem,r=e.legendSettings;t&&r&&r&&(r.labelText&&(t.label.text=r.labelText),r.itemLabelText&&(t.label.text=r.itemLabelText),r.valueText&&(t.valueLabel.text=r.valueText),r.itemValueText&&(t.valueLabel.text=r.itemValueText))}},t}(Qe);ca.registeredClasses.PercentSeries=Xd,ca.registeredClasses.PercentSeriesDataItem=Ze,gb.push({relevant:pb.maybeXS,state:function(e,t){if(e instanceof Xd){var r=e.states.create(t);return e.labels.template.states.create(t).properties.disabled=!0,e.ticks.template.states.create(t).properties.disabled=!0,r}return null}});var Eg=function(e){function t(){var t=e.call(this)||this;return t.className="PercentChartDataItem",t.applyTheme(),t}return da(t,e),t}(gj);var Fg=function(e){function t(){var t=e.call(this)||this;return t.className="PercentChart",t.align="none",t.valign="none",t.chartContainer.minHeight=50,t.chartContainer.minWidth=50,t.applyTheme(),t}return da(t,e),t.prototype.validateData=function(){e.prototype.validateData.call(this),this.feedLegend()},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];fa(this.series.iterator(),function(e){e.hiddenInLegend||fa(e.dataItems.iterator(),function(r){r.hiddenInLegend||(t.push(r),r.legendSettings||(r.legendSettings=e.legendSettings))})}),e.data=t,e.dataFields.name="category"}},t.prototype.createSeries=function(){return new Xd},t.prototype.setLegend=function(t){e.prototype.setLegend.call(this,t),t&&(t.labels.template.text="{category}",t.valueLabels.template.text="{value.percent.formatNumber('#.0')}%",t.itemContainers.template.events.on("over",function(e){var t=e.target.dataItem.dataContext;if(t.visible&&!t.isHiding){var r=t.slice;r.dispatchImmediately("over"),r.isHover=!0,r.interactions.isRealHover=!0}}),t.itemContainers.template.events.on("out",function(e){var t=e.target.dataItem.dataContext.slice;t.dispatchImmediately("out"),t.isHover=!1}))},t}(xg);ca.registeredClasses.PercentChart=Fg,ca.registeredClasses.PercentChartDataItem=Eg;var vj=function(e){function i(){var i=e.call(this)||this;return i._label=new bb,i._slice=new bb,i.className="PieTick",i.element=i.paper.add("polyline"),i._disposers.push(i._label),i._disposers.push(i._slice),i.applyTheme(),i}return da(i,e),i.prototype.draw=function(){e.prototype.draw.call(this);var i=this.slice,t=this.label,r=i.dataItem.component;if(i&&i.radius>0&&t&&t.text){var s=i.dx+i.slice.dx+i.pixelX+i.ix*i.radius*i.scale,n=i.dy+i.slice.dy+i.pixelY+i.iy*i.radiusY*i.scale,l=void 0,a=void 0,o=void 0,p=void 0;if(r.alignLabels)l=t.pixelX-this.length,a=t.pixelY,o=t.pixelX,p=a,"right"==t.horizontalCenter&&(o=(l+=2*this.length)-this.length);else{var c=t.pixelRadius(i.radius);o=l=s+c*i.ix,p=a=n+c*i.iy}this.element.attr({points:[s,n,l,a,o,p]})}},Object.defineProperty(i.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Pa([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),i}(Vd);ca.registeredClasses.PieTick=vj;var Gg=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeriesDataItem",t.values.radiusValue={},t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e)},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,i,r,a){return e.prototype.hide.call(this,t,i,0,["value","radiusValue"])},t.prototype.show=function(t,i,r){return e.prototype.show.call(this,t,i,["value","radiusValue"])},t}(Ze);var Hg=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries",t.alignLabels=!0,t.layout="none",t.labels.template.radius=ha(5),t.addDisposer(t.labels.template.events.on("enabled",t.invalidate,t,!1)),t.applyTheme(),t}return da(t,e),t.prototype.createSlice=function(){return new Hc},t.prototype.createTick=function(){return new vj},t.prototype.createLabel=function(){return new Ye},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"))},t.prototype.createDataItem=function(){return new Gg},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",e.states.create("hover").properties.scale=1.05,e.defaultState.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",function(e){e.target.hideTooltip()}),e.states.create("active").properties.shiftRadius=.1},t.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=Wb(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var t=this.startIndex;t<this.endIndex;t++){var i=this.dataItems.getIndex(t).values.radiusValue.percent;i>this._maxRadiusPercent&&(this._maxRadiusPercent=i)}e.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort(function(e,t){var i=(e.slice.middleAngle+360)%360,r=(t.slice.middleAngle+360)%360;return i>270&&(i-=360),r>270&&(r-=360),i<r?-1:1}),this._leftItems.sort(function(e,t){return(e.slice.middleAngle+360)%360<(t.slice.middleAngle+360)%360?1:-1}),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems))},t.prototype.validateDataElement=function(t){if(this.pixelRadius>0){this.ignoreZeroValues&&0==t.value?t.__disabled=!0:t.__disabled=!1;var i=t.slice;if(i.radius=this.pixelRadius,aa(t.radiusValue)&&(i.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*t.values.radiusValue.percent/this._maxRadiusPercent),i.innerRadius instanceof za||(i.innerRadius=this.pixelInnerRadius),i.startAngle=this._currentStartAngle,i.arc=Math.abs(t.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var r=t.label,a=t.tick;a.slice=i,a.label=r;var s=(i.middleAngle+360)%360,n=void 0;if(this.alignLabels){var l=r.pixelRadius(i.radius),o=a.length+l;r.dx=0,r.dy=0,r.verticalCenter="middle";var u=this._arcRect;s>270||s<=90?(o+=(u.width+u.x)*this.pixelRadius,r.horizontalCenter="left",this._rightItems.push(t)):(o-=u.x*this.pixelRadius,r.horizontalCenter="right",this._leftItems.push(t),o*=-1);var p=i.radius+a.length+l;n={x:o,y:i.iy*p},r.moveTo(n)}else{var c=i.depth;aa(c)||(c=0),r.fixPosition(i.middleAngle,i.radius,i.radiusY,0,-c)}}this._currentStartAngle+=i.arc,e.prototype.validateDataElement.call(this,t)}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return aa(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",yc(e),!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return aa(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem.slice,r=t.locationX;aa(r)||(r=.5);var a=t.locationY;aa(a)||(a=1);var s=i.startAngle+i.arc*r;t.x=a*i.radius*ja(s),t.y=a*i.radiusY*ia(s)},t.prototype.handleSliceMove=function(e){if(!this.alignLabels){var t=e.target,i=t.dataItem;if(i){var r=i.label;r&&(r.dx=r.fdx+t.dx+t.pixelX,r.dy=r.fdy+t.dy+t.pixelY)}}},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?Wb(e.startAngle,e.endAngle,this.pixelRadius):Wb(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),t}(Xd);ca.registeredClasses.PieSeries=Hg,ca.registeredClasses.PieSeriesDataItem=Gg;var wj=function(e){function t(){var t=e.call(this)||this;return t.className="PieChartDataItem",t.applyTheme(),t}return da(t,e),t}(Eg);var xj=function(e){function t(){var t=e.call(this)||this;t.className="PieChart",t.innerRadius=0,t.radius=ha(80),t.align="none",t.valign="none",t.startAngle=-90,t.endAngle=270;var r=t.seriesContainer;return r.isMeasured=!0,r.valign="middle",r.align="center",r.layout="absolute",r.width=void 0,r.height=void 0,t.chartContainer.minHeight=50,t.chartContainer.minWidth=50,t.chartContainer.events.on("maxsizechanged",t.updateRadius,t,!1),t.applyTheme(),t}return da(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"))},t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.updateRadius()},t.prototype.handleSeriesAdded=function(t){e.prototype.handleSeriesAdded.call(this,t),this._chartPixelRadius=void 0,this.updateSeriesAngles()},t.prototype.updateSeriesAngles=function(){var e=this;this.series.each(function(t){t._startAngleInternal=e.startAngle,t._endAngleInternal=e.endAngle})},t.prototype.updateRadius=function(){var e=this.chartContainer,t=Wb(this.startAngle,this.endAngle,1),r={x:0,y:0,width:0,height:0},i=this.innerRadius;i instanceof za&&(r=Wb(this.startAngle,this.endAngle,i.value)),t=yd([t,r]);var a=Math.min(e.innerWidth/t.width,e.innerHeight/t.height);aa(a)||(a=0);var n=db(this.radius,a),s=db(this.innerRadius,a),d=(n-s)/this.series.length;n==this._chartPixelRadius&&s==this._chartPixelInnerRadius||(this._chartPixelRadius=n,this._chartPixelInnerRadius=s,fa(Ac(this.series.iterator()),function(e){var t=e[0],r=e[1],i=s+db(r.radius,n-s),a=s+db(r.innerRadius,n-s);aa(i)||(i=s+d*(t+1)),aa(a)||(a=s+d*t),r.pixelRadius=i,r.pixelInnerRadius=a}),this.seriesContainer.definedBBox={x:n*t.x,y:n*t.y,width:n*t.width,height:n*t.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y)},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new Hg},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles())},enumerable:!0,configurable:!0}),t}(Fg);ca.registeredClasses.PieChart=xj,ca.registeredClasses.PieChartDataItem=wj;var yj=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries3DDataItem",t.values.depthValue={},t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e)},enumerable:!0,configurable:!0}),t}(Gg);var zj=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries3D",t.applyTheme(),t}return da(t,e),t.prototype.createDataItem=function(){return new yj},t.prototype.createSlice=function(){return new Wn},t.prototype.validateDataElement=function(t){var r=t.slice,i=this.depth;aa(i)||(i=this.chart.depth);var a=t.values.depthValue.percent;aa(a)||(a=100),r.depth=a*i/100;var o=this.angle;aa(o)||(o=this.chart.angle),r.angle=o,e.prototype.validateDataElement.call(this,t)},t.prototype.validate=function(){e.prototype.validate.call(this);for(var t=this._workingStartIndex;t<this._workingEndIndex;t++){var r=this.dataItems.getIndex(t).slice,i=r.startAngle;i>=-90&&i<90?r.toFront():i>=90&&r.toBack()}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e)},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var r=t.dataItem.slice;t.y=t.pixelY-r.depth},t}(Hg);ca.registeredClasses.PieSeries3D=zj,ca.registeredClasses.PieSeries3DDataItem=yj;var h=function(e){function t(){var t=e.call(this)||this;return t.className="PieChart3DDataItem",t.applyTheme(),t}return da(t,e),t}(wj);var lo=function(e){function t(){var t=e.call(this)||this;return t.className="PieChart3D",t.depth=20,t.angle=10,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=ma(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers()},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new zj},t}(xj);ca.registeredClasses.PieChart3D=lo;var mo=function(r){function t(){var t=r.call(this)||this;return t.className="SlicedChartDataItem",t.applyTheme(),t}return da(t,r),t}(Eg);var no=function(r){function t(){var t=r.call(this)||this;return t.className="SlicedChart",t.seriesContainer.layout="horizontal",t.padding(15,15,15,15),t.applyTheme(),t}return da(t,r),t.prototype.applyInternalDefaults=function(){r.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"))},t.prototype.validate=function(){r.prototype.validate.call(this)},t}(Fg);ca.registeredClasses.SlicedChart=no,ca.registeredClasses.SlicedChartDataItem=mo;var $e=function(e){function t(){var t=e.call(this)||this;return t.legendSettings=new fj,t.className="FlowDiagramNode",t.isMeasured=!1,new Ba,t.draggable=!0,t.inert=!0,t.setStateOnChildren=!0,t.events.on("positionchanged",t.invalidateLinks,t,!1),t.events.on("sizechanged",t.invalidateLinks,t,!1),t}return da(t,e),t.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide()},t.prototype.show=function(t){var r=e.prototype.show.call(this,t);return this.outgoingDataItems.each(function(e){(!e.toNode||e.toNode&&!e.toNode.isHidden)&&e.setWorkingValue("value",e.getValue("value"),t)}),this.incomingDataItems.each(function(e){(!e.fromNode||e.fromNode&&!e.fromNode.isHidden)&&e.setWorkingValue("value",e.getValue("value"),t)}),r},t.prototype.hide=function(t){var r=e.prototype.hide.call(this,t);return this.outgoingDataItems.each(function(e){e.setWorkingValue("value",0,t)}),this.incomingDataItems.each(function(e){e.setWorkingValue("value",0,t)}),r},t.prototype.validate=function(){this.isDisposed()||(e.prototype.validate.call(this),this.invalidateLinks())},t.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each(function(t){var r=t.link;if("fromNode"==r.colorMode&&(r.fill=r.dataItem.fromNode.color),"gradient"==r.colorMode){r.fill=r.gradient,r.stroke=r.gradient;var o=r.gradient.stops.getIndex(0);o&&(o.color=e.color,r.gradient.validate())}}),this.incomingDataItems.each(function(t){var r=t.link;if("toNode"==r.colorMode&&(r.fill=r.dataItem.toNode.color),"gradient"==r.colorMode){r.fill=r.gradient,r.stroke=r.gradient;var o=r.gradient.stops.getIndex(1);o&&(o.color=e.color,r.gradient.validate())}})},Object.defineProperty(t.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var t=new Aa;t.events.on("inserted",function(){"name"==e.chart.sortBy?e._incomingSorted=$c(e._incomingDataItems.iterator(),function(e,t){return Kf(e.fromName,t.fromName)}):"value"==e.chart.sortBy?e._incomingSorted=$c(e._incomingDataItems.iterator(),function(e,t){return Mf(Yb(e.value,t.value))}):e._incomingSorted=e._incomingDataItems.iterator()},void 0,!1),this._incomingDataItems=t}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var t=new Aa;t.events.on("inserted",function(){"name"==e.chart.sortBy?e._outgoingSorted=$c(e._outgoingDataItems.iterator(),function(e,t){return Kf(e.fromName,t.fromName)}):"value"==e.chart.sortBy?e._outgoingSorted=$c(e._outgoingDataItems.iterator(),function(e,t){return Mf(Yb(e.value,t.value))}):e._outgoingSorted=e._outgoingDataItems.iterator()},void 0,!1),this._outgoingDataItems=t}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var o=e.createChild(_b);o.shouldClone=!1,Wa(this,o,Ua),o.stroke=this.fill,o.copyFrom(this),o.padding(0,0,0,0),o.width=t,o.height=r;var i=e.dataItem;i.color=o.fill,i.colorOrig=o.fill},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate()},enumerable:!0,configurable:!0}),t}(na);ca.registeredClasses.FlowDiagramNode=$e;var _e=function(e){function t(){var t=e.call(this)||this;t.className="FlowDiagramLink";var i=new Ba;return t.maskBullets=!1,t.colorMode="fromNode",t.layout="none",t.isMeasured=!1,t.startAngle=0,t.endAngle=0,t.strokeOpacity=0,t.verticalCenter="none",t.horizontalCenter="none",t.tooltipText="{fromName}\u2192{toName}:{value.value}",t.tooltipLocation=.5,t.link=t.createChild(sa),t.link.shouldClone=!1,t.link.setElement(t.paper.add("path")),t.link.isMeasured=!1,t.fillOpacity=.2,t.fill=i.getFor("alternativeBackground"),t.applyTheme(),t}return da(t,e),t.prototype.positionBullets=function(){var e=this;fa(this.bullets.iterator(),function(t){t.parent=e.bulletsContainer,t.maxWidth=e.maxWidth,t.maxHeight=e.maxHeight,e.positionBullet(t)})},Object.defineProperty(t.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(na);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(sa);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e}return this._bulletsMask},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){var t=e.locationX;aa(t)||(t=e.locationY),aa(t)||(t=.5);var i=this.middleLine.positionToPoint(t);e.moveTo(i);var r,o=e.propertyFields.rotation;e.dataItem&&(r=e.dataItem.dataContext[o]);aa(r)||(r=i.angle),e.rotation=r},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if("gradient"==e){var t=this.fill;this.gradient.stops.clear(),t instanceof Ca&&(this.gradient.addColor(t),this.gradient.addColor(t)),this.fill=this.gradient,this.stroke=this.gradient}this.setPropertyValue("colorMode",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0)},enumerable:!0,configurable:!0}),t.prototype.setFill=function(t){e.prototype.setFill.call(this,t);var i=this._gradient;i&&t instanceof Ca&&(i.stops.clear(),i.addColor(t),i.addColor(t))},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new Ra(new ac()),this._disposers.push(new Ja(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",function(t){t.newValue.events.on("propertychanged",function(t){"locationX"!=t.property&&"locationY"!=t.property||e.positionBullet(t.target)},void 0,!1)},void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.bullets.copyFrom(t.bullets);var i=this.middleLine;i&&(i instanceof Pb&&t.middleLine instanceof Pb&&i.copyFrom(t.middleLine),i instanceof Pd&&t.middleLine instanceof Pd&&i.copyFrom(t.middleLine)),this.link.copyFrom(t.link)},t.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},t.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new Kb),this._gradient},enumerable:!0,configurable:!0}),t}(na);ca.registeredClasses.FlowDiagramLink=_e;var Ig=function(e){function t(){var t=e.call(this)||this;return t.className="FlowDiagramDataItem",t.values.value={},t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",Ib(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){var e=this;if(!this._link){var t=this.component.links.create();this._link=t,this.addSprite(t),this._disposers.push(new Ga(function(){e.component&&e.component.links.removeValue(t)}))}return this._link},enumerable:!0,configurable:!0}),t}(ej);var Jg=function(e){function t(){var t=e.call(this)||this;t.colors=new Rd,t.className="FlowDiagram",t.nodePadding=20,t.sortBy="none",t.sequencedInterpolation=!0,t.colors.step=2,t.minNodeSize=.02;var r=t.chartContainer.createChild(na);r.shouldClone=!1,r.layout="none",r.isMeasured=!1,t.linksContainer=r;var o=t.chartContainer.createChild(na);return o.shouldClone=!1,o.layout="none",o.isMeasured=!1,t.nodesContainer=o,t.dataItem=t.createDataItem(),t.dataItem.component=t,t.applyTheme(),t}return da(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.dataItem.dispose()},t.prototype.validateData=function(){var t=this;0==this._parseDataFrom&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),e.prototype.validateData.call(this);var r,o,i=0,a=0;fa(this.dataItems.iterator(),function(e){var n=e.fromName;n&&((s=t.nodes.getKey(n))||((s=t.nodes.create(n)).name=n,s.chart=t,s.dataItem=e),e.fromNode=s,e.fromNode.outgoingDataItems.push(e));var s,l=e.toName;l&&((s=t.nodes.getKey(l))||((s=t.nodes.create(l)).name=l,s.chart=t,s.dataItem=e),e.toNode=s,e.toNode.incomingDataItems.push(e));if(!e.fromNode){var p=new Me;p.opacities=[0,1],e.link.strokeModifier=p}if(!e.toNode){var u=new Me;u.opacities=[1,0],e.link.strokeModifier=u}var $=e.value;aa($)&&(i+=$,a++,(r>$||!aa(r))&&(r=$),(o<$||!aa(o))&&(o=$))});var n="value";this.dataItem.setCalculatedValue(n,o,"high"),this.dataItem.setCalculatedValue(n,r,"low"),this.dataItem.setCalculatedValue(n,i,"sum"),this.dataItem.setCalculatedValue(n,i/a,"average"),this.dataItem.setCalculatedValue(n,a,"count"),fa(this.nodes.iterator(),function(e){var r=e[1];r.fill instanceof Ca&&(r.color=r.fill),null==r.color&&(r.color=t.colors.next()),null!=r.dataItem.color&&(r.color=r.dataItem.color),r.dataItem.visible||r.hide(0),t.getNodeValue(r)}),this.sortNodes(),this.feedLegend()},t.prototype.handleDataItemWorkingValueChange=function(e,t){this.invalidate()},t.prototype.sortNodes=function(){"name"==this.sortBy?this._sorted=this.nodes.sortedIterator():"value"==this.sortBy?this._sorted=$c(this.nodes.iterator(),function(e,t){return Mf(Yb(e[1].total,t[1].total))}):this._sorted=this.nodes.iterator()},t.prototype.getNodeValue=function(e){var t=0,r=0;fa(e.incomingDataItems.iterator(),function(e){var r=e.getWorkingValue("value");aa(r)&&(t+=r)}),fa(e.outgoingDataItems.iterator(),function(e){var t=e.getWorkingValue("value");aa(t)&&(r+=t)}),e.total=t+r,e.totalIncoming=t,e.totalOutgoing=r},t.prototype.changeSorting=function(){this.sortNodes()},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"))},t.prototype.createDataItem=function(){return new Ig},Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",function(e){e.target.handleHit(e)}),this._nodes=new Cd(e),this._disposers.push(new Bc(this._nodes))}return this._nodes},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new $e;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"links",{get:function(){return this._links||(this._links=new Ra(this.createLink()),this._disposers.push(new Ja(this._links))),this._links},enumerable:!0,configurable:!0}),t.prototype.createLink=function(){var e=new _e;return this._disposers.push(e),e},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];this.nodes.each(function(e,r){t.push(r)}),e.data=t,e.dataFields.name="name"}},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this.nodes.clear()},t}(Jc);ca.registeredClasses.FlowDiagram=Jg;var Kg=function(e){function t(){var t=e.call(this)||this;t.className="LabelBullet";var r=t.createChild(vb);return r.shouldClone=!1,r.verticalCenter="middle",r.horizontalCenter="middle",r.truncate=!0,r.hideOversized=!1,r.maxWidth=500,r.maxHeight=500,r.stroke=oa(),r.strokeOpacity=0,r.fill=new Ba().getFor("text"),t.events.on("maxsizechanged",t.handleMaxSize,t,!1),t.label=r,t.applyTheme(),t}return da(t,e),t.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label)},t}(ac);ca.registeredClasses.LabelBullet=Kg;var Aj=function(e){function t(){var t=e.call(this)||this;t.nextInCoord=0,t.nextOutCoord=0,t.className="SankeyNode",t.width=10,t.height=10;var r=t.createChild(Kg);r.shouldClone=!1,r.locationX=1,r.locationY=.5,r.label.text="{name}",r.width=150,r.height=150,r.label.horizontalCenter="left",r.label.padding(0,5,0,5),t.nameLabel=r;var i=t.createChild(Kg);i.shouldClone=!1,i.label.hideOversized=!1,i.locationX=.5,i.locationY=.5,i.width=150,i.height=150,i.label.horizontalCenter="middle",t.valueLabel=i;var o=t.hiddenState;return o.properties.fill=new Ba().getFor("disabledBackground"),o.properties.opacity=.5,o.properties.visible=!0,t.background.hiddenState.copyFrom(o),t}return da(t,e),t.prototype.invalidateLinks=function(){var t=this;e.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var r=this.chart;if(r){var i=r.orientation;this._incomingSorted&&fa(this._incomingSorted,function(e){var o=e.link,a=e.getWorkingValue("value");if(aa(a)){o.parent=t.chart.linksContainer;var l=void 0,n=void 0,d=void 0;if("horizontal"==i?(l=t.pixelX+t.dx,n=t.nextInCoord+t.pixelY+t.dy,d=0):(n=t.pixelY+t.dy,l=t.nextInCoord+t.pixelX+t.dx,d=90),o.endX=l,o.endY=n,o.startAngle=d,o.endAngle=d,o.gradient.rotation=d,o.linkWidth=a*r.valueHeight,!e.fromNode){"horizontal"==i?(o.maxWidth=200,o.startX=t.pixelX+t.dx-o.maxWidth,o.startY=o.endY):(o.maxHeight=200,o.startX=o.endX,o.startY=t.pixelY+t.dy-o.maxHeight),ub(o.gradient),o.fill=e.toNode.color;var p=o.gradient.stops.getIndex(0);p&&("gradient"==o.colorMode&&(p.color=t.color),p.opacity=0,o.fill=o.gradient,o.stroke=o.gradient,o.gradient.validate())}t.nextInCoord+=o.linkWidth}}),this._outgoingSorted&&fa(this._outgoingSorted,function(e){var r=e.link;r.parent=t.chart.linksContainer;var o=e.getWorkingValue("value");if(aa(o)){var a=void 0,l=void 0,n=void 0;if("horizontal"==i?(n=0,a=t.pixelX+t.pixelWidth+t.dx-1,l=t.nextOutCoord+t.pixelY+t.dy):(n=90,a=t.nextOutCoord+t.pixelX+t.dx,l=t.pixelY+t.pixelHeight+t.dy-1),r.startX=a,r.startY=l,r.startAngle=n,r.endAngle=n,r.gradient.rotation=n,r.linkWidth=o*t.chart.valueHeight,!e.toNode){"horizontal"==i?(r.maxWidth=200,r.endX=t.pixelX+r.maxWidth+t.dx,r.endY=r.startY):(r.maxHeight=200,r.endX=r.startX,r.endY=t.pixelY+r.maxHeight+t.dy),r.opacity=t.opacity;var d=r.gradient.stops.getIndex(1);d&&("gradient"==r.colorMode&&(d.color=t.color),d.opacity=0,r.fill=r.gradient,r.stroke=r.gradient,r.gradient.validate())}t.nextOutCoord+=r.linkWidth}})}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel)},t.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY)},Object.defineProperty(t.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0)},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.nameLabel.copyFrom(t.nameLabel),this.valueLabel.copyFrom(t.valueLabel)},t}($e);ca.registeredClasses.SankeyNode=Aj;var Bj=function(t){function e(){var e=t.call(this)||this;return e.className="SankeyLink",new Ba,e.tension=.8,e.controlPointDistance=.2,e.startAngle=0,e.endAngle=0,e.linkWidth=0,e.startX=0,e.endX=0,e.startY=0,e.endY=0,e.middleLine=e.createChild(Ie),e.middleLine.shouldClone=!1,e.middleLine.strokeOpacity=0,e.applyTheme(),e}return da(e,t),e.prototype.validate=function(){if(t.prototype.validate.call(this),!this.isTemplate){var e=this.startX,i=this.startY,$=this.endX,r=this.endY;aa($)||($=e),aa(r)||(r=i);var o=this.startAngle,n=this.endAngle,s=this.linkWidth,a="",c=e,m=i,p=$,h=r,f=e+s*ia(o),l=$+s*ia(n),u=i+s*ja(o),y=r+s*ja(n),d=e+s/2*ia(o),g=$+s/2*ia(n),b=i+s/2*ja(o),P=r+s/2*ja(n);this.zIndex=this.zIndex||this.dataItem.index;var x=this.tension+(1-this.tension)*ia(o),k=this.tension+(1-this.tension)*ja(o);if(this.middleLine.tensionX=x,this.middleLine.tensionY=k,aa(s)&&aa(e)&&aa($)&&aa(i)&&aa(r)){ga(c,3)==ga(p,3)&&(p+=.01),ga(m,3)==ga(h,3)&&(h+=.01),ga(f,3)==ga(l,3)&&(l+=.01),ga(u,3)==ga(y,3)&&(y+=.01);var L=Math.min(f,l,c,p),V=Math.min(u,y,m,h),v=Math.max(f,l,c,p),X=Math.max(u,y,m,h);this._bbox={x:L,y:V,width:v-L,height:X-V};var Y=this.controlPointDistance,q=c+(p-c)*Y*ja(o),S=m+(h-m)*Y*ia(o),N=p-(p-c)*Y*ja(n),O=h-(h-m)*Y*ia(n),j=d+(g-d)*Y*ja(o),D=b+(P-b)*Y*ia(o),M=g-(g-d)*Y*ja(n),T=P-(P-b)*Y*ia(n),w=lb({x:q,y:S},{x:N,y:O}),C=(s/ja(w)-s)/Gh(w)*ja(o),A=(s/ia(w)-s)*Gh(w)*ia(o),I=-C/2+f+(l-f)*Y*ja(o),W=-A/2+u+(y-u)*Y*ia(o),_=-C/2+l-(l-f)*Y*ja(n),z=-A/2+y-(y-u)*Y*ia(n);this.middleLine.segments=[[{x:d,y:b},{x:j,y:D},{x:M,y:T},{x:g,y:P}]],q+=C/2,S+=A/2,N+=C/2,O+=A/2,a+=ka({x:c,y:m}),a+=new sc(x,k).smooth([{x:c,y:m},{x:q,y:S},{x:N,y:O},{x:p,y:h}]),a+=ea({x:l,y:y}),a+=new sc(x,k).smooth([{x:l,y:y},{x:_,y:z},{x:I,y:W},{x:f,y:u}]),a+=Va()}this.link.path=a,this.maskBullets&&(this.bulletsMask.path=a,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets()}},Object.defineProperty(e.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(t){this.setPropertyValue("startX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(t){this.setPropertyValue("endX",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(t){this.setPropertyValue("startY",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(t){this.setPropertyValue("endY",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(t){this.setPropertyValue("linkWidth",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(t){this.setPropertyValue("controlPointDistance",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(t){this.setPropertyValue("tension",t,!0)},enumerable:!0,configurable:!0}),e}(_e);ca.registeredClasses.SankeyLink=Bj;var oo=function(e){function t(){var t=e.call(this)||this;return t.className="SankeyDiagramDataItem",t.applyTheme(),t}return da(t,e),t}(Ig);var po=function(e){function t(){var t=e.call(this)||this;return t.className="SankeyDiagram",t.orientation="horizontal",t.nodeAlign="middle",t.nodesContainer.width=ha(100),t.nodesContainer.height=ha(100),t.linksContainer.width=ha(100),t.linksContainer.height=ha(100),t.applyTheme(),t}return da(t,e),t.prototype.validateData=function(){var t=this;e.prototype.validateData.call(this),this._levelCount=0,this.nodes.each(function(e,t){t.level=void 0}),this.nodes.each(function(e,i){i.level=t.getNodeLevel(i,0),t._levelCount=ua(t._levelCount,i.level)})},t.prototype.getNodeLevel=function(e,t){var i=this,a=[t];return fa(e.incomingDataItems.iterator(),function(e){e.fromNode&&(aa(e.fromNode.level)?a.push(e.fromNode.level+1):a.push(i.getNodeLevel(e.fromNode,t+1)))}),Math.max.apply(Math,Tc(a))},t.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var t,i,a,o=this.dataItem.values.value.sum;fa(this._sorted,function(t){var i=t[1];e.getNodeValue(i)}),this.nodes.each(function(t,i){var a=i.level,r=Math.max(i.totalIncoming,i.totalOutgoing);r/o<e.minNodeSize&&(r=o*e.minNodeSize),aa(e._levelSum[a])?e._levelSum[a]+=r:e._levelSum[a]=r,aa(e._levelNodesCount[a])?e._levelNodesCount[a]++:e._levelNodesCount[a]=1}),t="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,qa(this._levelSum,function(o,r){var n=r,l=e._levelNodesCount[o],s=(t-(l-1)*e.nodePadding)/n;s==1/0&&(s=0),(a>s||!aa(a))&&(a=s,e.maxSum=n,i=La(o))}),this._maxSumLevel=i;var r=this._levelNodesCount[this._maxSumLevel],n=(t-(r-1)*this.nodePadding)/this.maxSum;if(n==1/0&&(n=0),aa(this.valueHeight)){var l=void 0;try{l=this._heightAnimation.animationOptions[0].to}catch(h){}if(l!=n){var s=this.interpolationDuration;try{s=this.nodes.template.states.getKey("active").transitionDuration}catch(h){}this._heightAnimation=new Ob(this,{property:"valueHeight",from:this.valueHeight,to:n},s,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation)}}else this.valueHeight=n},t.prototype.validate=function(){var t=this;e.prototype.validate.call(this),this.calculateValueHeight();var i=this.nodesContainer,a={},o=this._levelNodesCount[this._maxSumLevel],r=this.dataItem.values.value.sum;fa(this._sorted,function(e){var n,l,s,h=e[1],p=h.level,$=0,u=t._levelNodesCount[p];switch(t.nodeAlign){case"bottom":$=(t.maxSum-t._levelSum[p])*t.valueHeight-(u-o)*t.nodePadding;break;case"middle":$=(t.maxSum-t._levelSum[p])*t.valueHeight/2-(u-o)*t.nodePadding/2;}h.parent=i;var m=Math.max(h.totalIncoming,h.totalOutgoing);if(m/r<t.minNodeSize&&(m=r*t.minNodeSize),"horizontal"==t.orientation){l=(n=(t.innerWidth-h.pixelWidth)/t._levelCount)*h.level,s=a[p]||$;var d=m*t.valueHeight;h.height=d,h.minX=l,h.maxX=l,a[p]=s+d+t.nodePadding}else{n=(t.innerHeight-h.pixelHeight)/t._levelCount,l=a[p]||$,s=n*h.level;var c=m*t.valueHeight;h.width=c,h.minY=s,h.maxY=s,a[p]=l+c+t.nodePadding}h.x=l,h.y=s})},t.prototype.showReal=function(t){var i=this;if(!this.preventShow){if(this.interpolationDuration>0){var a=this.nodesContainer,o=0;fa(this.links.iterator(),function(e){e.hide(0)}),fa(this._sorted,function(e){var t,r=e[1];"horizontal"==i.orientation?(r.dx=-(a.pixelWidth-r.pixelWidth)/Math.max(i._levelCount,1),t="dx"):(r.dy=-(a.pixelHeight-r.pixelHeight)/Math.max(i._levelCount,1),t="dy");var n=0,l=i.interpolationDuration;i.sequencedInterpolation&&(n=i.sequencedInterpolationDelay*o+l*o/Bl(i.nodes.iterator())),r.opacity=0,r.invalidateLinks(),r.animate([{property:"opacity",from:0,to:1},{property:t,to:0}],i.interpolationDuration,i.interpolationEasing).delay(n),fa(r.outgoingDataItems.iterator(),function(e){var t=e.link.show(i.interpolationDuration);t&&!t.isFinished()&&t.delay(n)}),fa(r.incomingDataItems.iterator(),function(e){if(!e.fromNode){var t=e.link.show(i.interpolationDuration);t&&!t.isFinished()&&t.delay(n)}}),o++})}return e.prototype.showReal.call(this)}},t.prototype.changeSorting=function(){var e=this;this.sortNodes();var t={};fa(this._sorted,function(i){var a,o,r=i[1],n=r.level,l=(e.maxSum-e._levelSum[n])*e.valueHeight/2;"horizontal"==e.orientation?(a="y",o=r.pixelHeight):(a="x",o=r.pixelWidth),r.animate({property:a,to:t[n]||l},e.interpolationDuration,e.interpolationEasing),t[n]=(t[n]||l)+o+e.nodePadding,r.invalidateLinks()})},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"))},t.prototype.createDataItem=function(){return new oo},Object.defineProperty(t.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.nodes.template.nameLabel;"vertical"==e?(this.nodes.template.width=void 0,t.label.horizontalCenter="middle",t.locationX=.5):(this.nodes.template.height=void 0,t.label.horizontalCenter="left",t.locationX=1)},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new Aj;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new Bj;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this._sorted=this.nodes.iterator()},t}(Jg);ca.registeredClasses.SankeyDiagram=po;var Cj=function(e){function t(){var t=e.call(this)||this;t.className="ChordNode";var i=t.createChild(Ye);i.location=.5,i.radius=5,i.text="{name}",i.zIndex=1,i.shouldClone=!1,t.label=i,t.layout="none",t.events.on("positionchanged",t.updateRotation,t,!1),t.isMeasured=!1,t.slice=t.createChild(Hc),t.slice.isMeasured=!1;var r=t.hiddenState;return r.properties.fill=new Ba().getFor("disabledBackground"),r.properties.opacity=.5,r.properties.visible=!0,t.setStateOnChildren=!1,t.slice.hiddenState.properties.visible=!0,t.adapter.add("tooltipX",function(e,t){return t.slice.ix*(t.slice.radius-(t.slice.radius-t.slice.pixelInnerRadius)/2)}),t.adapter.add("tooltipY",function(e,t){return t.slice.iy*(t.slice.radius-(t.slice.radius-t.slice.pixelInnerRadius)/2)}),t}return da(t,e),t.prototype.invalidateLinks=function(){var t=this;e.prototype.invalidateLinks.call(this);var i=this.label,r=this.slice,o=this.chart;if(o&&r){var a=this.total,l=r.arc,n=r.startAngle;this.children.each(function(e){if(e instanceof ac){var t=e.locationX;aa(t)||(t=.5);var i=e.locationY;aa(i)||(i=1);var o=n+l*t,a=i*r.radius;e.x=a*ja(o),e.y=a*ia(o)}});var s=n+l*i.location,$=n+(1-a/this.adjustedTotal)*l*.5;nb($)&&($=n),i.fixPosition(s,r.radius),this.nextAngle=$,this._outgoingSorted&&fa(this._outgoingSorted,function(e){var i=e.link;i.parent=t.chart.linksContainer;var a=e.getWorkingValue("value");if(aa(a)){if(o.nonRibbon){var s=i.percentWidth;aa(s)||(s=5),s/=100,i.startAngle=n+l/2-l/2*s,i.arc=l*s}else i.arc=a*o.valueAngle,i.startAngle=t.nextAngle,t.nextAngle+=i.arc;e.toNode||(i.endAngle=i.startAngle),i.radius=r.pixelInnerRadius}}),this._incomingSorted&&fa(this._incomingSorted,function(e){var i=e.link;if(i.radius=r.pixelInnerRadius,o.nonRibbon){var a=i.percentWidth;aa(a)||(a=5),a/=100,i.endAngle=n+l/2-l/2*a,i.arc=l*a}else{i.endAngle=t.nextAngle;var s=e.getWorkingValue("value");aa(s)&&(i.arc=s*o.valueAngle,t.nextAngle+=i.arc)}e.fromNode||(i.startAngle=i.endAngle)})}},t.prototype.updateRotation=function(){var e=this.slice,t=this.trueStartAngle+e.arc/2,i=e.radius,r=i*ja(t),o=i*ia(t),a=lb({x:r+this.pixelX,y:o+this.pixelY});e.startAngle=this.trueStartAngle+(a-t),this.dx=-this.pixelX,this.dy=-this.pixelY},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label),this.slice.copyFrom(t.slice)},t}($e);ca.registeredClasses.ChordNode=Cj;var qo=function(t){function e(){var e=t.call(this)||this;return e.className="QuadraticCurve",e.element=e.paper.add("path"),e.pixelPerfect=!1,e.fill=oa(),e.applyTheme(),e}return da(e,t),e.prototype.draw=function(){if(aa(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var t={x:this.x1,y:this.y1},e={x:this.x2,y:this.y2},r={x:this.cpx,y:this.cpy},p=ka(t)+Gc(e,r);this.path=p}},Object.defineProperty(e.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(t){this.setPropertyValue("cpx",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(t){this.setPropertyValue("cpy",t,!0)},enumerable:!0,configurable:!0}),e.prototype.positionToPoint=function(t){var e={x:this.x1,y:this.y1},r={x:this.cpx,y:this.cpy},p={x:this.x2,y:this.y2},i=Hh(e,p,r,t),$=Hh(e,p,r,t+.001);return{x:i.x,y:i.y,angle:lb(i,$)}},e}(Pb);var Dj=function(e){function t(){var t=e.call(this)||this;return t.className="ChordLink",t.middleLine=t.createChild(qo),t.middleLine.shouldClone=!1,t.middleLine.strokeOpacity=0,t.applyTheme(),t}return da(t,e),t.prototype.validate=function(){if(e.prototype.validate.call(this),!this.isTemplate){var t=this.startAngle,r=this.endAngle,i=this.arc,$=this.radius,a=this.dataItem.fromNode,o=this.dataItem.toNode,s=0,p=0;a&&(s=a.pixelX+a.dx,p=a.pixelY+a.dy);var l=0,n=0;if(o&&(l=o.pixelX+o.dx,n=o.pixelY+o.dy),$>0){var h=$*ja(t)+s,u=$*ia(t)+p,m=$*ja(r)+l,c=$*ia(r)+n,C={x:0,y:0},d=ka({x:h,y:u});d+=cb(t,i,$),d+=Gc({x:m,y:c},C),d+=cb(r,i,$),d+=Gc({x:h,y:u},C),this.link.path=i>0?d:"",this.maskBullets&&(this.bulletsMask.path=d,this.bulletsContainer.mask=this.bulletsMask);var q=t+i/2,y=r+i/2,x=this.middleLine;x.x1=$*ja(q)+s,x.y1=$*ia(q)+p,x.x2=$*ja(y)+l,x.y2=$*ia(y)+n,x.cpx=0,x.cpy=0,x.stroke=this.fill,this.positionBullets()}}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0)},enumerable:!0,configurable:!0}),t}(_e);ca.registeredClasses.ChordLink=Dj;var ro=function(e){function t(){var t=e.call(this)||this;return t.className="ChordDiagramDataItem",t.applyTheme(),t}return da(t,e),t}(Ig);var so=function(e){function t(){var t=e.call(this)||this;t.valueAngle=0,t.className="ChordDiagram",t.startAngle=-90,t.endAngle=270,t.radius=ha(80),t.innerRadius=-15,t.nodePadding=5;var r=t.chartContainer.createChild(na);return r.align="center",r.valign="middle",r.shouldClone=!1,r.layout="absolute",t.chordContainer=r,t.nodesContainer.parent=r,t.linksContainer.parent=r,t.chartContainer.events.on("maxsizechanged",t.invalidate,t,!1),t.applyTheme(),t}return da(t,e),t.prototype.validate=function(){var t=this,r=this.chartContainer,i=this.endAngle,a=this.startAngle+this.nodePadding/2,n=Wb(this.startAngle,this.endAngle,1);n=yd([n,{x:0,y:0,width:0,height:0}]);var o=Math.min(r.innerWidth/n.width,r.innerHeight/n.height);aa(o)||(o=0);var s=db(this.radius,o),l=db(this.innerRadius,s,!0),u=this.dataItem.values.value.sum,$=0,d=0;fa(this._sorted,function(e){var r=e[1];t.getNodeValue(r),$++;var i=r.total;r.total/u<t.minNodeSize&&(i=u*t.minNodeSize),d+=i}),this.valueAngle=(i-this.startAngle-this.nodePadding*$)/d,fa(this._sorted,function(e){var r=e[1],n=r.slice;n.radius=s,n.innerRadius=l;var o,d=r.total;r.total/u<t.minNodeSize&&(d=u*t.minNodeSize),r.adjustedTotal=d,o=t.nonRibbon?(i-t.startAngle)/$-t.nodePadding:t.valueAngle*d,n.arc=o,n.startAngle=a,r.trueStartAngle=a,r.parent=t.nodesContainer,r.validate(),a+=o+t.nodePadding}),this.chordContainer.definedBBox={x:s*n.x,y:s*n.y,width:s*n.width,height:s*n.height},this.chordContainer.invalidateLayout(),e.prototype.validate.call(this)},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"))},t.prototype.createDataItem=function(){return new ro},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new Cj;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new Dj;return this._disposers.push(e),e},t}(Jg);ca.registeredClasses.ChordDiagram=so;var Mc=function(e){function t(){var t=e.call(this)||this;return t.className="Column",t.width=ha(80),t.height=ha(80),t.events.disableType("transformed"),t.applyOnClones=!0,t.strokeOpacity=1,t.layout="none",t.createAssets(),t.events.on("childadded",t.handleKidAdded,t,!1),t}return da(t,e),t.prototype.handleKidAdded=function(){"none"==this.layout&&(this.layout="absolute")},t.prototype.createAssets=function(){this.column=this.createChild(_b),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column)},t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.column;t&&(t.width=ya(this.pixelWidth,this.maxWidth),t.height=ya(this.pixelHeight,this.maxHeight),t.invalid&&t.validate())},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.column&&this.column.copyFrom(t.column)},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:ya(this.pixelWidth,this.maxWidth),height:ya(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),t}(na);ca.registeredClasses.Column=Mc;var tc=function(t){function e(){var e=t.call(this)||this;return e.className="ColumnSeriesDataItem",e.locations.dateX=.5,e.locations.dateY=.5,e.locations.categoryX=.5,e.locations.categoryY=.5,e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"column",{get:function(){return this._column},set:function(t){this.setColumn(t)},enumerable:!0,configurable:!0}),e.prototype.setColumn=function(t){var e=this;if(this._column&&t!=this._column&&pa(this.sprites,this._column),this._column=t,t){var i=t.dataItem;i&&i!=this&&(i.column=void 0),this.addSprite(t),this._disposers.push(new Ga(function(){e.component&&e.component.columns.removeValue(t)}))}},Object.defineProperty(e.prototype,"width",{get:function(){var t=this.properties.width;return this._adapterO&&(t=this._adapterO.apply("width",t)),t},set:function(t){this.properties.width!=t&&(this.properties.width=t,this.component&&this.component.validateDataElement(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new Ka),this._rangesColumns},enumerable:!0,configurable:!0}),e}(Ve);var uc=function(t){function e(){var e=t.call(this)||this;e._startLocation=0,e._endLocation=1,e.className="ColumnSeries",e.width=ha(100),e.height=ha(100),e.strokeOpacity=0,e.fillOpacity=1,e.clustered=!0;var i=e.mainContainer.createChild(na);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",e._columnsContainer=i,e.columns.template.pixelPerfect=!1,e.tooltipColorSource=e.columns.template,e.applyTheme(),e}return da(e,t),Object.defineProperty(e.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"))},e.prototype.createDataItem=function(){return new tc},e.prototype.validate=function(){var i=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var o,r=this.chart.series,s=0,a=0,n=[];fa(r.iterator(),function(t){var o;t instanceof e&&i.baseAxis==t.baseAxis&&(o=i.baseAxis==i.xAxis?i.chart.yAxes.indexOf(t.yAxis):i.chart.xAxes.indexOf(t.xAxis),n.push({series:t,axis:o}))}),n.sort(function(t,e){return t.axis-e.axis}),la(n,function(t){var r=t.series;r instanceof e&&((!r.stacked&&r.clustered||o!=t.axis&&r.clustered)&&s++,r==i&&(a=s-1)),o=t.axis}),this.clustered||(a=0,s=1);var u=this.baseAxis.renderer,h=u.cellStartLocation,p=u.cellEndLocation;this._startLocation=h+a/s*(p-h),this._endLocation=h+(a+1)/s*(p-h);var l=this.xAxis,$=this.yAxis;l instanceof Xa&&$ instanceof va&&l.sortBySeries==this&&this.sortCategoryAxis(l,"valueY"),$ instanceof Xa&&l instanceof va&&$.sortBySeries==this&&this.sortCategoryAxis($,"valueX")}t.prototype.validate.call(this);for(var c=0;c<this.startIndex;c++){var m=this.dataItems.getIndex(c);this.disableUnusedColumns(m)}for(c=this.dataItems.length-1;c>this.endIndex;c--){m=this.dataItems.getIndex(c);this.disableUnusedColumns(m)}this._propertiesChanged=!1},e.prototype.sortCategoryAxis=function(t,e){var i=this;this.dataItems.values.sort(function(t,i){return i.values[e].workingValue-t.values[e].workingValue});var o=0;this.dataItems.each(function(t){t._index=o,o++}),t.dataItems.each(function(t){var e=t.component,o=e.categoryToPosition(t.category)-t.deltaPosition,r=e.getSeriesDataItemByCategory(t.category,i);if(r){var s=i.dataItems.indexOf(r);t._index=s;var a=ga((s+.5)/i.dataItems.length-o,3);t.deltaAnimation&&!t.deltaAnimation.isDisposed()&&t.deltaAnimation.animationOptions[0].to==a||a!=ga(t.deltaPosition,3)&&(t.deltaAnimation&&t.deltaAnimation.stop(),t.deltaAnimation=t.animate({property:"deltaPosition",from:-a,to:0},e.interpolationDuration,e.interpolationEasing),i._disposers.push(t.deltaAnimation))}}),t.dataItems.values.sort(function(t,e){return t.index-e.index})},e.prototype.validateDataElement=function(e){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(e),t.prototype.validateDataElement.call(this,e))},e.prototype.getStartLocation=function(t){var e=this._startLocation;return this.baseAxis==this.xAxis?e+=t.locations[this.xOpenField]-.5:e+=t.locations[this.yOpenField]-.5,e},e.prototype.getEndLocation=function(t){var e=this._endLocation;return this.baseAxis==this.xAxis?e+=t.locations[this.xField]-.5:e+=t.locations[this.yField]-.5,e},e.prototype.validateDataElementReal=function(t){var e,i,o,r,s=this,a=this.getStartLocation(t),n=this.getEndLocation(t),u=this.xField,h=this.xOpenField,p=this.yField,l=this.yOpenField,$=this.columns.template,c=$.percentWidth,m=$.percentHeight,d=$.pixelWidth,x=$.pixelHeight,y=$.maxWidth,f=$.maxHeight,g=$.pixelPaddingLeft,I=$.pixelPaddingRight,v=$.pixelPaddingTop,k=$.pixelPaddingBottom,S=!1,A=t.width;if(ba(A)&&(aa(A)&&(d=A),A instanceof za&&(c=100*A.value)),this.xAxis instanceof Xa&&this.yAxis instanceof Xa){if(!t.hasValue(this._xValueFields)||!t.hasValue(this._yValueFields))return;if(a=0,n=1,!nb(c))a+=C=ga((n-a)*(1-c/100)/2,5),n-=C;if(e=this.xAxis.getX(t,h,a),i=this.xAxis.getX(t,u,n),nb(c))e+=C=(i-e-d)/2,i-=C;if(!nb(y)&&y<Math.abs(i-e))e+=C=(i-e-y)/2,i-=C;if(a=0,n=1,!nb(m))a+=C=ga((1-m/100)/2,5),n-=C;if(o=this.yAxis.getY(t,l,a),r=this.yAxis.getY(t,p,n),nb(m))r+=C=(r-o-x)/2,o-=C;if(!nb(f)&&f<Math.abs(r-o))r+=C=(r-o-f)/2,o-=C;i=this.fixHorizontalCoordinate(i),e=this.fixHorizontalCoordinate(e),o=this.fixVerticalCoordinate(o),r=this.fixVerticalCoordinate(r)}else if(this.baseAxis==this.xAxis){if(!t.hasValue(this._yValueFields))return;if(!nb(c))a+=C=ga((n-a)*(1-c/100)/2,5),n-=C;if(e=this.xAxis.getX(t,h,a),i=this.xAxis.getX(t,u,n),nb(c))e+=C=(i-e-d)/2,i-=C;if(!nb(y)&&y<Math.abs(i-e))e+=C=(i-e-y)/2,i-=C;var F=t.locations[l],_=t.locations[p];this.yAxis instanceof va&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(F=0,_=0),r=this.yAxis.getY(t,l,F),o=this.yAxis.getY(t,p,_);var b=Math.ceil(this.yAxis.axisLength);(o<0&&r<0||o>b&&r>b)&&(S=!0),o=this.fixVerticalCoordinate(o),r=this.fixVerticalCoordinate(r),Math.abs(i-e)-g-I==0&&(S=!0)}else{if(!t.hasValue(this._xValueFields))return;var C;if(!nb(m))a+=C=ga((n-a)*(1-m/100)/2,5),n-=C;if(o=this.yAxis.getY(t,l,a),r=this.yAxis.getY(t,p,n),nb(m))r-=C=(r-o-x)/2,o+=C;if(!nb(f)&&f<Math.abs(r-o))r-=C=(r-o-f)/2,o+=C;var P=t.locations[u],O=t.locations[h];this.xAxis instanceof va&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(P=0,O=0),i=this.xAxis.getX(t,u,P),e=this.xAxis.getX(t,h,O);b=Math.ceil(this.xAxis.axisLength);(i<0&&e<0||i>b&&e>b)&&(S=!0),i=this.fixHorizontalCoordinate(i),e=this.fixHorizontalCoordinate(e),Math.abs(o-r)-v-k==0&&(S=!0)}var L,V=Math.abs(i-e),N=Math.abs(r-o),D=Math.min(e,i),j=Math.min(o,r);S?this.disableUnusedColumns(t):(t.column?(L=t.column,this._propertiesChanged&&(Wa(this,L,Ua),Wa(this.columns.template,L,Ua),la(Ua,function(t){L[t]=L[t]}))):(L=this.columns.create(),Wa(this,L,Ua),Wa(this.columns.template,L,Ua),t.addSprite(L),t.column=L,L.paper=this.paper,this.itemsFocusable()?(this.role="menu",L.role="menuitem",L.focusable=!0):(this.role="list",L.role="listitem",L.focusable=!1),L.focusable&&(L.events.on("focus",function(e){L.readerTitle=s.populateString(s.itemReaderText,t)},void 0,!1),L.events.on("blur",function(t){L.readerTitle=""},void 0,!1)),L.hoverable&&(L.events.on("over",function(e){L.readerTitle=s.populateString(s.itemReaderText,t)},void 0,!1),L.events.on("out",function(t){L.readerTitle=""},void 0,!1)),L.parent=this.columnsContainer,L.virtualParent=this),L.width=V,L.height=N,L.x=D,L.y=j,L.realX=e,L.realY=o,L.realWidth=i-e,L.realHeight=r-o,this.setColumnStates(L),L.invalid&&L.validate(),L.__disabled=!1,fa(this.axisRanges.iterator(),function(e){var i=t.rangesColumns.getKey(e.uid);i||(i=s.columns.create(),Wa(e.contents,i,Ua),t.addSprite(i),t.rangesColumns.setKey(e.uid,i),i.paper=s.paper),i.parent=e.contents,i.width=V,i.height=N,i.x=D,i.y=j,s.setColumnStates(i),i.invalid&&i.validate(),i.__disabled=!1}));t.itemWidth=V,t.itemHeight=N},e.prototype.disableUnusedColumns=function(t){t&&(t.column&&(t.column.width=0,t.column.height=0,t.column.__disabled=!0),fa(this.axisRanges.iterator(),function(e){var i=t.rangesColumns.getKey(e.uid);i&&(i.width=0,i.height=0,i.__disabled=!0)}))},e.prototype.setColumnStates=function(t){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var e=t.dataItem;if(this.xAxis instanceof va||this.yAxis instanceof va){var i,o=void 0,r=void 0;this.baseAxis==this.yAxis?this.xOpenField&&this.xField&&this.xAxis instanceof va&&(i=e.getValue(this.xOpenField),o=e.getValue(this.xField),r=e.getValue(this.xAxis.axisFieldName+"X","previousChange")):this.yOpenField&&this.yField&&this.yAxis instanceof va&&(i=e.getValue(this.yOpenField),o=e.getValue(this.yField),r=e.getValue(this.yAxis.axisFieldName+"Y","previousChange")),o<i?(e.droppedFromOpen=!0,t.defaultState.copyFrom(this._dropFromOpenState),t.setState(this._dropFromOpenState,0)):(e.droppedFromOpen=!1,t.defaultState.copyFrom(this._riseFromOpenState),t.setState(this._riseFromOpenState,0)),r<0?(e.droppedFromPrevious=!0,t.defaultState.copyFrom(this._dropFromPreviousState),t.setState(this._dropFromPreviousState,0)):(e.droppedFromPrevious=!1,t.defaultState.copyFrom(this._riseFromPreviousState),t.setState(this._riseFromPreviousState,0))}}},Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns||(this._columns=new Ra(this.createColumnTemplate()),this._disposers.push(new Ja(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),e.prototype.createColumnTemplate=function(){return new Mc},Object.defineProperty(e.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(t){this.setPropertyValue("clustered",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(t){this._dropFromOpenState=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(t){this._dropFromPreviousState=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(t){this._riseFromOpenState=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(t){this._riseFromPreviousState=t},enumerable:!0,configurable:!0}),e.prototype.updateLegendValue=function(e,i){var o=this;if(t.prototype.updateLegendValue.call(this,e,i),this.legendDataItem){var r,s,a=this.legendDataItem.marker;e&&(r=e.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,s=e.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState),fa(a.children.iterator(),function(t){e?(t.setState(s),t.setState(r)):(t.setState(o._riseFromPreviousState),t.setState(o._riseFromOpenState))})}},e.prototype.createLegendMarker=function(t){var e=t.pixelWidth,i=t.pixelHeight;t.removeChildren();var o=t.createChild(_b);o.shouldClone=!1,Wa(this,o,Ua),o.copyFrom(this.columns.template),o.padding(0,0,0,0),o.width=e,o.height=i;var r=t.dataItem;r.color=this.fill,r.colorOrig=this.fill},e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.columns.template.copyFrom(e.columns.template)},e.prototype.getBulletLocationX=function(e,i){if(this.baseAxis==this.xAxis){var o=e.locationX;aa(o)||(o=.5);var r=this.getEndLocation(e.dataItem);return r-(r-this.getStartLocation(e.dataItem))*o}return t.prototype.getBulletLocationX.call(this,e,i)},e.prototype.getBulletLocationY=function(e,i){if(this.baseAxis==this.yAxis){var o=e.locationY;aa(o)||(o=.5);var r=this.getEndLocation(e.dataItem);return r-(r-this.getStartLocation(e.dataItem))*o}return t.prototype.getBulletLocationY.call(this,e,i)},e.prototype.getAdjustedXLocation=function(e,i){if(this.baseAxis==this.xAxis){var o=.5;return e&&(o=e.locations[i]),aa(o)||(o=.5),this._endLocation-(this._endLocation-this._startLocation)*o}return t.prototype.getAdjustedXLocation.call(this,e,i)},e.prototype.getAdjustedYLocation=function(e,i){if(this.baseAxis==this.yAxis){var o=.5;return e&&(o=e.locations[i]),aa(o)||(o=.5),this._endLocation-(this._endLocation-this._startLocation)*o}return t.prototype.getAdjustedXLocation.call(this,e,i)},e.prototype.fixVerticalCoordinate=function(t){var e=this.columns.template.pixelPaddingBottom,i=-this.columns.template.pixelPaddingTop,o=this.yAxis.axisLength+e;return ma(t,i,o)},e.prototype.fixHorizontalCoordinate=function(t){var e=this.columns.template.pixelPaddingLeft,i=this.columns.template.pixelPaddingRight,o=-e,r=this.xAxis.axisLength+i;return ma(t,o,r)},e.prototype.disposeData=function(){t.prototype.disposeData.call(this),this.columns.clear()},e}(Kc);ca.registeredClasses.ColumnSeries=uc,ca.registeredClasses.ColumnSeriesDataItem=tc;var Ej=function(e){function t(){var t=e.call(this)||this;return t.className="TreeMapSeriesDataItem",t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,r,a,o){var i=this.treeMapDataItem;return i&&i.hide(t),e.prototype.hide.call(this,t,r,a,o)},t.prototype.show=function(t,r,a){var o=this.treeMapDataItem;return o&&o.show(t,r,a),e.prototype.show.call(this,t,r,a)},t}(tc);var Lg=function(e){function t(){var t=e.call(this)||this;t.className="TreeMapSeries",t.applyTheme(),t.fillOpacity=1,t.strokeOpacity=1,t.minBulletDistance=0,t.columns.template.tooltipText="{parentName} {name}: {value}",t.columns.template.configField="config";var r=new Ba;return t.stroke=r.getFor("background"),t.dataFields.openValueX="x0",t.dataFields.valueX="x1",t.dataFields.openValueY="y0",t.dataFields.valueY="y1",t.sequencedInterpolation=!1,t.showOnInit=!1,t.columns.template.pixelPerfect=!1,t}return da(t,e),t.prototype.processDataItem=function(t,r){r.seriesDataItem=t,e.prototype.processDataItem.call(this,t,r)},t.prototype.createDataItem=function(){return new Ej},t.prototype.show=function(t){if(!this.preventShow){var r=this.defaultState.transitionDuration;return aa(t)&&(r=t),this.dataItems.each(function(e){e.show(t)}),e.prototype.showReal.call(this,r)}},t.prototype.hide=function(t){var r=this.defaultState.transitionDuration;aa(t)&&(r=t);var a=e.prototype.hideReal.call(this,r);return this.dataItems.each(function(e){e.hide(t)}),a},t.prototype.processValues=function(){},t.prototype.getStartLocation=function(e){return 0},t.prototype.getEndLocation=function(e){return 1},t.prototype.dataChangeUpdate=function(){},t.prototype.processConfig=function(t){t&&(ba(t.dataFields)&&Qa(t.dataFields)||(t.dataFields={})),e.prototype.processConfig.call(this,t)},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,r=e.pixelHeight;e.removeChildren();var a=e.createChild(_b);a.shouldClone=!1,Wa(this,a,Ua),a.padding(0,0,0,0),a.width=t,a.height=r;var o=e.dataItem;o.color=a.fill,o.colorOrig=a.fill},t.prototype.disableUnusedColumns=function(t){e.prototype.disableUnusedColumns.call(this,t),t.column&&(t.column.__disabled=!1)},t}(uc);ca.registeredClasses.TreeMapSeries=Lg,ca.registeredClasses.TreeMapSeriesDataItem=Ej;var to=function(e){function t(){var t=e.call(this)||this;return t.rows=[],t.className="TreeMapDataItem",t.values.value={},t.values.x0={},t.values.y0={},t.values.x1={},t.values.y1={},t.hasChildren.children=!0,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this)},enumerable:!0,configurable:!0}),t.prototype.getDuration=function(){return 0},Object.defineProperty(t.prototype,"value",{get:function(){var e=0;return this.children&&0!=this.children.length?fa(this.children.iterator(),function(t){var i=t.value;aa(i)&&(e+=i)}):e=this.values.value.workingValue,e},set:function(e){this.setValue("value",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){var e=this.properties.color;return null==e&&this.parent&&(e=this.parent.color),null==e&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,i,r,a){this.setWorkingValue("value",0),this.children&&this.children.each(function(e){e.hide(t,i,r,a)});var n=this.seriesDataItem;return n&&n.bullets.each(function(e,t){t.hide(),t.preventShow=!0}),e.prototype.hide.call(this,t,i,r,a)},t.prototype.show=function(t,i,r){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each(function(e){e.show(t,i,r)});var a=this.seriesDataItem;return a&&a.bullets.each(function(e,t){t.preventShow=!1}),e.prototype.show.call(this,t,i,r)},t}(Bg);var uo=function(e){function t(){var t=e.call(this)||this;t.layoutAlgorithm=t.squarify,t.zoomable=!0,t.className="TreeMap",t._usesData=!0,t.maxLevels=2,t.currentLevel=0,t.hideParentColumns=!1,t.colors=new Rd,t.sorting="descending";var i=t.xAxes.push(new va);i.title.disabled=!0,i.strictMinMax=!0;var r=i.renderer;r.inside=!0,r.labels.template.disabled=!0,r.ticks.template.disabled=!0,r.grid.template.disabled=!0,r.axisFills.template.disabled=!0,r.minGridDistance=100,r.line.disabled=!0,r.baseGrid.disabled=!0;var a=t.yAxes.push(new va);a.title.disabled=!0,a.strictMinMax=!0;var n=a.renderer;n.inside=!0,n.labels.template.disabled=!0,n.ticks.template.disabled=!0,n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.minGridDistance=100,n.line.disabled=!0,n.baseGrid.disabled=!0,n.inversed=!0,t.xAxis=i,t.yAxis=a;var o=new Lg;return t.seriesTemplates=new Cd(o),o.virtualParent=t,t._disposers.push(new Bc(t.seriesTemplates)),t._disposers.push(o),t.zoomOutButton.events.on("hit",function(){t.zoomToChartDataItem(t._homeDataItem)},void 0,!1),t.seriesTemplates.events.on("insertKey",function(e){e.newValue.isTemplate=!0},void 0,!1),t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var t=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",function(e){var i=e.target.dataItem.dataContext;i.isDisposed()||(t.zoomToChartDataItem(i),t.createTreeSeries(i))},void 0,!0),this._disposers.push(e))},enumerable:!0,configurable:!0}),t.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],e.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var t=this.dataItems.template.clone();this._homeDataItem=t,fa(this.dataItems.iterator(),function(e){e.parent=t}),t.children=this.dataItems,t.x0=0,t.y0=0,t.name=this._homeText;var i=10*Math.round(1e3*this.pixelHeight/this.pixelWidth/10)||1e3;t.x1=1e3,t.y1=i,this.xAxis.min=0,this.xAxis.max=1e3,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=i,this.yAxis.getMinMax(),this.layoutItems(t),this.createTreeSeries(t),this.feedLegend()},t.prototype.layoutItems=function(e,t){if(e){var i=e.children;t||(t=this.sorting),"ascending"==t&&i.values.sort(function(e,t){return e.value-t.value}),"descending"==t&&i.values.sort(function(e,t){return t.value-e.value}),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var r=0,a=i.length;r<a;r++){var n=i.getIndex(r);n.children&&this.layoutItems(n)}}},t.prototype.createTreeSeries=function(e){var t=this;this._tempSeries=[];for(var i=[e],r=e.parent;null!=r;)this.initSeries(r),i.push(r),r=r.parent;i.reverse(),this.navigationBar&&(this.navigationBar.data=i),this.createTreeSeriesReal(e),la(this._tempSeries,function(e){-1==t.series.indexOf(e)&&t.series.push(e),e.zIndex=e.level})},t.prototype.createTreeSeriesReal=function(e){if(e.children&&e.level<this.currentLevel+this.maxLevels){this.initSeries(e);for(var t=0;t<e.children.length;t++){var i=e.children.getIndex(t);i.children&&this.createTreeSeriesReal(i)}}},t.prototype.setData=function(t){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,e.prototype.setData.call(this,t)},t.prototype.seriesAppeared=function(){return!0},t.prototype.initSeries=function(e){var t=this;if(!e.series){var i=void 0,r=this.seriesTemplates.getKey(e.level.toString());(i=r?r.clone():this.series.create()).dataItem.dataContext=e,i.name=e.name,i.parentDataItem=e,e.series=i;var a=e.level;i.level=a;var n=e.dataContext;n&&(i.config=n.config),this.dataUsers.removeValue(i),i.data=e.children.values,i.fill=e.color,i.columnsContainer.hide(0),i.bulletsContainer.hide(0),i.columns.template.adapter.add("fill",function(e,t){var i=t.dataItem;if(i){var r=i.treeMapDataItem;if(r)return t.fill=r.color,t.adapter.remove("fill"),r.color}}),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(i.columns.template.cursorOverStyle=fb.pointer,this.zoomable&&i.columns.template.events.on("hit",function(i){var r=i.target.dataItem;e.level>t.currentLevel?t.zoomToChartDataItem(r.treeMapDataItem.parent):t.zoomToSeriesDataItem(r)},this,void 0))}this._tempSeries.push(e.series)},t.prototype.toggleBullets=function(e){var t=this;fa(this.series.iterator(),function(i){-1==t._tempSeries.indexOf(i)?(i.columnsContainer.hide(),i.bulletsContainer.hide(e)):(i.columnsContainer.show(),i.bulletsContainer.show(e),i.dataItems.each(function(e){e.bullets.each(function(e,t){t.show()})}),i.level<t.currentLevel?(t.hideParentColumns&&i.columnsContainer.hide(),i.bulletsContainer.hide(e)):i.level==t.currentLevel&&t.maxLevels>1&&i.dataItems.each(function(e){e.treeMapDataItem.children&&e.bullets.each(function(e,t){t.hide()})}))})},t.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem)},t.prototype.zoomToChartDataItem=function(e){var t=this;e||(e=this._homeDataItem);var i=this.zoomOutButton;if(i&&(e!=this._homeDataItem?i.show():i.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var r=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;!r||r.isDisposed()||r.isFinished()?this.toggleBullets():(this._dataDisposers.push(r),r.events.once("animationended",function(){t.toggleBullets()}))}},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"))},t.prototype.createDataItem=function(){return new to},Object.defineProperty(t.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0)},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new Lg},Object.defineProperty(t.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){if(t){if(ba(t.layoutAlgorithm)&&wa(t.layoutAlgorithm))switch(t.layoutAlgorithm){case"squarify":t.layoutAlgorithm=this.squarify;break;case"binaryTree":t.layoutAlgorithm=this.binaryTree;break;case"slice":t.layoutAlgorithm=this.slice;break;case"dice":t.layoutAlgorithm=this.dice;break;case"sliceDice":t.layoutAlgorithm=this.sliceDice;break;default:delete t.layoutAlgorithm;}ba(t.navigationBar)&&!ba(t.navigationBar.type)&&(t.navigationBar.type="NavigationBar"),e.prototype.processConfig.call(this,t)}},t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed)},t.prototype.validateDataItems=function(){e.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),fa(this.series.iterator(),function(e){e.validateRawData()}),this.zoomToChartDataItem(this._homeDataItem)},t.prototype.binaryTree=function(e){var t,i,r=e.children,a=r.length,n=new Array(a+1);for(n[0]=i=t=0;t<a;++t)n[t+1]=i+=r.getIndex(t).value;!function e(t,i,a,o,s,l,u){if(t>=i-1){var h=r.getIndex(t);return h.x0=o,h.y0=s,h.x1=l,void(h.y1=u)}var p=n[t],c=a/2+p,d=t+1,m=i-1;for(;d<m;){var y=d+m>>>1;n[y]<c?d=y+1:m=y}c-n[d-1]<n[d]-c&&t+1<d&&--d;var f=n[d]-p,v=a-f;if(l-o>u-s){var g=(o*v+l*f)/a;e(t,d,f,o,s,g,u),e(d,i,v,g,s,l,u)}else{var $=(s*v+u*f)/a;e(t,d,f,o,s,l,$),e(d,i,v,o,$,l,u)}}(0,a,e.value,e.x0,e.y0,e.x1,e.y1)},t.prototype.slice=function(e){for(var t,i=e.x0,r=e.x1,a=e.y0,n=e.y1,o=e.children,s=-1,l=o.length,u=e.value&&(n-a)/e.value;++s<l;)(t=o.getIndex(s)).x0=i,t.x1=r,t.y0=a,a+=t.value*u,t.y1=a},t.prototype.dice=function(e){for(var t,i=e.x0,r=e.x1,a=e.y0,n=e.y1,o=e.children,s=-1,l=o.length,u=e.value&&(r-i)/e.value;++s<l;)(t=o.getIndex(s)).y0=a,t.y1=n,t.x0=i,i+=t.value*u,t.x1=i},t.prototype.sliceDice=function(e){1&e.level?this.slice(e):this.dice(e)},t.prototype.squarify=function(e){for(var t,i,r,a,n,o,s,l,u,h,p=(1+Math.sqrt(5))/2,c=e.x0,d=e.x1,m=e.y0,y=e.y1,f=e.children,v=0,g=0,$=f.length,x=e.value;v<$;){i=d-c,r=y-m;do{a=f.getIndex(g++).value}while(!a&&g<$);for(n=o=a,h=a*a*(u=Math.max(r/i,i/r)/(x*p)),l=Math.max(o/h,h/n);g<$;++g){if(a+=t=f.getIndex(g).value,t<n&&(n=t),t>o&&(o=t),h=a*a*u,(s=Math.max(o/h,h/n))>l){a-=t;break}l=s}var b=this.dataItems.template.clone();b.value=a,b.dice=i<r,b.children=f.slice(v,g),b.x0=c,b.y0=m,b.x1=d,b.y1=y,b.dice?(b.y1=x?m+=r*a/x:y,this.dice(b)):(b.x1=x?c+=i*a/x:d,this.slice(b)),x-=a,v=g}},t.prototype.handleSeriesAdded2=function(){},t.prototype.handleDataItemValueChange=function(e,t){"value"==t&&this.invalidateDataItems()},t.prototype.handleDataItemWorkingValueChange=function(e,t){"value"==t&&this.invalidateDataItems()},t.prototype.getLegendLevel=function(e){if(e&&e.children)return e.children.length>1?e:1==e.children.length?this.getLegendLevel(e.children.getIndex(0)):e},Object.defineProperty(t.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),t.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var t=this.getLegendLevel(this._homeDataItem);if(t){var i=[];t.children.each(function(e){i.push(e)}),e.data=i}}},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData()},t.prototype.getExporting=function(){var t=this,i=e.prototype.getExporting.call(this);return i.adapter.add("formatDataFields",function(e){return"csv"!=e.format&&"xlsx"!=e.format||ba(t.dataFields.children)&&delete e.dataFields[t.dataFields.children],e}),i},t}(bc);ca.registeredClasses.TreeMap=uo;var Fj=function(e){function t(){var t=e.call(this)||this;return t._chart=new bb,t.className="AxisRendererX3D",t._disposers.push(t._chart),t.applyTheme(),t}return da(t,e),t.prototype.updateGridElement=function(e,t,r){t+=(r-t)*e.location;var i=this.positionToPoint(t);if(e.element){var o=this.chart.dx3D||0,$=this.chart.dy3D||0,p=this.getHeight();e.path=ka({x:o,y:$})+ea({x:o,y:p+$})+ea({x:0,y:p})}this.positionItem(e,i),this.toggleVisibility(e,t,0,1)},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.getHeight(),r=this.chart.dx3D||0,i=this.chart.dy3D||0;this.baseGrid.path=ka({x:r,y:i})+ea({x:0,y:0})+ea({x:0,y:t})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){"depth"!=e.property&&"angle"!=e.property||this.invalidate()},t}(jc);ca.registeredClasses.AxisRendererX3D=Fj;var vo=function(e){function t(){var t=e.call(this)||this;return t._chart=new bb,t.className="AxisRendererY3D",t._disposers.push(t._chart),t.applyTheme(),t}return da(t,e),t.prototype.updateGridElement=function(e,t,r){t+=(r-t)*e.location;var i=this.positionToPoint(t);if(e.element){var o=this.chart.dx3D||0,p=this.chart.dy3D||0,a=this.getWidth();e.path=ka({x:0,y:0})+ea({x:o,y:p})+ea({x:a+o,y:p})}this.positionItem(e,i),this.toggleVisibility(e,t,0,1)},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.chart.dx3D||0,r=this.chart.dy3D||0,i=this.getWidth();this.baseGrid.path=ka({x:0,y:0})+ea({x:i,y:0})+ea({x:i+t,y:r})},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1))},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){"depth"!=e.property&&"angle"!=e.property||this.invalidate()},t}(Qb);var Gj=function(t){function o(){var o=t.call(this)||this;return o.className="Column3D",o}return da(o,t),o.prototype.createAssets=function(){this.column3D=this.createChild(Vn),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D},o.prototype.validate=function(){t.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate())},o.prototype.copyFrom=function(o){t.prototype.copyFrom.call(this,o),this.column3D&&this.column3D.copyFrom(o.column3D)},o.prototype.setFill=function(o){t.prototype.setFill.call(this,o),this.column.fill=o},o}(Mc);ca.registeredClasses.Column3D=Gj;var wo=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeries3DDataItem",t.applyTheme(),t}return da(t,e),t}(tc);var Mg=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeries3D",t.columns.template.column3D.applyOnClones=!0,t.columns.template.hiddenState.properties.visible=!0,t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&"vertical"!=e.leftAxesContainer.layout&&"vertical"!=e.rightAxesContainer.layout&&"horizontal"!=e.bottomAxesContainer.layout&&"horizontal"!=e.topAxesContainer.layout?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.validateDataElementReal=function(t){e.prototype.validateDataElementReal.call(this,t),t.column&&(t.column.dx=this.dx,t.column.dy=this.dy)},t.prototype.validateDataElements=function(){e.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout()},t.prototype.createColumnTemplate=function(){return new Gj},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0),this.columns.template.column3D.depth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.columns.template.column3D.angle=e},enumerable:!0,configurable:!0}),t}(uc);ca.registeredClasses.ColumnSeries3D=Mg,ca.registeredClasses.ColumnSeries3DDataItem=wo;var i=function(e){function t(){var t=e.call(this)||this;return t.className="XYChart3DDataItem",t.applyTheme(),t}return da(t,e),t}(Bg);var xo=function(e){function t(){var t=e.call(this)||this;t._axisRendererX=Fj,t._axisRendererY=vo,t.className="XYChart3D",t.depth=30,t.angle=30;var r=t.seriesContainer.createChild(na);return r.shouldClone=!1,r.isMeasured=!1,r.layout="none",t.columnsContainer=r,t.columnsContainer.mask=t.createChild(sa),t.applyTheme(),t}return da(t,e),t.prototype.updateSeriesMasks=function(){if(e.prototype.updateSeriesMasks.call(this),Hd()){var t=this.columnsContainer,r=t.mask;t.mask=void 0,t.mask=r}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx3D",{get:function(){return ja(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy3D",{get:function(){return-ia(this.angle)*this.depth},enumerable:!0,configurable:!0}),t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.fixColumns()},t.prototype.fixLayout=function(){this.chartContainer.marginTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),e.prototype.fixLayout.call(this)},t.prototype.fixColumns=function(){var e=this,t=1,r=0;fa(this.series.iterator(),function(e){e instanceof Mg&&(!e.clustered&&r>0&&t++,e.depthIndex=t-1,r++)});var i=0;fa(this.series.iterator(),function(r){if(r instanceof Mg){r.depth=e.depth/t,r.angle=e.angle,r.columnsContainer==e.columnsContainer&&(r.dx=e.depth/t*ja(e.angle)*r.depthIndex,r.dy=-e.depth/t*ia(e.angle)*r.depthIndex);var a=!1;(r.baseAxis==r.xAxis&&r.xAxis.renderer.inversed||r.baseAxis==r.yAxis&&r.yAxis.renderer.inversed)&&(a=!0);var o=1;r.dataItems.each(function(e){var t=e.column;t&&(t.zIndex=a?1e3*(1e3-o)+i-100*r.depthIndex:1e3*o+i-100*r.depthIndex),o++}),a?i--:i++}}),this.maskColumns()},t.prototype.processConfig=function(t){if(t&&ba(t.series)&&ab(t.series))for(var r=0,i=t.series.length;r<i;r++)t.series[r].type=t.series[r].type||"ColumnSeries3D";e.prototype.processConfig.call(this,t)},t.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,t=this.plotContainer.pixelHeight,r=this.dx3D,i=this.dy3D,a=ka({x:0,y:0})+ea({x:r,y:i})+ea({x:e+r,y:i})+ea({x:e+r,y:t+i})+ea({x:e,y:t})+ea({x:e,y:t})+ea({x:0,y:t})+Va(),o=this.columnsContainer;o&&o.mask&&(o.mask.path=a)},t}(bc);ca.registeredClasses.XYChart3D=xo;var Hj=function(e){function t(){var t=e.call(this)||this;t.className="HeatLegend",t.markerContainer=t.createChild(na),t.markerContainer.shouldClone=!1,t.markerCount=1;var r=new _b;return r.minHeight=20,r.minWidth=20,r.interactionsEnabled=!1,r.fillOpacity=1,r.cornerRadius(0,0,0,0),t.markerContainer.minHeight=20,t.markerContainer.minWidth=20,t.orientation="horizontal",t.markers=new Ra(r),t._disposers.push(new Ja(t.markers)),t._disposers.push(t.markers.template),t.applyTheme(),t}return da(t,e),t.prototype.getMinFromRules=function(e){var t,r=this.series;if(r)return Db(r.heatRules.iterator(),function(r){return r.property!=e||(t=r.min,!1)}),t},t.prototype.getMaxFromRules=function(e){var t,r=this.series;if(r)return fa(r.heatRules.iterator(),function(r){return r.property!=e||(t=r.max,!1)}),t},t.prototype.validate=function(){e.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var t=this.series,r=this.minColor,i=this.maxColor;if(ba(r)||(r=Ib(this.getMinFromRules("fill"))),ba(i)||(i=Ib(this.getMaxFromRules("fill"))),t){var s=t.fill;!ba(r)&&s instanceof Ca&&(r=s),!ba(i)&&s instanceof Ca&&(i=s)}ba(i)||(i=Ib(this.getMaxFromRules("fill")));var o=La(this.getMinFromRules("fillOpacity"));aa(o)||(o=1);var n=La(this.getMaxFromRules("fillOpacity"));aa(n)||(n=1);var a=La(this.getMinFromRules("strokeOpacity"));aa(a)||(a=1);var $=La(this.getMaxFromRules("strokeOpacity"));aa($)||($=1);for(var l=Ib(this.getMinFromRules("stroke")),d=Ib(this.getMaxFromRules("stroke")),p=0;p<this.markerCount;p++){var u=this.markers.getIndex(p);if(u||((u=this.markers.create()).parent=this.markerContainer,u.height=ha(100),u.width=ha(100)),1==this.markerCount){var h=new Kb;if(this.reverseOrder?(h.addColor(i,n),h.addColor(r,o)):(h.addColor(r,o),h.addColor(i,n)),"vertical"==this.orientation&&(h.rotation=-90),u.fill=h,ba(l)&&ba(d)){var m=new Kb;this.reverseOrder?(m.addColor(d,$),m.addColor(l,a)):(m.addColor(l,a),m.addColor(d,$)),"vertical"==this.orientation&&(m.rotation=-90),u.stroke=m}}else{var c=p;this.reverseOrder&&(c=this.markerCount-p-1);var q=new Ca(le(r.rgb,i.rgb,c/this.markerCount));u.fill=q;var v=o+(n-o)*c/this.markerCount;if(u.fillOpacity=v,ba(l)&&ba(d)){var y=new Ca(le(l.rgb,d.rgb,c/this.markerCount));u.stroke=y;var g=a+($-a)*c/this.markerCount;u.strokeOpacity=g}}}var f=this.valueAxis.renderer;this.markerCount>1&&("horizontal"==this.orientation?f.minGridDistance=this.measuredWidth/this.markerCount:f.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();p=this.markerCount;for(var C=this.markers.length;p<C;p++)this.markers.getIndex(p).parent=void 0},Object.defineProperty(t.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof Ca||(e=Ib(e)),this.setColorProperty("minColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){Qa(e)||(e=Ib(e)),this.setColorProperty("maxColor",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.markerContainer,r=this.valueAxis;"horizontal"==e?(ba(this.width)||(this.width=200),this.height=void 0,r.width=ha(100),r.height=void 0,r.tooltip.pointerOrientation="vertical",this.layout="vertical",t.width=ha(100),t.height=void 0,r.renderer instanceof jc||(r.renderer=new jc)):(ba(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",t.width=void 0,t.height=ha(100),r.height=ha(100),r.width=void 0,r.tooltip.pointerOrientation="horizontal",r.renderer instanceof Qb||(r.renderer=new Qb),r.renderer.inside=!0,r.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var i=r.renderer;i.grid.template.disabled=!0,i.axisFills.template.disabled=!0,i.baseGrid.disabled=!0,i.labels.template.padding(2,3,2,3),i.minHeight=void 0,i.minWidth=void 0,this.markerContainer.layout=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(va),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this._series=e;var r="value";try{var i=e.heatRules.getIndex(0).dataField;i&&(r=i)}catch(s){}this.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high),e.dataItem.events.on("calculatedvaluechanged",function(i){t.updateMinMax(e.dataItem.values[r].low,e.dataItem.values[r].high)},void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1)},enumerable:!0,configurable:!0}),t.prototype.updateMinMax=function(e,t){var r=this.valueAxis;aa(this.minValue)||(r.min=e,r.invalidate()),aa(this.maxValue)||(r.max=t,r.invalidate())},t.prototype.processConfig=function(t){if(t&&ba(t.series)&&wa(t.series)&&wa(t.series))if(this.map.hasKey(t.series))t.series=this.map.getKey(t.series);else{var r=t.series,i=this.map.events.on("insertKey",function(e){e.key==r&&(this.series=e.newValue,i.dispose())},this);this._disposers.push(i),delete t.series}e.prototype.processConfig.call(this,t)},t}(na);ca.registeredClasses.HeatLegend=Hj;var af=function(e){function i(){var i=e.call(this)||this;return i.className="Candlestick",i.layout="none",i}return da(i,e),i.prototype.createAssets=function(){e.prototype.createAssets.call(this),this.lowLine=this.createChild(Pb),this.lowLine.shouldClone=!1,this.highLine=this.createChild(Pb),this.highLine.shouldClone=!1},i.prototype.copyFrom=function(i){e.prototype.copyFrom.call(this,i),this.lowLine&&this.lowLine.copyFrom(i.lowLine),this.highLine&&this.highLine.copyFrom(i.highLine)},i}(Mc);ca.registeredClasses.Candlestick=af;var Ng=function(e){function t(){var t=e.call(this)||this;return t.values.lowValueX={},t.values.lowValueY={},t.values.highValueX={},t.values.highValueY={},t.className="CandlestickSeriesDataItem",t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e)},enumerable:!0,configurable:!0}),t}(tc);var Ij=function(e){function t(){var t=e.call(this)||this;t.className="CandlestickSeries",t.groupFields.lowValueX="low",t.groupFields.lowValueY="low",t.groupFields.highValueX="high",t.groupFields.highValueY="high",t.strokeOpacity=1;var i=new Ba,r=i.getFor("positive"),l=i.getFor("negative");return t.dropFromOpenState.properties.fill=l,t.dropFromOpenState.properties.stroke=l,t.riseFromOpenState.properties.fill=r,t.riseFromOpenState.properties.stroke=r,t.applyTheme(),t}return da(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"))},t.prototype.createDataItem=function(){return new Ng},t.prototype.validateDataElementReal=function(t){e.prototype.validateDataElementReal.call(this,t),this.validateCandlestick(t)},t.prototype.validateCandlestick=function(e){var t=e.column;if(t){var i=t.lowLine,r=t.highLine;if(this.baseAxis==this.xAxis){var l=t.pixelWidth/2;i.x=l,r.x=l;var s=e.getWorkingValue(this.yOpenField),a=e.getWorkingValue(this.yField),o=this.yAxis.getY(e,this.yOpenField),p=this.yAxis.getY(e,this.yField),n=this.yAxis.getY(e,this.yLowField),u=this.yAxis.getY(e,this.yHighField),h=t.pixelY;i.y1=n-h,r.y1=u-h,s<a?(i.y2=o-h,r.y2=p-h):(i.y2=p-h,r.y2=o-h)}if(this.baseAxis==this.yAxis){var c=t.pixelHeight/2;i.y=c,r.y=c;var d=e.getWorkingValue(this.xOpenField),$=e.getWorkingValue(this.xField),y=this.xAxis.getX(e,this.xOpenField),x=this.xAxis.getX(e,this.xField),g=this.xAxis.getX(e,this.xLowField),f=this.xAxis.getX(e,this.xHighField),m=t.pixelX;i.x1=g-m,r.x1=f-m,d<$?(i.x2=y-m,r.x2=x-m):(i.x2=x-m,r.x2=y-m)}fa(this.axisRanges.iterator(),function(t){var l=e.rangesColumns.getKey(t.uid);if(l){var s=l.lowLine;s.x=i.x,s.y=i.y,s.x1=i.x1,s.x2=i.x2,s.y1=i.y1,s.y2=i.y2;var a=l.highLine;a.x=r.x,a.y=r.y,a.x1=r.x1,a.x2=r.x2,a.y1=r.y1,a.y2=r.y2}})}},Object.defineProperty(t.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),t.prototype.defineFields=function(){e.prototype.defineFields.call(this);var t=this.xAxis,i=this.yAxis;if(t&&i){if(this.baseAxis==t){var r=pe(i.axisFieldName);this._yLowField="low"+r+"Y",this._yHighField="high"+r+"Y"}if(this.baseAxis==i){var l=pe(t.axisFieldName);this._xLowField="low"+l+"X",this._xHighField="high"+l+"X"}this.addValueField(t,this._xValueFields,this._xLowField),this.addValueField(t,this._xValueFields,this._xHighField),this.addValueField(i,this._yValueFields,this._yLowField),this.addValueField(i,this._yValueFields,this._yHighField)}},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var r,l,s=e.createChild(af);s.shouldClone=!1,s.copyFrom(this.columns.template);var a=s.lowLine,o=s.highLine;this.baseAxis==this.yAxis?(r=t/3,l=i,a.y=i/2,o.y=i/2,a.x2=t/3,o.x2=t/3,o.x=t/3*2,s.column.x=t/3):(r=t,l=i/3,a.x=t/2,o.x=t/2,a.y2=i/3,o.y2=i/3,o.y=i/3*2,s.column.y=i/3),s.width=r,s.height=l,Wa(this,e,Ua),Wa(this.columns.template,s,Ua),s.stroke=this.riseFromOpenState.properties.stroke,s.fill=s.stroke;var p=e.dataItem;p.color=s.fill,p.colorOrig=s.fill},t.prototype.createColumnTemplate=function(){return new af},t}(uc);ca.registeredClasses.CandlestickSeries=Ij,ca.registeredClasses.CandlestickSeriesDataItem=Ng;var Og=function(e){function i(){var i=e.call(this)||this;return i.className="OHLC",i.layout="none",i}return da(i,e),i.prototype.createAssets=function(){this.openLine=this.createChild(Pb),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(Pb),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(Pb),this.closeLine.shouldClone=!1},i.prototype.copyFrom=function(i){e.prototype.copyFrom.call(this,i),this.openLine&&this.openLine.copyFrom(i.openLine),this.highLowLine&&this.highLowLine.copyFrom(i.highLowLine),this.closeLine&&this.closeLine.copyFrom(i.closeLine)},i}(af);ca.registeredClasses.OHLC=Og;var Jj=function(e){function t(){var t=e.call(this)||this;return t.className="OHLCSeriesDataItem",t.applyTheme(),t}return da(t,e),t}(Ng);var yo=function(e){function t(){var t=e.call(this)||this;return t.className="OHLCSeries",t.applyTheme(),t}return da(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"))},t.prototype.createDataItem=function(){return new Jj},t.prototype.validateCandlestick=function(e){var t=e.column;if(t){var i=t.openLine,r=t.highLowLine,s=t.closeLine;if(this.baseAxis==this.xAxis){var x=t.pixelWidth/2;r.x=x,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var a=this.yAxis.getY(e,this.yOpenField),o=this.yAxis.getY(e,this.yField),$=this.yAxis.getY(e,this.yLowField),l=this.yAxis.getY(e,this.yHighField),p=t.pixelY;i.y1=a-p,i.y2=a-p,i.x1=0,i.x2=x,s.y1=o-p,s.y2=o-p,s.x1=x,s.x2=2*x,r.y1=l-p,r.y2=$-p}if(this.baseAxis==this.yAxis){var n=t.pixelHeight/2;r.y=n,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var y=this.xAxis.getX(e,this.xOpenField),h=this.xAxis.getX(e,this.xField),c=this.xAxis.getX(e,this.xLowField),I=this.xAxis.getX(e,this.xHighField),u=t.pixelX;i.x1=y-u,i.x2=y-u,i.y1=n,i.y2=2*n,s.x1=h-u,s.x2=h-u,s.y1=0,s.y2=n,r.x1=I-u,r.x2=c-u}fa(this.axisRanges.iterator(),function(t){var x=e.rangesColumns.getKey(t.uid);if(x){var a=x.openLine;a.x=i.x,a.y=i.y,a.x1=i.x1,a.x2=i.x2,a.y1=i.y1,a.y2=i.y2;var o=x.closeLine;o.x=s.x,o.y=s.y,o.x1=s.x1,o.x2=s.x2,o.y1=s.y1,o.y2=s.y2;var $=x.highLowLine;$.x=r.x,$.y=r.y,$.x1=r.x1,$.x2=r.x2,$.y1=r.y1,$.y2=r.y2}})}},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var r,s,x=e.createChild(Og);x.shouldClone=!1,x.copyFrom(this.columns.template);var a=x.openLine,o=x.closeLine,$=x.highLowLine;this.baseAxis==this.yAxis?(r=t/3,s=i,$.y=i/2,$.x2=t,a.x=t/3*2,a.y2=i/2,o.x=t/3,o.y2=i,o.y1=i/2):(r=t,s=i/3,$.x=t/2,$.y2=i,a.y=i/3*2,a.x2=t/2,o.y=i/3,o.x2=t,o.x1=t/2),x.width=r,x.height=s,Wa(this,e,Ua),Wa(this.columns.template,x,Ua),x.stroke=this.riseFromOpenState.properties.stroke;var l=e.dataItem;l.color=x.stroke,l.colorOrig=x.stroke},t.prototype.createColumnTemplate=function(){return new Og},t}(Ij);ca.registeredClasses.OHLCSeries=yo,ca.registeredClasses.OHLCSeriesDataItem=Jj;var Kj=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeriesSegment",t}return da(t,e),t.prototype.drawSegment=function(e,t,p,$,i,r){if(e.length>0&&t.length>0)if(i){var S=ka(e[0]);if(e.length>0)for(var o=1;o<e.length;o++){var l=e[o];o/2==Math.round(o/2)?S+=ka(l):S+=ea(l)}this.strokeSprite.path=S,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(S=ka(e[0])+Od(e),S+=ea(t[0])+Od(t),S+=ea(e[0]),S+=Va(),this.fillSprite.path=S)}else{S=ka(e[0])+Od(e);this.strokeSprite.path=S,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(S+=ea(t[0])+Od(t),S+=ea(e[0]),S+=Va(),this.fillSprite.path=S)}},t}(Cg);ca.registeredClasses.StepLineSeriesSegment=Kj;var Lj=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeriesDataItem",t.applyTheme(),t}return da(t,e),t}(We);var zo=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeries",t.applyTheme(),t.startLocation=0,t.endLocation=1,t}return da(t,e),t.prototype.createDataItem=function(){return new Lj},t.prototype.addPoints=function(e,t,i,r,s){var n,o,a,p;this.baseAxis==this.xAxis&&(n=this.startLocation,o=this.endLocation,a=this.getAdjustedXLocation(t,this.yOpenField),p=this.getAdjustedXLocation(t,this.yField)),this.baseAxis==this.yAxis&&(a=this.startLocation,p=this.endLocation,n=this.getAdjustedXLocation(t,this.xOpenField),o=this.getAdjustedXLocation(t,this.xField));var $=this.xAxis.getX(t,i,n),h=this.yAxis.getY(t,r,a),u=this.xAxis.getX(t,i,o),c=this.yAxis.getY(t,r,p);if($=ma($,-1e5,1e5),h=ma(h,-1e5,1e5),u=ma(u,-1e5,1e5),c=ma(c,-1e5,1e5),!this.noRisers&&e.length>1){var x=e[e.length-1];this.baseAxis==this.xAxis&&(s?e.push({x:x.x,y:c}):e.push({x:$,y:x.y})),this.baseAxis==this.yAxis&&(s?e.push({x:u,y:x.y}):e.push({x:x.x,y:h}))}var S={x:$,y:h},m={x:u,y:c};s?e.push(m,S):e.push(S,m)},t.prototype.drawSegment=function(e,t,i){var r=!1;this.yAxis==this.baseAxis&&(r=!0),e.drawSegment(t,i,this.tensionX,this.tensionY,this.noRisers,r)},t.prototype.createSegment=function(){return new Kj},Object.defineProperty(t.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0)},enumerable:!0,configurable:!0}),t}(Xe);ca.registeredClasses.StepLineSeries=zo,ca.registeredClasses.StepLineSeriesDataItem=Lj;var Mj=function(r){function t(){var t=r.call(this)||this;return t.className="RadarColumn",t}return da(t,r),t.prototype.createAssets=function(){this.radarColumn=this.createChild(Hc),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn},t.prototype.copyFrom=function(t){r.prototype.copyFrom.call(this,t),this.radarColumn&&this.radarColumn.copyFrom(t.radarColumn)},t.prototype.getTooltipX=function(){var r=this.getPropertyValue("tooltipX");return aa(r)?r:this.radarColumn.getTooltipX()},t.prototype.getTooltipY=function(){var r=this.getPropertyValue("tooltipX");return aa(r)?r:this.radarColumn.getTooltipY()},t}(Mc);ca.registeredClasses.RadarColumn=Mj;var Ao=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeriesDataItem",t.applyTheme(),t}return da(t,e),t}(tc);var Bo=function(e){function t(){var t=e.call(this)||this;return t.className="RadarColumnSeries",t.applyTheme(),t}return da(t,e),t.prototype.createColumnTemplate=function(){return new Mj},t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this)},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),fa(this.axisRanges.iterator(),function(t){var i=e.rangesColumns.getKey(t.uid);i&&(i.__disabled=!0)}))},t.prototype.validateDataElementReal=function(e){var t,i,r,a,s=this,o=this.chart.startAngle,$=this.chart.endAngle,n=this.yField,l=this.yOpenField,d=this.xField,p=this.xOpenField,u=this.getStartLocation(e),m=this.getEndLocation(e),c=($-o)/(this.dataItems.length*(this.end-this.start)),h=e.column;h||(h=this.columns.create(),e.column=h,Wa(this,h,Ua),Wa(this.columns.template,h,Ua),e.addSprite(h),h.paper=this.paper,this.setColumnStates(h));var x=h.width,X=100;x instanceof za&&(X=x.percent);var g=ga((m-u)*(1-X/100)/2,5);if(u+=g,m-=g,this.xAxis instanceof Xa&&this.yAxis instanceof Xa?(r=Ea({x:this.yAxis.getX(e,n,0,"valueY"),y:this.yAxis.getY(e,n,0,"valueY")}),a=Ea({x:this.yAxis.getX(e,l,1,"valueY"),y:this.yAxis.getY(e,l,1,"valueY")}),t=this.xAxis.getAngle(e,p,0,"valueX"),i=this.xAxis.getAngle(e,d,1,"valueX"),o+=u*c,$-=(1-m)*c):this.baseAxis==this.xAxis?(r=Ea({x:this.yAxis.getX(e,n,e.locations[n],"valueY"),y:this.yAxis.getY(e,n,e.locations[n],"valueY")}),a=Ea({x:this.yAxis.getX(e,l,e.locations[l],"valueY"),y:this.yAxis.getY(e,l,e.locations[l],"valueY")}),t=this.xAxis.getAngle(e,p,u,"valueX"),i=this.xAxis.getAngle(e,d,m,"valueX"),o+=u*c,$-=(1-m)*c):(r=Ea({x:this.yAxis.getX(e,n,u,"valueY"),y:this.yAxis.getY(e,n,u,"valueY")}),a=Ea({x:this.yAxis.getX(e,l,m,"valueY"),y:this.yAxis.getY(e,l,m,"valueY")}),t=this.xAxis.getAngle(e,d,e.locations[d],"valueX"),i=this.xAxis.getAngle(e,p,e.locations[p],"valueX")),i<t){var j=i;i=t,t=j}t=ma(t,o,$),i=ma(i,o,$);var y=h.radarColumn;y.startAngle=t;var Z=i-t;Z>0?(y.arc=Z,y.radius=r,y.innerRadius=a,h.__disabled=!1,h.parent=this.columnsContainer,fa(this.axisRanges.iterator(),function(i){var o=e.rangesColumns.getKey(i.uid);o||(o=s.columns.create(),Al(s.columns.template,o,Ua),Wa(i.contents,o,Ua),o.dataItem&&pa(o.dataItem.sprites,o),e.addSprite(o),o.paper=s.paper,s.setColumnStates(o),e.rangesColumns.setKey(i.uid,o));var $=o.radarColumn;$.startAngle=t,$.arc=Z,$.radius=r,$.innerRadius=a,$.invalid&&($.paper=s.paper,$.validate()),o.__disabled=!1,o.parent=i.contents})):this.disableUnusedColumns(e)},t.prototype.getPoint=function(e,t,i,r,a,s,o){s||(s="valueX"),o||(o="valueY");var $=this.yAxis.getX(e,i,a,o),n=this.yAxis.getY(e,i,a,o),l=Ea({x:$,y:n});0==l&&(l=1e-5);var d=this.xAxis.getAngle(e,t,r,s);return{x:l*ja(d),y:l*ia(d)}},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return fd(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.positionBulletReal=function(e,t,i){var r=this.xAxis,a=this.yAxis;(t<r.start||t>r.end||i<a.start||i>a.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,i))},t.prototype.setXAxis=function(t){e.prototype.setXAxis.call(this,t),this.updateRendererRefs()},t.prototype.setYAxis=function(t){e.prototype.setYAxis.call(this,t),this.updateRendererRefs()},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,t=this.yAxis.renderer;e.axisRendererY=t},t}(uc);ca.registeredClasses.RadarColumnSeries=Bo,ca.registeredClasses.RadarColumnSeriesDataItem=Ao;var Pg=function(t){function e(){var e=t.call(this)||this;return e.slice=e.createChild(sa),e.slice.shouldClone=!1,e.slice.setElement(e.paper.add("path")),e.slice.isMeasured=!1,e.orientation="vertical",e.bottomWidth=ha(100),e.topWidth=ha(100),e.isMeasured=!1,e.width=10,e.height=10,e.expandDistance=0,e.className="FunnelSlice",e.applyTheme(),e}return da(e,t),e.prototype.draw=function(){t.prototype.draw.call(this);var e=this.pixelPaddingTop,i=this.pixelPaddingBottom,r=this.pixelPaddingRight,o=this.pixelPaddingLeft,$=this.pixelWidth-r-o,p=this.pixelHeight-e-i,a=this.expandDistance,n="";if("vertical"==this.orientation){var l={x:($-(b=Na(this.topWidth,$)))/2+o,y:e},s={x:($+b)/2+o,y:e},h={x:($+(m=Na(this.bottomWidth,$)))/2+o,y:e+p},u={x:($-m)/2+o,y:e+p},c={x:s.x+(h.x-s.x)/2+a*p,y:s.y+.5*p},y={x:l.x+(u.x-l.x)/2-a*p,y:l.y+.5*p},x=ea(h),d="";0!=a&&(x=Gc(h,c),d=Gc(l,y)),n=ka(l)+ea(s)+x+ea(u)+d,this.tickPoint={x:s.x+(h.x-s.x)/2,y:s.y+(h.y-s.y)/2}}else{var b,m,S={x:o,y:(p-(b=Na(this.topWidth,p)))/2+e},N={x:o,y:(p+b)/2+e},K={x:o+$,y:(p-(m=Na(this.bottomWidth,p)))/2+e},g={x:o+$,y:(p+m)/2+e};c={y:S.y+(K.y-S.y)/2-a*$,x:S.x+.5*$},y={y:N.y+(g.y-N.y)/2+a*$,x:N.x+.5*$},x=ea(K),d="";0!=a&&(x=Gc(K,c),d=Gc(N,y)),n=ka(N)+ea(S)+x+ea(g)+d,this.tickPoint={y:N.y+(g.y-N.y)/2,x:N.x+(g.x-N.x)/2}}this.slice.path=n,this.invalidateLayout()},e.prototype.getPoint=function(t,e){var i=this.pixelPaddingTop,r=this.pixelPaddingBottom,o=this.pixelPaddingRight,$=this.pixelPaddingLeft,p=this.pixelWidth-o-$,a=this.pixelHeight-i-r;if("vertical"==this.orientation){var n={x:(p-(u=Na(this.topWidth,p)))/2+$,y:i},l={x:(p+u)/2+$,y:i},s={x:(p+(c=Na(this.bottomWidth,p)))/2+$,y:i+a},h=n.x+({x:(p-c)/2+$,y:i+a}.x-n.x)*e;return{x:h+(l.x+(s.x-l.x)*e-h)*t,y:l.y+(s.y-l.y)*e}}var u,c,y={x:$,y:(a-(u=Na(this.topWidth,a)))/2+i},x={x:$,y:(a+u)/2+i},d={x:$+p,y:(a-(c=Na(this.bottomWidth,a)))/2+i},b=y.y+(d.y-y.y)*t;return{y:b+(x.y+({x:$+p,y:(a+c)/2+i}.y-x.y)*t-b)*e,x:y.x+(d.x-y.x)*t}},Object.defineProperty(e.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(t){this.setPercentProperty("bottomWidth",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(t){this.setPercentProperty("topWidth",t,!0,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(t){this.setPropertyValue("orientation",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(t){this.setPropertyValue("expandDistance",t,!0)},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.slice&&this.slice.copyFrom(e.slice)},e}(na);ca.registeredClasses.FunnelSlice=Pg;var Nj=function(e){function t(){var t=e.call(this)||this;return t._label=new bb,t._slice=new bb,t.className="FunnelTick",t.element=t.paper.add("path"),t._disposers.push(t._label),t._disposers.push(t._slice),t.setPropertyValue("locationX",0),t.setPropertyValue("locationY",0),t.applyTheme(),t}return da(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.slice,r=t.getPoint(this.locationX,this.locationY);if(r){var i=this.label,o=t.dataItem.component,n=void 0,l=void 0,s=void 0;if("vertical"==o.orientation){var p=i.pixelX,a=i.pixelY;o.labelsOpposite||(p+=i.maxRight),n=wb(r,t,this.parent),s=wb({x:p,y:a},i.parent,this.parent),l={x:i.parent.pixelX-this.length,y:s.y},o.labelsOpposite||(l.x=i.parent.measuredWidth+this.length)}else{p=i.pixelX,a=i.pixelY;o.labelsOpposite||(a+=i.maxBottom),n=wb(r,t,this.parent),l={x:(s=wb({x:p,y:a},i.parent,this.parent)).x,y:i.parent.pixelY-this.length},o.labelsOpposite||(l.y=i.parent.measuredHeight+this.length)}this.path=ka(n)+ea(l)+ea(s)}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Pa([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0)},enumerable:!0,configurable:!0}),t}(Vd);ca.registeredClasses.FunnelTick=Nj;var Qg=function(e){function t(){var t=e.call(this)||this;return t.className="FunnelSeriesDataItem",t.events.on("visibilitychanged",function(){t.component&&t.component.invalidateDataItems()},t,!1),t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var t=this.component.sliceLinks.create();this._sliceLink=t,this._disposers.push(t),t.parent=this.component.slicesContainer,this._disposers.push(new Ga(function(){e.component&&e.component.sliceLinks.removeValue(t)})),this.addSprite(t),t.visible=this.visible}return this._sliceLink},enumerable:!0,configurable:!0}),t}(Ze);var Oj=function(e){function t(){var t=e.call(this)||this;return t._nextY=0,t.className="FunnelSeries",t.orientation="vertical",t.width=ha(100),t.height=ha(100),t.slicesContainer.width=ha(100),t.slicesContainer.height=ha(100),t._disposers.push(t.slicesContainer.events.on("maxsizechanged",t.invalidateDataItems,t,!1)),t.labelsOpposite=!0,t.labelsContainer.layout="absolute",t.bottomRatio=0,t.applyTheme(),t}return da(t,e),t.prototype.createSlice=function(){return new Pg},t.prototype.createTick=function(){return new Nj},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"))},t.prototype.createDataItem=function(){return new Qg},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#')}% ({value.value})",e.states.create("hover").properties.expandDistance=.2},t.prototype.initLabel=function(t){e.prototype.initLabel.call(this,t),t.verticalCenter="middle",t.horizontalCenter="middle",t.isMeasured=!0,t.padding(5,5,5,5)},t.prototype.validate=function(){e.prototype.validate.call(this),this._nextY=0},t.prototype.validateDataElements=function(){var t=this,i=this.slicesContainer,a=this.labelsContainer,s=this.labels.template;this.alignLabels?(s.interactionsEnabled=!0,i.isMeasured=!0,a.isMeasured=!0):(s.interactionsEnabled=!1,i.isMeasured=!1,a.isMeasured=!1);var r=0,n=0;this.dataItems.each(function(e){ba(e.value)&&(n++,e.value>0?r+=Math.abs(e.getWorkingValue("value")/e.value):t.ignoreZeroValues?n--:!e.visible||e.__disabled||e.isHiding?n--:r+=1)}),this._total=1/n*r,this._count=n,e.prototype.validateDataElements.call(this),this.arrangeLabels()},t.prototype.getNextValue=function(e){var t=e.index,i=e.getWorkingValue("value");if(t<this.dataItems.length-1){var a=this.dataItems.getIndex(t+1);if(i=a.getWorkingValue("value"),!a.visible||a.isHiding||a.__disabled||0==a.value&&this.ignoreZeroValues)return this.getNextValue(a)}return i},t.prototype.formDataElement=function(){},t.prototype.validateDataElement=function(t){var i=this,a=t.slice;a.orientation=this.orientation;var s=t.sliceLink;s.orientation=this.orientation;var r=t.tick,n=t.label;r.slice=a,r.label=n,ba(t.value)?(this.decorateSlice(t),la(t.sprites,function(e){0==t.value&&i.ignoreZeroValues?e.__disabled=!0:e.__disabled=!1})):la(t.sprites,function(e){e.__disabled=!0}),t.index==this.dataItems.length-1&&(s.disabled=!0),e.prototype.validateDataElement.call(this,t),s.fill=a.fill},t.prototype.decorateSlice=function(e){var t=e.slice,i=e.sliceLink,a=e.label,s=e.tick,r=this.slicesContainer.innerWidth,n=this.slicesContainer.innerHeight,l=this.getNextValue(e),o=Math.abs(e.getWorkingValue("value")),p=this.bottomRatio,h=1;if(0!=e.value?h=o/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(h=1e-6),this.ignoreZeroValues&&0==e.value)e.__disabled=!0;else if(e.__disabled=!1,this._nextY==1/0&&(this._nextY=0),"vertical"==this.orientation){var c=i.pixelHeight*h;n+=c,t.topWidth=o/this.dataItem.values.value.high*r,t.bottomWidth=(o-(o-l)*p)/this.dataItem.values.value.high*r,i.topWidth=t.bottomWidth,i.bottomWidth=(o-(o-l))/this.dataItem.values.value.high*r,t.y=this._nextY,t.height=Math.min(1e5,ua(0,n/this._count*h/this._total-c)),t.x=r/2,this.alignLabels?a.x=void 0:a.x=t.x,a.y=t.pixelY+t.pixelHeight*s.locationY,this._nextY+=t.pixelHeight+c,i.y=this._nextY-c,i.x=t.x}else{var u=i.pixelWidth*h;r+=u,t.topWidth=o/this.dataItem.values.value.high*n,t.bottomWidth=(o-(o-l)*p)/this.dataItem.values.value.high*n,i.topWidth=t.bottomWidth,i.bottomWidth=(o-(o-l))/this.dataItem.values.value.high*n,t.x=this._nextY,t.width=Math.min(1e5,r/this._count*h*1/this._total-u),t.y=n/2,this.alignLabels?a.y=this.labelsContainer.measuredHeight:a.y=t.y,a.x=t.pixelX+t.pixelWidth*s.locationX,this._nextY+=t.pixelWidth+u,i.x=this._nextY-u,i.y=t.y}},t.prototype.getLastLabel=function(e){if(e>0){var t=this.labels.getIndex(e);return t.__disabled||!t.visible?this.getLastLabel(e-1):t}},t.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var t=this.getLastLabel(e-1);if(t){var i=t.pixelY,a=t.pixelX;if(e>1){for(var s=e-2;s>=0;s--){(r=this.labels.getIndex(s)).visible&&!r.__disabled&&(r.invalid&&r.validate(),"vertical"==this.orientation?r.pixelY+r.measuredHeight>i&&(r.y=Math.min(1e6,i-r.measuredHeight)):r.pixelX+r.measuredWidth>a&&(r.x=Math.min(1e6,a-r.measuredWidth)),i=r.pixelY,a=r.pixelX)}i=0,a=0;for(s=0;s<e;s++){var r;(r=this.labels.getIndex(s)).visible&&!r.__disabled&&(r.invalid&&r.validate(),"vertical"==this.orientation?r.pixelY<i&&(r.y=Math.min(1e6,i)):r.pixelX<a&&(r.x=Math.min(1e6,a)),i+=r.measuredHeight,a+=r.measuredWidth)}}}}}},t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem.slice,a=t.locationX;aa(a)||(a=.5);var s=t.locationY;aa(s)||(s=1),t.x=i.pixelX+i.measuredWidth*a,t.y=i.pixelY+i.measuredHeight*s},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),"vertical"==e?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new Pg;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new Ra(e),this._disposers.push(new Ja(this._sliceLinks))}return this._sliceLinks},enumerable:!0,configurable:!0}),t.prototype.show=function(t){var i=this,a=this.startIndex,s=this.endIndex,r=this.defaultState.transitionDuration;aa(t)&&(r=t),Fa.animationsEnabled||(r=0);var n=0;return fa(Ac(this.dataItems.iterator()),function(e){var t=e[0],l=e[1];i.sequencedInterpolation&&(n=i.sequencedInterpolationDelay*t+r*(t-a)/(s-a)),l.show(r,n,["value"])}),e.prototype.show.call(this,t)},t.prototype.hide=function(t){var i=this,a=["value"],s=this.startIndex,r=this.endIndex,n=0,l=this.hiddenState.transitionDuration;aa(t)&&(l=t),Fa.animationsEnabled||(l=0),fa(Ac(this.dataItems.iterator()),function(e){var t=e[0],o=e[1];i.sequencedInterpolation&&(n=i.sequencedInterpolationDelay*t+l*(t-s)/(r-s)),o.hide(l,n,0,a)});var o=e.prototype.hide.call(this,t);return o&&!o.isFinished()&&o.delay(n),o},t.prototype.setAlignLabels=function(t){e.prototype.setAlignLabels.call(this,t),this.ticks.template.disabled=!t;var i=this.labelsContainer;i&&(t?(i.height=void 0,i.width=void 0,i.margin(10,10,10,10)):(i.width=ha(100),i.height=ha(100))),this.labelsOpposite=this.labelsOpposite},Object.defineProperty(t.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var t=this.labels.template,i="none",a="none";this.alignLabels?e?(this.labelsContainer.toFront(),"vertical"==this.orientation?(this.ticks.template.locationX=1,t.horizontalCenter="left",i="right"):(this.ticks.template.locationY=1,t.horizontalCenter="right",a="bottom")):(this.labelsContainer.toBack(),"vertical"==this.orientation?(this.ticks.template.locationX=0,i="left"):(a="top",this.ticks.template.locationY=0)):"vertical"==this.orientation?i="center":a="middle",t.align=i,t.valign=a,this.validateLayout(),this.ticks.each(function(e){e.invalidate()}),this.invalidateDataItems()},enumerable:!0,configurable:!0}),t}(Xd);ca.registeredClasses.FunnelSeries=Oj,ca.registeredClasses.FunnelSeriesDataItem=Qg;var Rg=function(t){function e(){var e=t.call(this)||this;return e.className="PyramidSeriesDataItem",e.applyTheme(),e}return da(e,t),e}(Qg);var Pj=function(t){function e(){var e=t.call(this)||this;return e.className="PyramidSeries",e.topWidth=ha(0),e.bottomWidth=ha(100),e.pyramidHeight=ha(100),e.valueIs="area",e.sliceLinks.template.width=0,e.sliceLinks.template.height=0,e.applyTheme(),e}return da(e,t),e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},e.prototype.createDataItem=function(){return new Rg},e.prototype.validate=function(){t.prototype.validate.call(this),this._nextWidth=void 0},e.prototype.getNextValue=function(t){var e=t.index,i=t.getWorkingValue("value");e<this.dataItems.length-1&&(i=this.dataItems.getIndex(e+1).getWorkingValue("value"));return 0==i&&(i=1e-6),i},e.prototype.validateDataElements=function(){var e=this,i=this.slicesContainer.innerWidth,r=this.slicesContainer.innerHeight;if(this.dataItems.each(function(t){if(t.value>0){var a=t.getWorkingValue("value")/t.value,s=t.sliceLink;"vertical"==e.orientation?r-=s.pixelHeight*a:i-=s.pixelWidth*a}}),this._pyramidHeight=Na(this.pyramidHeight,r),this._pyramidWidth=Na(this.pyramidHeight,i),"vertical"==this.orientation){var a=(r-this._pyramidHeight)/2;this.slicesContainer.y=a,this.labelsContainer.y=a,this.ticksContainer.y=a}else{var s=(i-this._pyramidWidth)/2;this.slicesContainer.x=s,this.labelsContainer.x=s,this.ticksContainer.x=s}t.prototype.validateDataElements.call(this)},e.prototype.decorateSlice=function(t){var e=this.dataItem.values.value.absoluteSum;if(0!=e){var i=t.slice,r=t.sliceLink,a=t.label,s=t.tick;this.getNextValue(t);var o=Math.abs(t.getWorkingValue("value")),h=this._pyramidWidth,n=this._pyramidHeight,l=this.slicesContainer.innerWidth,p=this.slicesContainer.innerHeight,d=r.pixelWidth,$=r.pixelHeight;if(0==t.value&&this.ignoreZeroValues?t.__disabled=!0:t.__disabled=!1,"vertical"==this.orientation){var u=Na(this.topWidth,l);aa(this._nextWidth)||(this._nextWidth=u);var m=Na(this.bottomWidth,l),c=this._nextWidth,y=Math.atan2(n,u-m);0==(C=Math.tan(Math.PI/2-y))&&(C=1e-8);var v=void 0,g=void 0;if("area"==this.valueIs){var V=(u+m)/2*n*o/e,x=Math.abs(c*c-2*V*C);g=(v=(c-Math.sqrt(x))/C)>0?(2*V-v*c)/v:c}else g=c-(v=n*o/e)*C;i.height=v,i.width=l,i.bottomWidth=g,i.topWidth=c,r.topWidth=i.bottomWidth,r.bottomWidth=i.bottomWidth,i.y=this._nextY,this.alignLabels?a.x=0:a.x=l/2,a.y=i.pixelY+i.pixelHeight*s.locationY+i.dy,this._nextY+=i.pixelHeight+$*o/Math.max(Math.abs(t.value),1e-8),r.y=this._nextY-$,r.x=l/2}else{u=Na(this.topWidth,p);aa(this._nextWidth)||(this._nextWidth=u);var C;m=Na(this.bottomWidth,p),c=this._nextWidth,y=Math.atan2(h,u-m);0==(C=Math.tan(Math.PI/2-y))&&(C=1e-8);var W=void 0;g=void 0;if("area"==this.valueIs)g=(2*(V=(u+m)/2*h*o/e)-(W=(c-Math.sqrt(c*c-2*V*C))/C)*c)/W;else g=c-(W=h*o/e)*C;i.width=W,i.height=p,i.bottomWidth=g,i.topWidth=c,r.topWidth=i.bottomWidth,r.bottomWidth=i.bottomWidth,i.x=this._nextY,this.alignLabels?a.y=this.labelsContainer.measuredHeight:a.y=p/2,a.x=i.pixelX+i.pixelWidth*s.locationX+i.dx,this._nextY+=i.pixelWidth+d*o/Math.max(Math.abs(t.value),1e-8),r.x=this._nextY-d,r.y=p/2}this._nextWidth=i.bottomWidth}},Object.defineProperty(e.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(t){this.setPercentProperty("topWidth",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(t){this.setPercentProperty("pyramidHeight",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(t){this.setPercentProperty("bottomWidth",t,!1,!1,10,!1)&&this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(t){this.setPropertyValue("valueIs",t)&&this.invalidate()},enumerable:!0,configurable:!0}),e}(Oj);ca.registeredClasses.PyramidSeries=Pj,ca.registeredClasses.PyramidSeriesDataItem=Rg;var Qj=function(t){function e(){var e=t.call(this)||this;return e.className="PictorialStackedSeriesDataItem",e.applyTheme(),e}return da(e,t),e}(Rg);var Co=function(t){function e(){var e=t.call(this)||this;return e.className="PictorialStackedSeries",e.topWidth=ha(100),e.bottomWidth=ha(100),e.valueIs="height",e.applyTheme(),e.startLocation=0,e.endLocation=1,e.align="center",e.valign="middle",e._maskSprite=e.slicesContainer.createChild(sa),e._maskSprite.visible=!1,e._maskSprite.zIndex=100,e._maskSprite.shouldClone=!1,e}return da(e,t),e.prototype.validateDataElements=function(){var e=this.slicesContainer.maxWidth,i=this.slicesContainer.maxHeight,r=this._maskSprite,a=r.measuredWidth/r.scale,s=r.measuredHeight/r.scale,o=ya(i/s,e/a);o==1/0&&(o=1),o=ua(.001,o);var n,l,p=this.startLocation,c=this.endLocation,$=ya(e,a*o),h=ya(i,s*o);r.scale=o,"vertical"==this.orientation?(this.topWidth=$+4,this.bottomWidth=$+4,this.pyramidHeight=h*(c-p),r.x=e/2,r.y=h/2):(this.topWidth=h+4,this.bottomWidth=h+4,this.pyramidHeight=$*(c-p),r.valign="middle",r.x=$/2,r.y=i/2),r.verticalCenter="middle",r.horizontalCenter="middle",t.prototype.validateDataElements.call(this),"vertical"==this.orientation?("bottom"==this.valign&&(n=i-h),"middle"==this.valign&&(n=(i-h)/2),"top"==this.valign&&(n=0),"left"==this.align&&(l=-(e-$)/2),"center"==this.align&&(l=0),"right"==this.align&&(l=(e-$)/2),this.slices.template.dy=p*h,this.alignLabels&&(this.slicesContainer.dx=l)):("bottom"==this.valign&&(n=(i-h)/2),"middle"==this.valign&&(n=0),"top"==this.valign&&(n=-(i-h)/2),"left"==this.align&&(l=0),"center"==this.align&&(l=(e-$)/2),"right"==this.align&&(l=e-$),this.slices.template.dx=p*$,this.alignLabels&&(this.slicesContainer.dy=n)),this.slicesContainer.x=l,this.labelsContainer.x=l,this.ticksContainer.x=l,this.slicesContainer.y=n,this.labelsContainer.y=n,this.ticksContainer.y=n,$>0&&h>0&&(this.slicesContainer.mask=r)},e.prototype.applyInternalDefaults=function(){t.prototype.applyInternalDefaults.call(this),ba(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"))},e.prototype.createDataItem=function(){return new Qj},Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),e.prototype.initSlice=function(e){t.prototype.initSlice.call(this,e);var i=e.states.getKey("hover");i&&(i.properties.expandDistance=0)},Object.defineProperty(e.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(t){this.setPropertyValue("startLocation",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(t){this.setPropertyValue("endLocation",t)&&this.invalidateDataItems()},enumerable:!0,configurable:!0}),e}(Pj);ca.registeredClasses.PictorialStackedSeries=Co,ca.registeredClasses.PictorialStackedSeriesDataItem=Qj;var Rj=function(o){function e(){var e=o.call(this)||this;return e.className="ConeColumn",e}return da(e,o),e.prototype.createAssets=function(){this.coneColumn=this.createChild(Un),this.coneColumn.shouldClone=!1,this.column=this.coneColumn},e.prototype.copyFrom=function(e){o.prototype.copyFrom.call(this,e),this.coneColumn&&this.coneColumn.copyFrom(e.coneColumn)},e}(Mc);ca.registeredClasses.ConeColumn=Rj;var Do=function(e){function t(){var t=e.call(this)||this;return t.className="ConeSeriesDataItem",t.applyTheme(),t}return da(t,e),t}(tc);var Eo=function(e){function t(){var t=e.call(this)||this;return t.className="ConeSeries",t.applyTheme(),t}return da(t,e),t.prototype.createColumnTemplate=function(){return new Rj},t.prototype.getMaskPath=function(){var e=0,t=0,r=this.columns.getIndex(0);if(r)return this.baseAxis==this.xAxis?t=r.coneColumn.innerWidth/2+1:e=r.coneColumn.innerHeight/2+1,rc({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+t})},t.prototype.validateDataElementReal=function(t){if(e.prototype.validateDataElementReal.call(this,t),t.column){var r=t.column.coneColumn;r.fill=t.column.fill,this.baseAxis==this.yAxis?r.orientation="horizontal":r.orientation="vertical"}},t}(uc);ca.registeredClasses.ConeSeries=Eo,ca.registeredClasses.ConeSeriesDataItem=Do;var Sj=function(e){function t(){var t=e.call(this)||this;return t.className="CurvedColumn",t}return da(t,e),t.prototype.createAssets=function(){this.curvedColumn=this.createChild(sa),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=ha(120),this.height=ha(120),this.column=this.curvedColumn},t.prototype.draw=function(){e.prototype.draw.call(this);var t,r=this.realWidth,o=this.realHeight,i=this.realX-this.pixelX,n=this.realY-this.pixelY;ub(this.width);var s=1,u=1;"vertical"==this.orientation?(s=this.tension,t=[{x:0,y:o+n},{x:r/2,y:n},{x:r,y:o+n}]):(u=this.tension,t=[{x:i,y:0},{x:i+r,y:o/2},{x:i,y:o}]);var $=ka(t[0])+new sc(s,u).smooth(t);this.column.path=$},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.curvedColumn&&this.curvedColumn.copyFrom(t.curvedColumn)},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0)},enumerable:!0,configurable:!0}),t}(Mc);ca.registeredClasses.CurvedColumn=Sj;var Fo=function(e){function r(){var r=e.call(this)||this;return r.className="CurvedColumnSeriesDataItem",r.applyTheme(),r}return da(r,e),r}(tc);var Go=function(e){function r(){var r=e.call(this)||this;return r.className="CurvedColumnSeries",r.applyTheme(),r}return da(r,e),r.prototype.createColumnTemplate=function(){return new Sj},r.prototype.validateDataElementReal=function(r){e.prototype.validateDataElementReal.call(this,r);var t=r.column;(t=r.column)&&(r.column.curvedColumn.fill=r.column.fill,this.baseAxis==this.yAxis?t.orientation="horizontal":t.orientation="vertical")},r}(uc);ca.registeredClasses.CurvedColumnSeries=Go,ca.registeredClasses.CurvedColumnSeriesDataItem=Fo;var Ho=function(e){function r(){var r=e.call(this)||this;r.className="CircleBullet";var l=r.createChild(Fc);return l.shouldClone=!1,l.radius=5,l.isMeasured=!1,r.circle=l,r.applyTheme(),r}return da(r,e),r.prototype.copyFrom=function(r){e.prototype.copyFrom.call(this,r),this.circle.copyFrom(r.circle)},r}(ac);ca.registeredClasses.CircleBullet=Ho;var Io=function(e){function r(){var r=e.call(this)||this;return r.className="ErrorBullet",r.errorLine=r.createChild(sa),r.errorLine.shouldClone=!1,r.width=20,r.height=20,r.strokeOpacity=1,r.isDynamic=!0,r}return da(r,e),r.prototype.validatePosition=function(){e.prototype.validatePosition.call(this);var r=this.pixelWidth/2,t=this.pixelHeight/2;this.errorLine.path=ka({x:-r,y:-t})+ea({x:r,y:-t})+ka({x:0,y:-t})+ea({x:0,y:t})+ka({x:-r,y:t})+ea({x:r,y:t})},r.prototype.copyFrom=function(r){e.prototype.copyFrom.call(this,r),this.errorLine.copyFrom(r.errorLine)},r}(ac);ca.registeredClasses.ErrorBullet=Io;var Jo=function(e){function t(){var t=e.call(this)||this;return t.className="NavigationBarDataItem",t.applyTheme(),t}return da(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e)},enumerable:!0,configurable:!0}),t}(Dc);var Ko=function(e){function t(){var t=e.call(this)||this;t.className="NavigationBar";var n=new Ba,r=new sg;r.valign="middle",r.paddingTop=8,r.paddingBottom=8,t.paddingBottom=2,t.links=new Ra(r),t._disposers.push(new Ja(t.links)),t._disposers.push(r),t._linksIterator=new Jf(t.links,function(){return t.links.create()}),t._linksIterator.createNewItems=!0;var a=new tg;a.direction="right",a.width=8,a.height=12,a.fill=n.getFor("alternativeBackground"),a.fillOpacity=.5,a.valign="middle",a.marginLeft=10,a.marginRight=10,t.separators=new Ra(a),t._disposers.push(new Ja(t.separators)),t._disposers.push(a);var i=new sg;return t.activeLink=i,i.copyFrom(r),i.valign="middle",i.fontWeight="bold",t.width=ha(100),t.layout="grid",t.dataFields.name="name",t.applyTheme(),t}return da(t,e),t.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),e.prototype.validateDataElements.call(this)},t.prototype.validateDataElement=function(t){var n;if(e.prototype.validateDataElement.call(this,t),t.index<this.dataItems.length-1){(n=this._linksIterator.getLast()).parent=this;var r=this.separators.create();r.parent=this,r.valign="middle"}else(n=this.activeLink).events.copyFrom(this.links.template.events),n.hide(0),n.show(),n.parent=this;n.dataItem=t,n.text=t.name,n.validate()},t}(Ec);ca.registeredClasses.NavigationBar=Ko,ca.registeredClasses.NavigationBarDataItem=Jo;var Tj=function(t){function i(){var i=t.call(this)||this;i.point={x:0,y:0},i._stick="none",i.className="Cursor",i.width=ha(100),i.height=ha(100),i.shouldClone=!1,i.hide(0),i.trackable=!0,i.clickable=!0,i.isMeasured=!1;var e=ra();return i._disposers.push(e.body.events.on("down",i.handleCursorDown,i)),i._disposers.push(e.body.events.on("up",i.handleCursorUp,i)),i._disposers.push(e.body.events.on("track",i.handleCursorMove,i)),i.applyTheme(),i}return da(i,t),i.prototype.handleCursorMove=function(t){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&t.touch)){if(("zoom"==this._generalBehavior||"pan"==this._generalBehavior)&&this.downPoint||ra().isLocalElement(t.pointer,this.paper.svg,this.uid)){var i=_c(t.pointer.point,this);return"hard"==this._stick&&this._stickPoint&&(i=this._stickPoint),"soft"==this._stick&&this._stickPoint&&(this.fitsToBounds(i)||(i=this._stickPoint)),this.triggerMove(i),i}this.isHidden&&this.isHiding||this.hide()}},i.prototype.hideReal=function(i){if("hard"!=this._stick&&"soft"!=this._stick||!this._stickPoint)return t.prototype.hideReal.call(this,i)},i.prototype.triggerMove=function(t,i,e){t.x=ga(t.x,1),t.y=ga(t.y,1),i&&(this._stick=i),"hard"!=i&&"soft"!=i||(this._stickPoint=t),this.triggerMoveReal(t,e)},i.prototype.triggerMoveReal=function(t,i){(this.point.x!=t.x||this.point.y!=t.y||i)&&(this.point=t,this.invalidatePosition(),this.fitsToBounds(t)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")))},i.prototype.triggerDown=function(t){this.triggerDownReal(t)},i.prototype.triggerDownReal=function(t){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),ra().setGlobalStyle(fb.grabbing);}},i.prototype.triggerUp=function(t){this.triggerUpReal(t)},i.prototype.triggerUpReal=function(t){xa.requestFrame(),this.updatePoint(this.upPoint);var i=ra();if(Ea(this._upPointOrig,this._downPointOrig)>i.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),i.setGlobalStyle(fb.default);}this.downPoint=void 0,this.updateSelection()}},i.prototype.updateSelection=function(){},i.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight},i.prototype.handleCursorDown=function(t){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&t.touch)&&ra().isLocalElement(t.pointer,this.paper.svg,this.uid)){var i=_c(t.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(i=this._stickPoint),this._downPointOrig={x:i.x,y:i.y},t.event.cancelable&&this.shouldPreventGestures(t.touch)&&this.fitsToBounds(i)&&t.event.preventDefault(),this.triggerMove(i),this.triggerDown(i)}},i.prototype.shouldPreventGestures=function(t){return!0},i.prototype.updatePoint=function(t){},i.prototype.handleCursorUp=function(t){if(this.interactionsEnabled&&(this.downPoint||ra().isLocalElement(t.pointer,this.paper.svg,this.uid))){var i=_c(t.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(i=this._stickPoint),this._upPointOrig={x:i.x,y:i.y},this.triggerMove(i),this.triggerUp(i)}},Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t,ba(this._chart.plotContainer)&&ra().lockElement(this._chart.plotContainer.interactions)},enumerable:!0,configurable:!0}),i}(na);ca.registeredClasses.Cursor=Tj;var Sg=function(i){function t(){var t=i.call(this)||this;t._lineX=new bb,t._lineY=new bb,t._xAxis=new bb,t._yAxis=new bb,t._snapToDisposers=[],t.className="XYCursor",t.behavior="zoomX",t.maxPanOut=.1;var e=new Ba,n=t.createChild(sa);n.shouldClone=!1,n.fillOpacity=.2,n.fill=e.getFor("alternativeBackground"),n.isMeasured=!1,n.visible=!1,n.interactionsEnabled=!1,t.selection=n,t._disposers.push(t.selection);var s=t.createChild(sa);s.shouldClone=!1,s.stroke=e.getFor("grid"),s.fill=oa(),s.strokeDasharray="3,3",s.isMeasured=!1,s.strokeOpacity=.4,s.interactionsEnabled=!1,s.y=0,t.lineX=s,t._disposers.push(t.lineX);var o=t.createChild(sa);return o.shouldClone=!1,o.stroke=e.getFor("grid"),o.fill=oa(),o.strokeDasharray="3,3",o.isMeasured=!1,o.strokeOpacity=.4,o.interactionsEnabled=!1,o.x=0,t.lineY=o,t._disposers.push(t.lineY),t.events.on("sizechanged",t.updateSize,t,!1),t._disposers.push(t._lineX),t._disposers.push(t._lineY),t._disposers.push(t._xAxis),t._disposers.push(t._yAxis),t.mask=t,t.hideSeriesTooltipsOnSelection=!0,t.applyTheme(),t}return da(t,i),t.prototype.updateSize=function(){this.lineX&&(this.lineX.path=ka({x:0,y:0})+ea({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=ka({x:0,y:0})+ea({x:this.innerWidth,y:0}))},t.prototype.updateSelection=function(){if(this._usesSelection){var i=this.downPoint,t=this.behavior;if(i){var e=this.point;this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY);var n=this.selection,s=Math.min(e.x,i.x),o=Math.min(e.y,i.y),r=ga(Math.abs(i.x-e.x),this._positionPrecision),a=ga(Math.abs(i.y-e.y),this._positionPrecision);switch(t){case"zoomX":o=0,a=this.pixelHeight;break;case"zoomY":s=0,r=this.pixelWidth;break;case"selectX":o=0,a=this.pixelHeight;break;case"selectY":s=0,r=this.pixelWidth;}n.x=s,n.y=o,n.path=qg(r,a),n.validatePosition()}else"select"!=this._generalBehavior&&this.selection.hide()}},t.prototype.fixPoint=function(i){return i.x=Math.max(0,i.x),i.y=Math.max(0,i.y),i.x=Math.min(this.pixelWidth,i.x),i.y=Math.min(this.pixelHeight,i.y),i},t.prototype.triggerMoveReal=function(t,e){i.prototype.triggerMoveReal.call(this,t,e);var n=this.snapToSeries;if(n&&!this.downPoint){if(n instanceof Kc)n.isHidden&&this.updateLinePositions(t);else{var s=!0;la(n,function(i){i.isHidden||(s=!1)}),s&&this.updateLinePositions(t)}}else this.updateLinePositions(t);this.downPoint&&Ea(this.downPoint,t)>3&&"pan"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch("panning"))},t.prototype.updateLinePositions=function(i){i=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=i.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=i.y),this.updateSelection()},t.prototype.triggerDownReal=function(t){if(this.visible&&!this.isHiding){if("select"==this._generalBehavior&&(this.selection.parent=this.parent),this.fitsToBounds(t)){this.downPoint={x:t.x,y:t.y},this.updatePoint(t),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var e=this.selection,n=this.downPoint.x,s=this.downPoint.y;this._usesSelection&&(e.x=n,e.y=s,e.path="",e.show()),i.prototype.triggerDownReal.call(this,t)}else this.downPoint=void 0;}else this.downPoint=void 0},t.prototype.updatePoint=function(i){this.lineX&&(i.x=this.lineX.pixelX),this.lineY&&(i.y=this.lineY.pixelY)},t.prototype.triggerUpReal=function(t){if(this.hasMoved())this.downPoint&&(this.upPoint=t,this.updatePoint(this.upPoint),"pan"!=this._generalBehavior&&this.getRanges(),"select"!=this._generalBehavior&&this.selection.hide(),i.prototype.triggerUpReal.call(this,t));else{if("select"!=this._generalBehavior?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),"pan"==this._generalBehavior)ra().setGlobalStyle(fb.default);this.dispatchImmediately("behaviorcanceled")}this.downPoint=void 0,this.dispatch("cursorpositionchanged")},t.prototype.hasMoved=function(){return("zoomX"==this.behavior||"panX"==this.behavior?ol(this._upPointOrig,this._downPointOrig):"zoomY"==this.behavior||"panY"==this.behavior?pl(this._upPointOrig,this._downPointOrig):Ea(this._upPointOrig,this._downPointOrig))>ra().getHitOption(this.interactions,"hitTolerance")},t.prototype.getPanningRanges=function(){var i=ga(this.downPoint.x/this.innerWidth,5),t=1-ga(this.downPoint.y/this.innerHeight,5),e=i-ga(this.point.x/this.innerWidth,5),n=t-(1-ga(this.point.y/this.innerHeight,5));this.xRange={start:e,end:1+e},this.yRange={start:n,end:1+n},"panX"==this.behavior&&(this.yRange.start=0,this.yRange.end=1),"panY"==this.behavior&&(this.xRange.start=0,this.xRange.end=1)},t.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),ub(this.selection);var i=ga(this.downPoint.x/this.innerWidth,5),t=ga(this.upPoint.x/this.innerWidth,5),e=1-ga(this.downPoint.y/this.innerHeight,5),n=1-ga(this.upPoint.y/this.innerHeight,5);this.xRange={start:ya(i,t),end:ua(i,t)},this.yRange={start:ya(e,n),end:ua(e,n)}},Object.defineProperty(t.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(i){this.setPropertyValue("behavior",i,!0),this._usesSelection=!1,-1!=i.indexOf("zoom")&&(this._generalBehavior="zoom",this._usesSelection=!0),-1!=i.indexOf("select")&&(this._generalBehavior="select",this._usesSelection=!0),-1!=i.indexOf("pan")&&(this._generalBehavior="pan",this._usesSelection=!1)},enumerable:!0,configurable:!0}),t.prototype.shouldPreventGestures=function(i){return!(this.interactions.isTouchProtected&&i||"none"==this.behavior)},Object.defineProperty(t.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(i){this.setPropertyValue("fullWidthLineX",i),i||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(i){this.setPropertyValue("fullWidthLineY",i),i||this.updateSize()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(i){this.setPropertyValue("hideSeriesTooltipsOnSelection",i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(i){this.setPropertyValue("maxTooltipDistance",i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(i){this.setPropertyValue("maxPanOut",i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(i){var t=this;this._xAxis.get()!=i&&this._xAxis.set(i,new Pa([i.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),i.events.on("rangechangestarted",function(i){t.hide(0),t.preventShow=!0},void 0,!1),i.events.on("rangechangeended",function(i){t.preventShow=!1,t.hide(0),t.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(i){var t=this;this._yAxis.get()!=i&&this._yAxis.set(i,new Pa([i.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),i.events.on("rangechangestarted",function(i){t.hide(0),t.__disabled=!0},void 0,!1),i.events.on("rangechangeended",function(i){t.__disabled=!1,t.hide(0),t.dispatch("cursorpositionchanged")},void 0,!1)]))},enumerable:!0,configurable:!0}),t.prototype.handleXTooltipPosition=function(i){var t=this.xAxis.tooltip,e=Nb({x:t.pixelX,y:t.pixelY},this),n=e.x;if(e.y=1,this.lineX&&(this.lineX.x=n,this.fitsToBounds(e)||this.hide()),this.xAxis&&this.fullWidthLineX){var s=this.xAxis.currentItemStartPoint,o=this.xAxis.currentItemEndPoint;if(s&&o){this.lineX.x=n;var r=o.x-s.x;this.lineX.path=qg(r,this.innerHeight,-r/2)}}},t.prototype.handleYTooltipPosition=function(i){var t=this.yAxis.tooltip,e=Nb({x:t.pixelX,y:t.pixelY},this),n=e.y;if(e.x=1,this.lineY&&(this.lineY.y=n,this.fitsToBounds(e)||this.hide()),this.yAxis&&this.fullWidthLineY){var s=this.yAxis.currentItemStartPoint,o=this.yAxis.currentItemEndPoint;if(s&&o){this.lineY.y=n;var r=o.y-s.y;this.lineY.path=qg(this.innerWidth,r,0,-r/2)}}},Object.defineProperty(t.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(i){i?(i.setElement(this.paper.add("path")),this._lineX.set(i,i.events.on("positionchanged",this.updateSelection,this,!1)),i.interactionsEnabled=!1,i.parent=this):this._lineX.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(i){i?(i.setElement(this.paper.add("path")),this._lineY.set(i,i.events.on("positionchanged",this.updateSelection,this,!1)),i.parent=this,i.interactionsEnabled=!1):this._lineY.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(i){this._selection=i,i&&(i.element=this.paper.add("path"),i.parent=this)},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){t&&(ba(t.xAxis)&&wa(t.xAxis)&&(this.map.hasKey(t.xAxis)?t.xAxis=this.map.getKey(t.xAxis):(this.processingErrors.push("[XYCursor] No axis with id \""+t.xAxis+"\" found for `xAxis`"),delete t.xAxis)),ba(t.yAxis)&&wa(t.yAxis)&&(this.map.hasKey(t.yAxis)?t.yAxis=this.map.getKey(t.yAxis):(this.processingErrors.push("[XYCursor] No axis with id \""+t.yAxis+"\" found for `yAxis`"),delete t.yAxis)),ba(t.snapToSeries)&&wa(t.snapToSeries)&&(this.map.hasKey(t.snapToSeries)?t.snapToSeries=this.map.getKey(t.snapToSeries):(this.processingErrors.push("[XYCursor] No series with id \""+t.snapToSeries+"\" found for `series`"),delete t.snapToSeries))),i.prototype.processConfig.call(this,t)},Object.defineProperty(t.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(i){var t=this;this.setPropertyValue("snapToSeries",i)&&(i instanceof Kc&&(i=[i]),this._snapToDisposers&&la(this._snapToDisposers,function(i){i.dispose()}),this._snapToDisposers=[],i&&la(i,function(i){t._snapToDisposers.push(i.events.on("tooltipshownat",function(){t.handleSnap(i)},void 0,!1))}))},enumerable:!0,configurable:!0}),t.prototype.handleSnap=function(i){if(!this.downPoint){var t=i.getTooltipX()+i.xAxis.pixelX,e=i.getTooltipY()+i.yAxis.pixelY;this.xAxis&&this.xAxis.renderer.opposite&&(e-=this.pixelHeight),this.point={x:t,y:e},this.getPositions();var n=t,s=e;t-=this.pixelWidth,this.yAxis&&this.yAxis.renderer.opposite&&(t+=this.pixelWidth);var o=i.tooltip,r=o.animationDuration,a=o.animationEasing,h=i.xAxis,p=i.yAxis;h instanceof va&&!(h instanceof _a)&&p instanceof va&&!(p instanceof _a)?(i.yAxis.showTooltipAtPosition(this.yPosition),i.xAxis.showTooltipAtPosition(this.xPosition)):(i.baseAxis==i.xAxis&&i.yAxis.showTooltipAtPosition(this.yPosition),i.baseAxis==i.yAxis&&i.xAxis.showTooltipAtPosition(this.xPosition)),this.lineX.animate([{property:"y",to:e}],r,a),this.lineY.animate([{property:"x",to:t}],r,a),this.xAxis||this.lineX.animate([{property:"x",to:n}],r,a),this.yAxis||this.lineY.animate([{property:"y",to:s}],r,a)}},t.prototype.dispose=function(){this.hide(0),i.prototype.dispose.call(this)},t}(Tj);ca.registeredClasses.XYCursor=Sg;var Lo=function(t){function i(){var i=t.call(this)||this;return i.className="RadarCursor",i.radius=ha(100),i.innerRadius=ha(0),i.applyTheme(),i.mask=void 0,i}return da(i,t),i.prototype.fitsToBounds=function(t){var i=Ea(t);return i<this.truePixelRadius+1&&i>this.pixelInnerRadius-1},Object.defineProperty(i.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(t){this.setPropertyValue("startAngle",t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(t){this.setPropertyValue("endAngle",t,!0)},enumerable:!0,configurable:!0}),i.prototype.triggerMoveReal=function(i,$){this.xAxis&&(!this.xAxis||this.xAxis.cursorTooltipEnabled&&!this.xAxis.tooltip.disabled)||this.updateLineX(this.point),this.yAxis&&(!this.yAxis||this.yAxis.cursorTooltipEnabled&&!this.yAxis.tooltip.disabled)||this.updateLineY(this.point),this.updateSelection(),t.prototype.triggerMoveReal.call(this,i,$)},i.prototype.updateLineX=function(t){var i=this.pixelRadius,$=this.startAngle,e=this.endAngle,r=this.pixelInnerRadius;if(i>0&&aa($)&&aa(e)&&aa(r)){var o=Vb(lb(t),$,e),a=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var n=this.xAxis.currentItemStartPoint,s=this.xAxis.currentItemEndPoint;if(n&&s){var u=Vb(lb(n),$,e),p=Vb(lb(s),$,e)-u;$<e?p<0&&(p+=360):p>0&&(p-=360),o-=p/2,a=ka({x:r*ja(o),y:r*ia(o)})+ea({x:i*ja(o),y:i*ia(o)})+cb(o,p,i)+ea({x:r*ja(o+p),y:r*ia(o+p)})+cb(o+p,-p,r)}}a||(a=ka({x:r*ja(o),y:r*ia(o)})+ea({x:i*ja(o),y:i*ia(o)})),this.lineX.path=a}}},i.prototype.updateLineY=function(t){if(this.lineY&&this.lineY.visible){var i=this.startAngle,$=this.endAngle,e=this.truePixelRadius,r=ma(Ea(t),0,this.truePixelRadius);if(aa(r)&&aa(i)){this.lineY.moveTo({x:0,y:0});var o=void 0,a=$-i;if(this.yAxis&&this.fullWidthLineY){var n=this.yAxis.currentItemStartPoint,s=this.yAxis.currentItemEndPoint;if(n&&s){var u=ma(Ea(n),0,e);r=ma(Ea(s),0,e),o=ka({x:r*ja(i),y:r*ia(i)})+cb(i,a,r),o+=ka({x:u*ja($),y:u*ia($)})+cb($,-a,u)}}o||(o=ka({x:r*ja(i),y:r*ia(i)})+cb(i,$-i,r)),this.lineY.path=o}}},i.prototype.updateSelection=function(){if(this._usesSelection){var t=this.downPoint;if(t){var i=this.point,$=this.pixelRadius,e=this.truePixelRadius,r=this.pixelInnerRadius,o=Math.min(this.startAngle,this.endAngle),a=Math.max(this.startAngle,this.endAngle),n=Vb(lb(t),o,a),s=Vb(lb(i),o,a),u=Ea(t);if(u<e){var p=ma(Ea(i),0,e);this._prevAngle=s;var h=ka({x:0,y:0}),m=ia(n),x=ja(n),l=ia(s),b=ja(s),V=this.behavior;"zoomX"==V||"selectX"==V?h+=ea({x:$*x,y:$*m})+cb(n,s-n,$)+ea({x:r*b,y:r*l})+cb(s,n-s,r):"zoomY"==V||"selectY"==V?h=ka({x:p*ja(o),y:p*ia(o)})+cb(o,a-o,p)+ea({x:u*ja(a),y:u*ia(a)})+cb(a,o-a,u)+Va():"zoomXY"==V&&(h=ka({x:p*ja(n),y:p*ia(n)})+cb(n,s-n,p)+ea({x:u*ja(s),y:u*ia(s)})+cb(s,n-s,u)+Va()),this.selection.path=h}this.selection.moveTo({x:0,y:0})}}},i.prototype.getPositions=function(){if(this.chart){var t=this.pixelInnerRadius,i=this.truePixelRadius-t,$=this.startAngle,e=this.endAngle,r=(Vb(lb(this.point),$,e)-$)/(e-$);this.xPosition=r,this.yPosition=ma((Ea(this.point)-t)/i,0,1)}},i.prototype.updatePoint=function(t){},i.prototype.handleXTooltipPosition=function(t){if(this.xAxis.cursorTooltipEnabled){var i=this.xAxis.tooltip;this.updateLineX(Nb({x:i.pixelX,y:i.pixelY},this))}},i.prototype.handleYTooltipPosition=function(t){if(this.yAxis.cursorTooltipEnabled){var i=this.yAxis.tooltip;this.updateLineY(Nb({x:i.pixelX,y:i.pixelY},this))}},i.prototype.updateLinePositions=function(t){},i.prototype.getRanges=function(){var t=this.downPoint;if(t){var i=this.upPoint;if(this.chart){var $=this.pixelRadius,e=this.startAngle,r=this.endAngle,o=Vb(lb(t),this.startAngle,this.endAngle),a=Vb(lb(i),this.startAngle,this.endAngle),n=ma(Ea(t),0,$),s=ma(Ea(i),0,$),u=0,p=1,h=0,m=1,x=this.behavior;if("zoomX"==x||"selectX"==x||"zoomXY"==x||"selectXY"==x){var l=r-e;u=ga((o-e)/l,5),p=ga((a-e)/l,5)}"zoomY"!=x&&"selectY"!=x&&"zoomXY"!=x&&"selectXY"!=x||(h=ga(n/$,5),m=ga(s/$,5)),this.xRange={start:Math.min(u,p),end:Math.max(u,p)},this.yRange={start:Math.min(h,m),end:Math.max(h,m)},"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide()}}},i.prototype.updateSize=function(){},Object.defineProperty(i.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(t){this.setPercentProperty("radius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelRadius",{get:function(){return db(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"truePixelRadius",{get:function(){return Na(ha(100),ya(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(t){this.setPercentProperty("innerRadius",t,!1,!1,10,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelInnerRadius",{get:function(){var t=this.innerRadius;return t instanceof za&&(t=ha(100*t.value*this.chart.innerRadiusModifyer)),db(t,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),i.prototype.fixPoint=function(t){return t},i}(Sg);ca.registeredClasses.RadarCursor=Lo;var Tg=function(){var e=function(){function e(){co(this,e)}return eo(e,null,[{key:"createChart",value:function(e){if(e.data){this.disposeChart(e.elementId);var t=aj(e.elementId,bc);this.registry[e.elementId]=t,this.createHeatChart(t,e.data,e.xCategory,e.yCategory,e.valueCategory)}}},{key:"disposeChart",value:function(e){var t=this.registry[e];t&&!t.isDisposed()&&t.dispose()}},{key:"createHeatChart",value:function(e,t,r,a,i){e.maskBullets=!1;var o=e.xAxes.push(new Xa),n=e.yAxes.push(new Xa);o.dataFields.category=r,n.dataFields.category=a,o.renderer.grid.template.disabled=!0,o.renderer.minGridDistance=40,n.renderer.grid.template.disabled=!0,n.renderer.inversed=!0,n.renderer.minGridDistance=30;var s=e.series.push(new uc);s.dataFields.categoryX=r,s.dataFields.categoryY=a,s.dataFields.value=i,s.sequencedInterpolation=!0,s.defaultState.transitionDuration=3e3;var l=new Ba().getFor("background"),c=s.columns.template;c.strokeWidth=1,c.strokeOpacity=.2,c.stroke=l,c.tooltipText="{gender}, {age_group}: {value.workingValue}",c.width=ha(100),c.height=ha(100),s.heatRules.push({target:c,property:"fill",min:oa(l),max:e.colors.getIndex(0)});var $=e.bottomAxesContainer.createChild(Hj);function d(e){if(e&&e.dataItem){var t=e.dataItem.value;isNaN(t)?$.valueAxis.hideTooltip():$.valueAxis.showTooltipAt(t)}}$.width=ha(100),$.series=s,$.valueAxis.renderer.labels.template.fontSize=9,$.valueAxis.renderer.minGridDistance=30,s.columns.template.events.on("over",function(e){d(e.target)}),s.columns.template.events.on("hit",function(e){d(e.target)}),s.columns.template.events.on("out",function(){$.valueAxis.hideTooltip()}),e.data=t}}]),e}();return e.registry={},e}();function Mo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Uj(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function No(e,r,t){return r&&Uj(e.prototype,r),t&&Uj(e,t),e}var Ug=function(){var e=function(){function e(){Mo(this,e)}return No(e,null,[{key:"createDateLineChart",value:function(e){var r=this;if(e.data){this.disposeChart(e.elementId);var t=aj(e.elementId,bc);this.registry[e.elementId]=t,t.dateFormatter.dateFormat="yyyy-MM-dd",t.fontSize="1em",t.maskBullets=!1,t.paddingBottom=0,t.paddingLeft=0,t.paddingRight=50,t.paddingTop=0,t.zoomOutButton.disabled=!0;var a=t.xAxes.push(new _a);a.renderer.minGridDistance=50,a.renderer.grid.template.stroke=oa("#000000"),a.renderer.grid.template.strokeOpacity=.25,a.renderer.labels.template.fill=oa("#000"),a.tooltip&&(a.tooltip.label.fontSize="1em",a.tooltip.background.fill=id.activeColor,a.tooltip.background.stroke=id.activeColor);var o=t.yAxes.push(new va);o.title.text=e.yTitle,o.renderer.opposite=!0,o.renderer.grid.template.stroke=oa("#000000"),o.renderer.grid.template.strokeOpacity=.25,o.renderer.minGridDistance=30,o.renderer.maxLabelPosition=.98,o.renderer.baseGrid.disabled=!0,o.renderer.inside=!1,o.renderer.labels.template.verticalCenter="bottom",o.renderer.labels.template.fill=oa("#000"),o.renderer.labels.template.padding(2,2,2,2),o.tooltip&&(o.tooltip.disabled=!0),o.interpolationDuration=3e3,o.extraMax=.05,o.maxPrecision=0,o.adapter.add("max",function(e){return e<5&&(e=5),e}),t.cursor=new Sg,t.cursor.maxTooltipDistance=0,t.cursor.behavior="none",t.cursor.lineY.disabled=!0,t.cursor.lineX.stroke=id.activeColor,t.cursor.xAxis=a,t.legend=new Sd,t.legend.parent=t.plotContainer,t.legend.labels.template.fill=oa("#000"),t.legend.markers.template.height=16,t.legend.contentAlign="left",t.legend.fontSize="1em",t.legend.itemContainers.template.valign="middle",e.lines.forEach(function(a){r.addLineSeries(t,a.name,a.value,e.dateName,a.color)}),t.data=e.data}}},{key:"disposeChart",value:function(e){var r=this.registry[e];r&&!r.isDisposed()&&r.dispose()}},{key:"addLineSeries",value:function(e,r,t,a,o){var i=e.series.push(new Xe);return i.name=r,i.dataFields.valueY=t,i.dataFields.dateX=a,i.strokeOpacity=.6,i.stroke=o,i.fill=o,i.tooltip&&(i.tooltip.pointerOrientation="down",i.tooltip.getStrokeFromObject=!0,i.tooltip.getFillFromObject=!1,i.tooltip.background.fillOpacity=.2,i.tooltip.background.fill=oa("#000000"),i.tooltip.dy=-4,i.tooltip.fontSize="1em"),i.tooltipText="Total {name}: {valueY}",i}}]),e}();return e.registry={},e}();function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Po(e,t,r){return t&&Vj(e.prototype,t),r&&Vj(e,r),e}function Qo(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var Wj=function t(n,o,a){Qo(this,t),this.cardClass=n,this.nextStepsText=o,this.buttonLink=a};var Ro=new Wj("line-chart-card","<ol><li>Fetch the data from all 3 files</li><li>Manually parse the data to determine which rows and columns are needed.</li><li>Filter out unecessary headers, columns, and rows.</li><li>Combine and reshape the datasets into a format that the charting library accepts.</li></ol>","#select-query");var So=new Wj("bar-chart-card","<ol><li>Download the latest zip file and extract it.</li><ul>\n      <li>Keep in mind, this is record level data and the files tend to be very large. The data used in this example is about 60mb.</li>\n      <li>This is too large to host online, make an http request to get it, and parse it on the client. Unless you just enjoy punishing your users.</li>\n    </ul><li>Write a script to parse each record.</li><li>Aggregate the data by gender and age group.</li><li>Reshape the aggregated data into a format that the charting library accepts.</li><li>Upload and host your charting data with your app or where it can make a request to get it.</li><li><strong>Repeat the steps above every time the data is updated</strong></li></ol>","#tabulate-query");var Xj=function(){var e=function(){function e(){Oo(this,e)}return Po(e,null,[{key:"initializeButton",value:function(t){var r=document.querySelector(".".concat(t.cardClass," button")),n=document.querySelectorAll(e.PATH_CARD_SELECTOR),i=document.querySelector("".concat(e.CHOOSE_PATH_SELECTOR)),o=document.querySelectorAll(".dynamic-transition .line"),a=document.querySelector(".".concat(t.cardClass)),l=document.querySelectorAll(".".concat(t.cardClass,"-transition")),s=document.querySelector(e.SHOW_ME_BUTTON_SELECTED),c=document.querySelector(e.SHOW_RDS_SELECTOR),u=document.querySelector("".concat(e.NEXT_STEPS_SELECTOR)),d=document.querySelector("".concat(e.NEXT_STEPS_SELECTOR," .mdc-card p"));if(!r)throw new Error("[ButtonUtil] button is null, could not initialize");if(!i)throw new Error("[ButtonUtil] choose path elemenet is null, could not initialize");if(!a)throw new Error("[ButtonUtil] container is null, could not initialize");if(!s)throw new Error("[ButtonUtil] show me button is null, could not initialize");if(!c)throw new Error("[ButtonUtil] show rds elemenet is null, could not initialize");if(!d)throw new Error("[ButtonUtil] next card elemenet is null, could not initialize");if(!u)throw new Error("[ButtonUtil] next steps element is null, could not initialize");if(!new Wc(r))throw new Error("[ButtonUtil] failed to query the MDCRipple element, could not initialize");r.addEventListener("click",function(){n.forEach(function(e){return e.classList.remove("selected")}),a.classList.add("selected"),i.style.display="none",c.style.display="grid",u.style.display="grid",s.href=t.buttonLink,o.forEach(function(e){return e.classList.remove("selected")}),l.forEach(function(e){return e.classList.add("selected")}),d.innerHTML=t.nextStepsText,document.querySelectorAll(".path-card button").forEach(function(e){return e.disabled=!1}),r.disabled=!0})}}]),e}();return e.PATH_CARD_SELECTOR=".path-card",e.NEXT_STEPS_SELECTOR=".next-steps",e.SHOW_RDS_SELECTOR=".show-rds",e.CHOOSE_PATH_SELECTOR=".path-empty-state",e.SHOW_ME_BUTTON_SELECTED=".show-me-button",e}();function To(r){return Xo(r)||Wo(r)||Vo(r)||Uo()}function Uo(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Vo(r,e){if(r){if("string"==typeof r)return Vg(r,e);var a=Object.prototype.toString.call(r).slice(8,-1);return"Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a?Array.from(r):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Vg(r,e):void 0}}function Wo(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function Xo(r){if(Array.isArray(r))return Vg(r)}function Vg(r,e){(null==e||e>r.length)&&(e=r.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=r[a];return t}function Yo(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Yj(r,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function Zo(r,e,a){return e&&Yj(r.prototype,e),a&&Yj(r,a),r}var Zj=function(){var r=function(){function r(){Yo(this,r)}return Zo(r,null,[{key:"createChart",value:function(r){if(r.data){var e=this.registry[r.elementId],a=document.getElementById(r.elementId);if(e&&this.disposeChart(r.elementId),a){var t=google.visualization.arrayToDataTable([r.data.cols].concat(To(r.data.rows)),!1);new google.visualization.LineChart(a).draw(t,{title:r.chartTitle})}}}},{key:"disposeChart",value:function(r){var e=document.getElementById(r);e&&(e.innerHTML="")}}]),r}();return r.registry={},r}();function $o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $j(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _o(e,t,r){return t&&$j(e.prototype,t),r&&$j(e,r),e}var bf=function(){function e(){$o(this,e)}return _o(e,null,[{key:"createChart",value:function(e,t){var r=document.getElementById(e);r&&(this.disposeChart(e),Plotly.newPlot(r,[t]))}},{key:"disposeChart",value:function(e){document.getElementById(e)&&Plotly.purge(e)}}]),e}();function ap(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=bp(e))){var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function bp(e,r){if(e){if("string"==typeof e)return _j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_j(e,r):void 0}}function _j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cp(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ak(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dp(e,r,t){return r&&ak(e.prototype,r),t&&ak(e,t),e}function jd(e){return e&&e.origin?e.origin:"https://stackblitz.com"}var ep="300";function bk(){return Math.random().toString(36).substring(7)}function kd(e){var t="";return e?(e.forceEmbedLayout&&(t+="embed=1"),e.clickToLoad&&(t+=(t.length?"&":"")+"ctl=1"),e.openFile&&(t+=(t.length?"&":"")+"file="+e.openFile),!e.view||"preview"!==e.view&&"editor"!==e.view||(t+=(t.length?"&":"")+"view="+e.view),e.hideExplorer&&(t+=(t.length?"&":"")+"hideExplorer=1"),e.hideNavigation&&(t+=(t.length?"&":"")+"hideNavigation=1;"),e.hideDevTools&&(t+=(t.length?"&":"")+"hidedevtools=1"),"number"==typeof e.devToolsHeight&&e.devToolsHeight>0&&e.devToolsHeight<100&&(t+=(t.length?"&":"")+"devtoolsheight="+e.devToolsHeight),t.length?"?"+t:t):t}function Wg(e,t,n){if(null===e.parentNode)throw new Error("Invalid Element");t.id=e.id,fp(t,n),e.parentNode.replaceChild(t,e)}function Xg(e){if("string"==typeof e){var t=document.getElementById(e);if(null!==t)return t}else if(e instanceof HTMLElement)return e;throw new Error("Invalid Element")}function Yg(e){return e&&!1===e.newWindow?"_self":"_blank"}function fp(e,t){t&&(t.hasOwnProperty("height")&&(e.height=""+t.height),t.hasOwnProperty("width")&&(e.width=""+t.width)),e.height||(e.height=ep),e.width||e.setAttribute("style","width:100%;")}var ck=function(e){var t=this;this.pending={},this.port=e,this.port.onmessage=function(e){if(e.data.payload.__reqid){var n=e.data.payload.__reqid,r=e.data.payload.__success;if(t.pending[n]){if(delete e.data.payload.__reqid,delete e.data.payload.__success,r){var a=0===Object.keys(e.data.payload).length&&e.data.payload.constructor===Object?null:e.data.payload;t.pending[n].resolve(a)}else{var i=e.data.payload.error?e.data.type+": "+e.data.payload.error:e.data.type;t.pending[n].reject(i)}delete t.pending[n]}}}};ck.prototype.request=function(e){var t=this,n=bk();return new Promise(function(r,a){t.pending[n]={resolve:r,reject:a},e.payload.__reqid=n,t.port.postMessage(e)})};var cf=function(e,t){var n=this;this.rdc=new ck(e),this.preview={},Object.defineProperty(this.preview,"origin",{value:t.previewOrigin,writable:!1}),this.editor={openFile:function(e){return n.rdc.request({type:"SDK_OPEN_FILE",payload:{path:e}})}}};cf.prototype.applyFsDiff=function(e){return this.rdc.request({type:"SDK_APPLY_FS_DIFF",payload:e})},cf.prototype.getFsSnapshot=function(){return this.rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})},cf.prototype.getDependencies=function(){return this.rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})};var df=[],gp=function(e){var t=this;this.id=bk(),this.element=e,this.pending=new Promise(function(e,n){var r=function(n){n.data.action&&"SDK_INIT_SUCCESS"===n.data.action&&n.data.id===t.id&&(t.vm=new cf(n.ports[0],n.data.payload),e(t.vm),i())},a=function(){t.element.contentWindow&&t.element.contentWindow.postMessage({action:"SDK_INIT",id:t.id},"*")};function i(){window.clearInterval(o),window.removeEventListener("message",r)}window.addEventListener("message",r),a();var $=0,o=window.setInterval(function(){if(t.vm)i();else{if($>=20)return i(),n("Timeout: Unable to establish a connection with the StackBlitz VM"),void df.forEach(function(e,n){e.id===t.id&&df.splice(n,1)});$++,a()}},500)}),df.push(this)},hp=function(e){var t=e instanceof Element?"element":"id";return df.find(function(n){return n[t]===e})||null},dk=["typescript","create-react-app","angular-cli","javascript","polymer"];function Nc(e,t){var n=document.createElement("input");return n.type="hidden",n.name=e,n.value=t,n}function ek(e){-1===dk.indexOf(e.template)&&console.warn("Unsupported project template, must be one of: "+dk.join(", "));var t=document.createElement("form");return t.method="POST",t.setAttribute("style","display:none;"),t.appendChild(Nc("project[title]",e.title)),t.appendChild(Nc("project[description]",e.description)),t.appendChild(Nc("project[template]",e.template)),e.tags&&e.tags.forEach(function(e){t.appendChild(Nc("project[tags][]",e))}),e.dependencies&&t.appendChild(Nc("project[dependencies]",JSON.stringify(e.dependencies))),e.settings&&t.appendChild(Nc("project[settings]",JSON.stringify(e.settings))),Object.keys(e.files).forEach(function(n){t.appendChild(Nc("project[files]["+n+"]",e.files[n]))}),t}function ip(e,t){var n=ek(e);return n.action=jd(t)+"/run"+kd(t),n.id="sb","<html><head><title></title></head><body>"+n.outerHTML+"<script>document.getElementById('sb').submit();</script></body></html>"}function jp(e,t){var n=ek(e);n.action=jd(t)+"/run"+kd(t),n.target=Yg(t),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}var ef={connect:function(e){if(!e||!e.contentWindow)return Promise.reject("Provided element is not an iframe.");var t=hp(e);return t?t.pending:new gp(e).pending},openGithubProject:function(e,t){window.open(jd(t)+"/github/"+e+kd(t),Yg(t))},openProject:function(e,t){jp(e,t)},openProjectId:function(e,t){window.open(jd(t)+"/edit/"+e+kd(t),Yg(t))},embedGithubProject:function(e,t,n){var r=Xg(e),a=document.createElement("iframe");return a.src=jd(n)+"/github/"+t+kd(n),Wg(r,a,n),ef.connect(a)},embedProject:function(e,t,n){var r=Xg(e),a=ip(t,n),i=document.createElement("iframe");return Wg(r,i,n),i.contentDocument&&i.contentDocument.write(a),ef.connect(i)},embedProjectId:function(e,t,n){var r=Xg(e),a=document.createElement("iframe");return a.src=jd(n)+"/edit/"+t+kd(n),Wg(r,a,n),ef.connect(a)}};var zb=function(){function e(){cp(this,e)}return dp(e,null,[{key:"embed",value:function(e,r){ef.embedProject(e,this._createProject(r),{height:"100%",clickToLoad:!0})}},{key:"_createProject",value:function(e){var r,t={files:{"index.ts":this._replaceSharedPathImports(e.tsFileContents),"index.html":e.htmlFileContents},title:e.title,description:e.description,template:"typescript",tags:["rds","mtna","charting","data vizualization","metadata"],dependencies:e.dependencies};if(null===(r=e.otherFiles)||void 0===r?void 0:r.length){var n,a=ap(e.otherFiles);try{for(a.s();!(n=a.n()).done;){var o=n.value;t.files[o.path]=o.contents}}catch(i){a.e(i)}finally{a.f()}}return t}},{key:"_replaceSharedPathImports",value:function(e){return e.replace(/} from 'shared/g,"} from './shared")}}]),e}();function kp(r){return op(r)||np(r)||mp(r)||lp()}function lp(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mp(r,t){if(r){if("string"==typeof r)return Zg(r,t);var a=Object.prototype.toString.call(r).slice(8,-1);return"Object"===a&&r.constructor&&(a=r.constructor.name),"Map"===a||"Set"===a?Array.from(r):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Zg(r,t):void 0}}function np(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function op(r){if(Array.isArray(r))return Zg(r)}function Zg(r,t){(null==t||t>r.length)&&(t=r.length);for(var a=0,e=new Array(t);a<t;a++)e[a]=r[a];return e}function pp(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}var qp={AMCHARTS:{"@amcharts/amcharts4":"*"},GCHARTS:{"@types/google.visualization":"*"},PLOTLY:{},D3:{d3:"*","@types/d3":"*"},D3_FETCH:{"d3-fetch":"*","@types/d3-fetch":"*"},TS:{typescript:"*"},"RDS-SDK":{"@rds/sdk":"*"}};var cc=function r(t,a,e,o,n,A){pp(this,r),this.title=t,this.description=a,this.htmlFileContents=o,this.tsFileContents=n,this.otherFiles=A,this.dependencies=Object.assign.apply(Object,[{}].concat(kp(e.map(function(r){return qp[r]}))))};function rp(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fk(e,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sp(e,r,a){return r&&fk(e.prototype,r),a&&fk(e,a),e}var gk={ANIMATING:"mdc-tab-scroller--animating",SCROLL_AREA_SCROLL:"mdc-tab-scroller__scroll-area--scroll",SCROLL_TEST:"mdc-tab-scroller__test"},tp={AREA_SELECTOR:".mdc-tab-scroller__scroll-area",CONTENT_SELECTOR:".mdc-tab-scroller__scroll-content"};var $g=function(){return function(r){this.adapter_=r}}();var up=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return da(r,t),r.prototype.getScrollPositionRTL=function(){var t=this.adapter_.getScrollAreaScrollLeft(),r=this.calculateScrollEdges_().right;return Math.round(r-t)},r.prototype.scrollToRTL=function(t){var r=this.calculateScrollEdges_(),l=this.adapter_.getScrollAreaScrollLeft(),e=this.clampScrollValue_(r.right-t);return{finalScrollPosition:e,scrollDelta:e-l}},r.prototype.incrementScrollRTL=function(t){var r=this.adapter_.getScrollAreaScrollLeft(),l=this.clampScrollValue_(r-t);return{finalScrollPosition:l,scrollDelta:l-r}},r.prototype.getAnimatingScrollPosition=function(t){return t},r.prototype.calculateScrollEdges_=function(){return{left:0,right:this.adapter_.getScrollContentOffsetWidth()-this.adapter_.getScrollAreaOffsetWidth()}},r.prototype.clampScrollValue_=function(t){var r=this.calculateScrollEdges_();return Math.min(Math.max(r.left,t),r.right)},r}($g);var vp=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return da(t,r),t.prototype.getScrollPositionRTL=function(r){var t=this.adapter_.getScrollAreaScrollLeft();return Math.round(r-t)},t.prototype.scrollToRTL=function(r){var t=this.adapter_.getScrollAreaScrollLeft(),e=this.clampScrollValue_(-r);return{finalScrollPosition:e,scrollDelta:e-t}},t.prototype.incrementScrollRTL=function(r){var t=this.adapter_.getScrollAreaScrollLeft(),e=this.clampScrollValue_(t-r);return{finalScrollPosition:e,scrollDelta:e-t}},t.prototype.getAnimatingScrollPosition=function(r,t){return r-t},t.prototype.calculateScrollEdges_=function(){var r=this.adapter_.getScrollContentOffsetWidth();return{left:this.adapter_.getScrollAreaOffsetWidth()-r,right:0}},t.prototype.clampScrollValue_=function(r){var t=this.calculateScrollEdges_();return Math.max(Math.min(t.right,r),t.left)},t}($g);var wp=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return da(t,r),t.prototype.getScrollPositionRTL=function(r){var t=this.adapter_.getScrollAreaScrollLeft();return Math.round(t-r)},t.prototype.scrollToRTL=function(r){var t=this.adapter_.getScrollAreaScrollLeft(),e=this.clampScrollValue_(r);return{finalScrollPosition:e,scrollDelta:t-e}},t.prototype.incrementScrollRTL=function(r){var t=this.adapter_.getScrollAreaScrollLeft(),e=this.clampScrollValue_(t+r);return{finalScrollPosition:e,scrollDelta:t-e}},t.prototype.getAnimatingScrollPosition=function(r,t){return r+t},t.prototype.calculateScrollEdges_=function(){return{left:this.adapter_.getScrollContentOffsetWidth()-this.adapter_.getScrollAreaOffsetWidth(),right:0}},t.prototype.clampScrollValue_=function(r){var t=this.calculateScrollEdges_();return Math.min(Math.max(t.right,r),t.left)},t}($g);var _g=function(t){function r(e){var o=t.call(this,ta(ta({},r.defaultAdapter),e))||this;return o.isAnimating_=!1,o}return da(r,t),Object.defineProperty(r,"cssClasses",{get:function(){return gk},enumerable:!0,configurable:!0}),Object.defineProperty(r,"strings",{get:function(){return tp},enumerable:!0,configurable:!0}),Object.defineProperty(r,"defaultAdapter",{get:function(){return{eventTargetMatchesSelector:function(){return!1},addClass:function(){},removeClass:function(){},addScrollAreaClass:function(){},setScrollAreaStyleProperty:function(){},setScrollContentStyleProperty:function(){},getScrollContentStyleValue:function(){return""},setScrollAreaScrollLeft:function(){},getScrollAreaScrollLeft:function(){return 0},getScrollContentOffsetWidth:function(){return 0},getScrollAreaOffsetWidth:function(){return 0},computeScrollAreaClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeScrollContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},computeHorizontalScrollbarHeight:function(){return 0}}},enumerable:!0,configurable:!0}),r.prototype.init=function(){var t=this.adapter_.computeHorizontalScrollbarHeight();this.adapter_.setScrollAreaStyleProperty("margin-bottom",-t+"px"),this.adapter_.addScrollAreaClass(r.cssClasses.SCROLL_AREA_SCROLL)},r.prototype.getScrollPosition=function(){if(this.isRTL_())return this.computeCurrentScrollPositionRTL_();var t=this.calculateCurrentTranslateX_();return this.adapter_.getScrollAreaScrollLeft()-t},r.prototype.handleInteraction=function(){this.isAnimating_&&this.stopScrollAnimation_()},r.prototype.handleTransitionEnd=function(t){var e=t.target;this.isAnimating_&&this.adapter_.eventTargetMatchesSelector(e,r.strings.CONTENT_SELECTOR)&&(this.isAnimating_=!1,this.adapter_.removeClass(r.cssClasses.ANIMATING))},r.prototype.incrementScroll=function(t){0!==t&&this.animate_(this.getIncrementScrollOperation_(t))},r.prototype.incrementScrollImmediate=function(t){if(0!==t){var r=this.getIncrementScrollOperation_(t);0!==r.scrollDelta&&(this.stopScrollAnimation_(),this.adapter_.setScrollAreaScrollLeft(r.finalScrollPosition))}},r.prototype.scrollTo=function(t){if(this.isRTL_())return this.scrollToRTL_(t);this.scrollTo_(t)},r.prototype.getRTLScroller=function(){return this.rtlScrollerInstance_||(this.rtlScrollerInstance_=this.rtlScrollerFactory_()),this.rtlScrollerInstance_},r.prototype.calculateCurrentTranslateX_=function(){var t=this.adapter_.getScrollContentStyleValue("transform");if("none"===t)return 0;var r=/\((.+?)\)/.exec(t);if(!r)return 0;var e=r[1],o=pf(e.split(","),6),l=(o[0],o[1],o[2],o[3],o[4]);o[5];return parseFloat(l)},r.prototype.clampScrollValue_=function(t){var r=this.calculateScrollEdges_();return Math.min(Math.max(r.left,t),r.right)},r.prototype.computeCurrentScrollPositionRTL_=function(){var t=this.calculateCurrentTranslateX_();return this.getRTLScroller().getScrollPositionRTL(t)},r.prototype.calculateScrollEdges_=function(){return{left:0,right:this.adapter_.getScrollContentOffsetWidth()-this.adapter_.getScrollAreaOffsetWidth()}},r.prototype.scrollTo_=function(t){var r=this.getScrollPosition(),e=this.clampScrollValue_(t),o=e-r;this.animate_({finalScrollPosition:e,scrollDelta:o})},r.prototype.scrollToRTL_=function(t){var r=this.getRTLScroller().scrollToRTL(t);this.animate_(r)},r.prototype.getIncrementScrollOperation_=function(t){if(this.isRTL_())return this.getRTLScroller().incrementScrollRTL(t);var r=this.getScrollPosition(),e=t+r,o=this.clampScrollValue_(e);return{finalScrollPosition:o,scrollDelta:o-r}},r.prototype.animate_=function(t){var e=this;0!==t.scrollDelta&&(this.stopScrollAnimation_(),this.adapter_.setScrollAreaScrollLeft(t.finalScrollPosition),this.adapter_.setScrollContentStyleProperty("transform","translateX("+t.scrollDelta+"px)"),this.adapter_.computeScrollAreaClientRect(),requestAnimationFrame(function(){e.adapter_.addClass(r.cssClasses.ANIMATING),e.adapter_.setScrollContentStyleProperty("transform","none")}),this.isAnimating_=!0)},r.prototype.stopScrollAnimation_=function(){this.isAnimating_=!1;var t=this.getAnimatingScrollPosition_();this.adapter_.removeClass(r.cssClasses.ANIMATING),this.adapter_.setScrollContentStyleProperty("transform","translateX(0px)"),this.adapter_.setScrollAreaScrollLeft(t)},r.prototype.getAnimatingScrollPosition_=function(){var t=this.calculateCurrentTranslateX_(),r=this.adapter_.getScrollAreaScrollLeft();return this.isRTL_()?this.getRTLScroller().getAnimatingScrollPosition(r,t):r-t},r.prototype.rtlScrollerFactory_=function(){var t=this.adapter_.getScrollAreaScrollLeft();this.adapter_.setScrollAreaScrollLeft(t-1);var r=this.adapter_.getScrollAreaScrollLeft();if(r<0)return this.adapter_.setScrollAreaScrollLeft(t),new vp(this.adapter_);var e=this.adapter_.computeScrollAreaClientRect(),o=this.adapter_.computeScrollContentClientRect(),l=Math.round(o.right-e.right);return this.adapter_.setScrollAreaScrollLeft(t),l===r?new wp(this.adapter_):new up(this.adapter_)},r.prototype.isRTL_=function(){return"rtl"===this.adapter_.getScrollContentStyleValue("direction")},r}(qb);var hk;function xp(r,a){if(void 0===a&&(a=!0),a&&void 0!==hk)return hk;var o=r.createElement("div");o.classList.add(gk.SCROLL_TEST),r.body.appendChild(o);var t=o.offsetHeight-o.clientHeight;return r.body.removeChild(o),a&&(hk=t),t}var yp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(){this.area_=this.root_.querySelector(_g.strings.AREA_SELECTOR),this.content_=this.root_.querySelector(_g.strings.CONTENT_SELECTOR)},e.prototype.initialSyncWithDOM=function(){var t=this;this.handleInteraction_=function(){return t.foundation_.handleInteraction()},this.handleTransitionEnd_=function(e){return t.foundation_.handleTransitionEnd(e)},this.area_.addEventListener("wheel",this.handleInteraction_,xb()),this.area_.addEventListener("touchstart",this.handleInteraction_,xb()),this.area_.addEventListener("pointerdown",this.handleInteraction_,xb()),this.area_.addEventListener("mousedown",this.handleInteraction_,xb()),this.area_.addEventListener("keydown",this.handleInteraction_,xb()),this.content_.addEventListener("transitionend",this.handleTransitionEnd_)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.area_.removeEventListener("wheel",this.handleInteraction_,xb()),this.area_.removeEventListener("touchstart",this.handleInteraction_,xb()),this.area_.removeEventListener("pointerdown",this.handleInteraction_,xb()),this.area_.removeEventListener("mousedown",this.handleInteraction_,xb()),this.area_.removeEventListener("keydown",this.handleInteraction_,xb()),this.content_.removeEventListener("transitionend",this.handleTransitionEnd_)},e.prototype.getDefaultFoundation=function(){var t=this;return new _g({eventTargetMatchesSelector:function(t,e){return od(t,e)},addClass:function(e){return t.root_.classList.add(e)},removeClass:function(e){return t.root_.classList.remove(e)},addScrollAreaClass:function(e){return t.area_.classList.add(e)},setScrollAreaStyleProperty:function(e,n){return t.area_.style.setProperty(e,n)},setScrollContentStyleProperty:function(e,n){return t.content_.style.setProperty(e,n)},getScrollContentStyleValue:function(e){return window.getComputedStyle(t.content_).getPropertyValue(e)},setScrollAreaScrollLeft:function(e){return t.area_.scrollLeft=e},getScrollAreaScrollLeft:function(){return t.area_.scrollLeft},getScrollContentOffsetWidth:function(){return t.content_.offsetWidth},getScrollAreaOffsetWidth:function(){return t.area_.offsetWidth},computeScrollAreaClientRect:function(){return t.area_.getBoundingClientRect()},computeScrollContentClientRect:function(){return t.content_.getBoundingClientRect()},computeHorizontalScrollbarHeight:function(){return xp(document)}})},e.prototype.getScrollPosition=function(){return this.foundation_.getScrollPosition()},e.prototype.getScrollContentWidth=function(){return this.content_.offsetWidth},e.prototype.incrementScroll=function(t){this.foundation_.incrementScroll(t)},e.prototype.scrollTo=function(t){this.foundation_.scrollTo(t)},e}(tb);var zp={ACTIVE:"mdc-tab-indicator--active",FADE:"mdc-tab-indicator--fade",NO_TRANSITION:"mdc-tab-indicator--no-transition"},Ap={CONTENT_SELECTOR:".mdc-tab-indicator__content"};var Rb=function(t){function e(r){return t.call(this,ta(ta({},e.defaultAdapter),r))||this}return da(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return zp},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Ap},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},computeContentClientRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},setContentStyleProperty:function(){}}},enumerable:!0,configurable:!0}),e.prototype.computeContentClientRect=function(){return this.adapter_.computeContentClientRect()},e}(qb);var Bp=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return da(a,t),a.prototype.activate=function(){this.adapter_.addClass(Rb.cssClasses.ACTIVE)},a.prototype.deactivate=function(){this.adapter_.removeClass(Rb.cssClasses.ACTIVE)},a}(Rb);var Cp=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return da(a,t),a.prototype.activate=function(t){if(t){var a=this.computeContentClientRect(),o=t.width/a.width,i=t.left-a.left;this.adapter_.addClass(Rb.cssClasses.NO_TRANSITION),this.adapter_.setContentStyleProperty("transform","translateX("+i+"px) scaleX("+o+")"),this.computeContentClientRect(),this.adapter_.removeClass(Rb.cssClasses.NO_TRANSITION),this.adapter_.addClass(Rb.cssClasses.ACTIVE),this.adapter_.setContentStyleProperty("transform","")}else this.adapter_.addClass(Rb.cssClasses.ACTIVE)},a.prototype.deactivate=function(){this.adapter_.removeClass(Rb.cssClasses.ACTIVE)},a}(Rb);var Dp=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return da(n,t),n.attachTo=function(t){return new n(t)},n.prototype.initialize=function(){this.content_=this.root_.querySelector(Rb.strings.CONTENT_SELECTOR)},n.prototype.computeContentClientRect=function(){return this.foundation_.computeContentClientRect()},n.prototype.getDefaultFoundation=function(){var t=this,n={addClass:function(n){return t.root_.classList.add(n)},removeClass:function(n){return t.root_.classList.remove(n)},computeContentClientRect:function(){return t.content_.getBoundingClientRect()},setContentStyleProperty:function(n,o){return t.content_.style.setProperty(n,o)}};return this.root_.classList.contains(Rb.cssClasses.FADE)?new Bp(n):new Cp(n)},n.prototype.activate=function(t){this.foundation_.activate(t)},n.prototype.deactivate=function(){this.foundation_.deactivate()},n}(tb);var ff={ACTIVE:"mdc-tab--active"},Yd={ARIA_SELECTED:"aria-selected",CONTENT_SELECTOR:".mdc-tab__content",INTERACTED_EVENT:"MDCTab:interacted",RIPPLE_SELECTOR:".mdc-tab__ripple",TABINDEX:"tabIndex",TAB_INDICATOR_SELECTOR:".mdc-tab-indicator"};var Oc=function(t){function e(n){var r=t.call(this,ta(ta({},e.defaultAdapter),n))||this;return r.focusOnActivate_=!0,r}return da(e,t),Object.defineProperty(e,"cssClasses",{get:function(){return ff},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return Yd},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},activateIndicator:function(){},deactivateIndicator:function(){},notifyInteracted:function(){},getOffsetLeft:function(){return 0},getOffsetWidth:function(){return 0},getContentOffsetLeft:function(){return 0},getContentOffsetWidth:function(){return 0},focus:function(){}}},enumerable:!0,configurable:!0}),e.prototype.handleClick=function(){this.adapter_.notifyInteracted()},e.prototype.isActive=function(){return this.adapter_.hasClass(ff.ACTIVE)},e.prototype.setFocusOnActivate=function(t){this.focusOnActivate_=t},e.prototype.activate=function(t){this.adapter_.addClass(ff.ACTIVE),this.adapter_.setAttr(Yd.ARIA_SELECTED,"true"),this.adapter_.setAttr(Yd.TABINDEX,"0"),this.adapter_.activateIndicator(t),this.focusOnActivate_&&this.adapter_.focus()},e.prototype.deactivate=function(){this.isActive()&&(this.adapter_.removeClass(ff.ACTIVE),this.adapter_.setAttr(Yd.ARIA_SELECTED,"false"),this.adapter_.setAttr(Yd.TABINDEX,"-1"),this.adapter_.deactivateIndicator())},e.prototype.computeDimensions=function(){var t=this.adapter_.getOffsetWidth(),e=this.adapter_.getOffsetLeft(),n=this.adapter_.getContentOffsetWidth(),r=this.adapter_.getContentOffsetLeft();return{contentLeft:e+r,contentRight:e+r+n,rootLeft:e,rootRight:e+t}},e}(qb);var Ep=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),e.attachTo=function(t){return new e(t)},e.prototype.initialize=function(t,e){void 0===t&&(t=function(t,e){return new Wc(t,e)}),void 0===e&&(e=function(t){return new Dp(t)}),this.id=this.root_.id;var n=this.root_.querySelector(Oc.strings.RIPPLE_SELECTOR),r=ta(ta({},Wc.createAdapter(this)),{addClass:function(t){return n.classList.add(t)},removeClass:function(t){return n.classList.remove(t)},updateCssVariable:function(t,e){return n.style.setProperty(t,e)}}),o=new tf(r);this.ripple_=t(this.root_,o);var i=this.root_.querySelector(Oc.strings.TAB_INDICATOR_SELECTOR);this.tabIndicator_=e(i),this.content_=this.root_.querySelector(Oc.strings.CONTENT_SELECTOR)},e.prototype.initialSyncWithDOM=function(){var t=this;this.handleClick_=function(){return t.foundation_.handleClick()},this.listen("click",this.handleClick_)},e.prototype.destroy=function(){this.unlisten("click",this.handleClick_),this.ripple_.destroy(),t.prototype.destroy.call(this)},e.prototype.getDefaultFoundation=function(){var t=this;return new Oc({setAttr:function(e,n){return t.root_.setAttribute(e,n)},addClass:function(e){return t.root_.classList.add(e)},removeClass:function(e){return t.root_.classList.remove(e)},hasClass:function(e){return t.root_.classList.contains(e)},activateIndicator:function(e){return t.tabIndicator_.activate(e)},deactivateIndicator:function(){return t.tabIndicator_.deactivate()},notifyInteracted:function(){return t.emit(Oc.strings.INTERACTED_EVENT,{tabId:t.id},!0)},getOffsetLeft:function(){return t.root_.offsetLeft},getOffsetWidth:function(){return t.root_.offsetWidth},getContentOffsetLeft:function(){return t.content_.offsetLeft},getContentOffsetWidth:function(){return t.content_.offsetWidth},focus:function(){return t.root_.focus()}})},Object.defineProperty(e.prototype,"active",{get:function(){return this.foundation_.isActive()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focusOnActivate",{set:function(t){this.foundation_.setFocusOnActivate(t)},enumerable:!0,configurable:!0}),e.prototype.activate=function(t){this.foundation_.activate(t)},e.prototype.deactivate=function(){this.foundation_.deactivate()},e.prototype.computeIndicatorClientRect=function(){return this.tabIndicator_.computeContentClientRect()},e.prototype.computeDimensions=function(){return this.foundation_.computeDimensions()},e.prototype.focus=function(){this.root_.focus()},e}(tb);var hb={ARROW_LEFT_KEY:"ArrowLeft",ARROW_RIGHT_KEY:"ArrowRight",END_KEY:"End",ENTER_KEY:"Enter",HOME_KEY:"Home",SPACE_KEY:"Space",TAB_ACTIVATED_EVENT:"MDCTabBar:activated",TAB_SCROLLER_SELECTOR:".mdc-tab-scroller",TAB_SELECTOR:".mdc-tab"},Sb={ARROW_LEFT_KEYCODE:37,ARROW_RIGHT_KEYCODE:39,END_KEYCODE:35,ENTER_KEYCODE:13,EXTRA_SCROLL_AMOUNT:20,HOME_KEYCODE:36,SPACE_KEYCODE:32};var Pc=new Set;Pc.add(hb.ARROW_LEFT_KEY),Pc.add(hb.ARROW_RIGHT_KEY),Pc.add(hb.END_KEY),Pc.add(hb.HOME_KEY),Pc.add(hb.ENTER_KEY),Pc.add(hb.SPACE_KEY);var Qc=new Map;Qc.set(Sb.ARROW_LEFT_KEYCODE,hb.ARROW_LEFT_KEY),Qc.set(Sb.ARROW_RIGHT_KEYCODE,hb.ARROW_RIGHT_KEY),Qc.set(Sb.END_KEYCODE,hb.END_KEY),Qc.set(Sb.HOME_KEYCODE,hb.HOME_KEY),Qc.set(Sb.ENTER_KEYCODE,hb.ENTER_KEY),Qc.set(Sb.SPACE_KEYCODE,hb.SPACE_KEY);var ik=function(t){function e(n){var i=t.call(this,ta(ta({},e.defaultAdapter),n))||this;return i.useAutomaticActivation_=!1,i}return da(e,t),Object.defineProperty(e,"strings",{get:function(){return hb},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return Sb},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{scrollTo:function(){},incrementScroll:function(){},getScrollPosition:function(){return 0},getScrollContentWidth:function(){return 0},getOffsetWidth:function(){return 0},isRTL:function(){return!1},setActiveTab:function(){},activateTabAtIndex:function(){},deactivateTabAtIndex:function(){},focusTabAtIndex:function(){},getTabIndicatorClientRectAtIndex:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabDimensionsAtIndex:function(){return{rootLeft:0,rootRight:0,contentLeft:0,contentRight:0}},getPreviousActiveTabIndex:function(){return-1},getFocusedTabIndex:function(){return-1},getIndexOfTabById:function(){return-1},getTabListLength:function(){return 0},notifyTabActivated:function(){}}},enumerable:!0,configurable:!0}),e.prototype.setUseAutomaticActivation=function(t){this.useAutomaticActivation_=t},e.prototype.activateTab=function(t){var e,n=this.adapter_.getPreviousActiveTabIndex();this.indexIsInRange_(t)&&t!==n&&(-1!==n&&(this.adapter_.deactivateTabAtIndex(n),e=this.adapter_.getTabIndicatorClientRectAtIndex(n)),this.adapter_.activateTabAtIndex(t,e),this.scrollIntoView(t),this.adapter_.notifyTabActivated(t))},e.prototype.handleKeyDown=function(t){var e=this.getKeyFromEvent_(t);if(void 0!==e)if(this.isActivationKey_(e)||t.preventDefault(),this.useAutomaticActivation_){if(this.isActivationKey_(e))return;var n=this.determineTargetFromKey_(this.adapter_.getPreviousActiveTabIndex(),e);this.adapter_.setActiveTab(n),this.scrollIntoView(n)}else{var i=this.adapter_.getFocusedTabIndex();if(this.isActivationKey_(e))this.adapter_.setActiveTab(i);else{n=this.determineTargetFromKey_(i,e);this.adapter_.focusTabAtIndex(n),this.scrollIntoView(n)}}},e.prototype.handleTabInteraction=function(t){this.adapter_.setActiveTab(this.adapter_.getIndexOfTabById(t.detail.tabId))},e.prototype.scrollIntoView=function(t){if(this.indexIsInRange_(t))return 0===t?this.adapter_.scrollTo(0):t===this.adapter_.getTabListLength()-1?this.adapter_.scrollTo(this.adapter_.getScrollContentWidth()):this.isRTL_()?this.scrollIntoViewRTL_(t):void this.scrollIntoView_(t)},e.prototype.determineTargetFromKey_=function(t,e){var n=this.isRTL_(),i=this.adapter_.getTabListLength()-1,r=e===hb.END_KEY,o=e===hb.ARROW_LEFT_KEY&&!n||e===hb.ARROW_RIGHT_KEY&&n,a=e===hb.ARROW_RIGHT_KEY&&!n||e===hb.ARROW_LEFT_KEY&&n,s=t;return r?s=i:o?s-=1:a?s+=1:s=0,s<0?s=i:s>i&&(s=0),s},e.prototype.calculateScrollIncrement_=function(t,e,n,i){var r=this.adapter_.getTabDimensionsAtIndex(e),o=r.contentLeft-n-i,a=r.contentRight-n-Sb.EXTRA_SCROLL_AMOUNT,s=o+Sb.EXTRA_SCROLL_AMOUNT;return e<t?Math.min(a,0):Math.max(s,0)},e.prototype.calculateScrollIncrementRTL_=function(t,e,n,i,r){var o=this.adapter_.getTabDimensionsAtIndex(e),a=r-o.contentLeft-n,s=r-o.contentRight-n-i+Sb.EXTRA_SCROLL_AMOUNT,$=a-Sb.EXTRA_SCROLL_AMOUNT;return e>t?Math.max(s,0):Math.min($,0)},e.prototype.findAdjacentTabIndexClosestToEdge_=function(t,e,n,i){var r=e.rootLeft-n,o=e.rootRight-n-i,a=r+o;return r<0||a<0?t-1:o>0||a>0?t+1:-1},e.prototype.findAdjacentTabIndexClosestToEdgeRTL_=function(t,e,n,i,r){var o=r-e.rootLeft-i-n,a=r-e.rootRight-n,s=o+a;return o>0||s>0?t+1:a<0||s<0?t-1:-1},e.prototype.getKeyFromEvent_=function(t){return Pc.has(t.key)?t.key:Qc.get(t.keyCode)},e.prototype.isActivationKey_=function(t){return t===hb.SPACE_KEY||t===hb.ENTER_KEY},e.prototype.indexIsInRange_=function(t){return t>=0&&t<this.adapter_.getTabListLength()},e.prototype.isRTL_=function(){return this.adapter_.isRTL()},e.prototype.scrollIntoView_=function(t){var e=this.adapter_.getScrollPosition(),n=this.adapter_.getOffsetWidth(),i=this.adapter_.getTabDimensionsAtIndex(t),r=this.findAdjacentTabIndexClosestToEdge_(t,i,e,n);if(this.indexIsInRange_(r)){var o=this.calculateScrollIncrement_(t,r,e,n);this.adapter_.incrementScroll(o)}},e.prototype.scrollIntoViewRTL_=function(t){var e=this.adapter_.getScrollPosition(),n=this.adapter_.getOffsetWidth(),i=this.adapter_.getTabDimensionsAtIndex(t),r=this.adapter_.getScrollContentWidth(),o=this.findAdjacentTabIndexClosestToEdgeRTL_(t,i,e,n,r);if(this.indexIsInRange_(o)){var a=this.calculateScrollIncrementRTL_(t,o,e,n,r);this.adapter_.incrementScroll(a)}},e}(qb);var ah=ik.strings,Fp=0,Gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),e.attachTo=function(t){return new e(t)},Object.defineProperty(e.prototype,"focusOnActivate",{set:function(t){this.tabList_.forEach(function(e){return e.focusOnActivate=t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useAutomaticActivation",{set:function(t){this.foundation_.setUseAutomaticActivation(t)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(t,e){void 0===t&&(t=function(t){return new Ep(t)}),void 0===e&&(e=function(t){return new yp(t)}),this.tabList_=this.instantiateTabs_(t),this.tabScroller_=this.instantiateTabScroller_(e)},e.prototype.initialSyncWithDOM=function(){var t=this;this.handleTabInteraction_=function(e){return t.foundation_.handleTabInteraction(e)},this.handleKeyDown_=function(e){return t.foundation_.handleKeyDown(e)},this.listen(Oc.strings.INTERACTED_EVENT,this.handleTabInteraction_),this.listen("keydown",this.handleKeyDown_);for(var e=0;e<this.tabList_.length;e++)if(this.tabList_[e].active){this.scrollIntoView(e);break}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unlisten(Oc.strings.INTERACTED_EVENT,this.handleTabInteraction_),this.unlisten("keydown",this.handleKeyDown_),this.tabList_.forEach(function(t){return t.destroy()}),this.tabScroller_&&this.tabScroller_.destroy()},e.prototype.getDefaultFoundation=function(){var t=this;return new ik({scrollTo:function(e){return t.tabScroller_.scrollTo(e)},incrementScroll:function(e){return t.tabScroller_.incrementScroll(e)},getScrollPosition:function(){return t.tabScroller_.getScrollPosition()},getScrollContentWidth:function(){return t.tabScroller_.getScrollContentWidth()},getOffsetWidth:function(){return t.root_.offsetWidth},isRTL:function(){return"rtl"===window.getComputedStyle(t.root_).getPropertyValue("direction")},setActiveTab:function(e){return t.foundation_.activateTab(e)},activateTabAtIndex:function(e,n){return t.tabList_[e].activate(n)},deactivateTabAtIndex:function(e){return t.tabList_[e].deactivate()},focusTabAtIndex:function(e){return t.tabList_[e].focus()},getTabIndicatorClientRectAtIndex:function(e){return t.tabList_[e].computeIndicatorClientRect()},getTabDimensionsAtIndex:function(e){return t.tabList_[e].computeDimensions()},getPreviousActiveTabIndex:function(){for(var e=0;e<t.tabList_.length;e++)if(t.tabList_[e].active)return e;return-1},getFocusedTabIndex:function(){var e=t.getTabElements_(),n=document.activeElement;return e.indexOf(n)},getIndexOfTabById:function(e){for(var n=0;n<t.tabList_.length;n++)if(t.tabList_[n].id===e)return n;return-1},getTabListLength:function(){return t.tabList_.length},notifyTabActivated:function(e){return t.emit(ah.TAB_ACTIVATED_EVENT,{index:e},!0)}})},e.prototype.activateTab=function(t){this.foundation_.activateTab(t)},e.prototype.scrollIntoView=function(t){this.foundation_.scrollIntoView(t)},e.prototype.getTabElements_=function(){return[].slice.call(this.root_.querySelectorAll(ah.TAB_SELECTOR))},e.prototype.instantiateTabs_=function(t){return this.getTabElements_().map(function(e){return e.id=e.id||"mdc-tab-"+ ++Fp,t(e)})},e.prototype.instantiateTabScroller_=function(t){var e=this.root_.querySelector(ah.TAB_SCROLLER_SELECTOR);return e?t(e):null},e}(tb);var jk=function(){var e=function(){function e(){rp(this,e)}return sp(e,null,[{key:"initializeTabBar",value:function(e){var r=this;if(!e)throw new Error("[TabBarUtil] container is null, could not initialize");var a=e.querySelector(".mdc-tab-bar");if(!a)throw new Error("[TabBarUtil] failed to query the MDCTabBar element, could not initialize");var i=new Gp(a);return i.focusOnActivate=!1,i.listen("MDCTabBar:activated",function(a){var i;null===(i=e.querySelector("".concat(r.TAB_CONTENTS_SELECTOR,".").concat(r.ACTIVE_TAB_CONTENTS_CLASS_NAME)))||void 0===i||i.classList.remove(r.ACTIVE_TAB_CONTENTS_CLASS_NAME),e.querySelectorAll(r.TAB_CONTENTS_SELECTOR)[a.detail.index].classList.add(r.ACTIVE_TAB_CONTENTS_CLASS_NAME)}),i}}]),e}();return e.TAB_CONTENTS_SELECTOR=".tab-contents",e.ACTIVE_TAB_CONTENTS_CLASS_NAME="active",e}();var Hp=false;function Tb(){if(Hp)return;Hp=true}Tb();var kk=new cc("AmCharts Line Graph with RDS","A visualization of aggregate data using the RDS API's select query and AmChart's line graph.",["AMCHARTS","RDS-SDK"],"<div id=\"chart-div\"></div>\n","import { AmchartsDataSet, HttpResponse, RdsServer } from '@rds/sdk';\nimport { AMCHARTS_LINE_SERIES } from 'shared/amcharts/amcharts-config';\nimport { AmChartsLineUtil } from 'shared/amcharts/line-chart.util';\n\nnew RdsServer('https://covid19.richdataservices.com/rds')\n  .getCatalog('int')\n  .getDataProduct('jhu_country')\n  .select<AmchartsDataSet>({\n    cols: 'date_stamp,cnt_confirmed,cnt_death,cnt_recovered',\n    where: '(iso3166_1=US)',\n    metadata: true,\n    limit: 5000,\n    format: 'amcharts',\n  })\n  .then((res: HttpResponse<AmchartsDataSet>) =>\n    AmChartsLineUtil.createDateLineChart({\n      elementId: 'chart-div',\n      data: res.parsedBody && res.parsedBody.dataProvider,\n      dateName: 'date_stamp',\n      lines: AMCHARTS_LINE_SERIES,\n      yTitle: 'Total Cases for U.S.',\n    })\n  );\n",[{path:"shared/amcharts/line-chart.util.ts",contents:"import * as am4charts from '@amcharts/amcharts4/charts';\nimport * as am4core from '@amcharts/amcharts4/core';\nimport { AmchartsDateLineChartConfig, CommonAmChartColors } from './amcharts-config';\n\n/**\n * Utility to interact with the JS charting library, AmCharts.\n *\n * Specifically for creating line charts from aggregated COVID-19 data and\n * displaying the count of confirmed cases, recovered cases, and total deaths over time.\n */\nexport class AmChartsLineUtil {\n  /** Registry of all line charts created. Keyed on the html element id. */\n  private static registry: { [elementId: string]: am4charts.XYChart } = {};\n\n  /**\n   * Create a new date line chart, emdedded within a container with the given element id and populated with the given data.\n   * Y axis will be the date, x axis will be the passed parameter\n   * @param elementId HTML element id of the container to embed the chart\n   * @param data chart data\n   */\n  static createDateLineChart(config: AmchartsDateLineChartConfig) {\n    if (!config.data) {\n      return;\n    }\n    // If an existing amchart exists in the same container, dispose it\n    this.disposeChart(config.elementId);\n\n    // Create a new chart and add it to the registry\n    const chart = am4core.create(config.elementId, am4charts.XYChart);\n    this.registry[config.elementId] = chart;\n\n    chart.dateFormatter.dateFormat = 'yyyy-MM-dd';\n    chart.fontSize = '1em';\n    chart.maskBullets = false;\n    chart.paddingBottom = 0;\n    chart.paddingLeft = 0;\n    chart.paddingRight = 50;\n    chart.paddingTop = 0;\n    chart.zoomOutButton.disabled = true;\n\n    // Set up x-axis which are dates\n    const dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.minGridDistance = 50;\n    dateAxis.renderer.grid.template.stroke = am4core.color('#000000');\n    dateAxis.renderer.grid.template.strokeOpacity = 0.25;\n    dateAxis.renderer.labels.template.fill = am4core.color('#000');\n    if (dateAxis.tooltip) {\n      dateAxis.tooltip.label.fontSize = '1em';\n      dateAxis.tooltip.background.fill = CommonAmChartColors.activeColor;\n      dateAxis.tooltip.background.stroke = CommonAmChartColors.activeColor;\n    }\n\n    // Set up y-axis which are numeric values\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.title.text = config.yTitle;\n    valueAxis.renderer.opposite = true;\n    valueAxis.renderer.grid.template.stroke = am4core.color('#000000');\n    valueAxis.renderer.grid.template.strokeOpacity = 0.25;\n    valueAxis.renderer.minGridDistance = 30;\n    valueAxis.renderer.maxLabelPosition = 0.98;\n    valueAxis.renderer.baseGrid.disabled = true;\n    valueAxis.renderer.inside = false;\n    valueAxis.renderer.labels.template.verticalCenter = 'bottom';\n    valueAxis.renderer.labels.template.fill = am4core.color('#000');\n    valueAxis.renderer.labels.template.padding(2, 2, 2, 2);\n    if (valueAxis.tooltip) {\n      valueAxis.tooltip.disabled = true;\n    }\n    valueAxis.interpolationDuration = 3000;\n    valueAxis.extraMax = 0.05;\n    valueAxis.maxPrecision = 0;\n    valueAxis.adapter.add('max', (max) => {\n      if (max < 5) {\n        max = 5;\n      }\n      return max;\n    });\n\n    // Configure cursor\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.maxTooltipDistance = 0;\n    chart.cursor.behavior = 'none';\n    chart.cursor.lineY.disabled = true;\n    chart.cursor.lineX.stroke = CommonAmChartColors.activeColor;\n    chart.cursor.xAxis = dateAxis;\n\n    // Set up the chart legend\n    chart.legend = new am4charts.Legend();\n    chart.legend.parent = chart.plotContainer;\n    chart.legend.labels.template.fill = am4core.color('#000');\n    chart.legend.markers.template.height = 16;\n    chart.legend.contentAlign = 'left';\n    chart.legend.fontSize = '1em';\n    chart.legend.itemContainers.template.valign = 'middle';\n\n    // Create each line series\n    config.lines.forEach((lineSeries) => {\n      this.addLineSeries(chart, lineSeries.name, lineSeries.value, config.dateName, lineSeries.color);\n    });\n\n    // Pass the data to the chart\n    chart.data = config.data;\n  }\n\n  /**\n   * Dispose an AmChart within an html element with the given id.\n   * @param elementId ID of the container that holds the Plotly chart to dispose\n   */\n  static disposeChart(elementId: string): void {\n    const existingChart = this.registry[elementId];\n    if (existingChart && !existingChart.isDisposed()) {\n      existingChart.dispose();\n    }\n  }\n\n  /**\n   * Adds a line series to an existing chart.\n   *\n   * @param chart chart to add a line series to\n   * @param name name of the series\n   * @param valueY name of the field in data that holds numeric value for vertical axis.\n   * @param dateX name of the field in data that holds date for horizontal axis.\n   * @param color color to render the line\n   * @returns the new line series\n   */\n  private static addLineSeries(\n    chart: am4charts.XYChart,\n    name: string,\n    valueY: string,\n    dateX: string,\n    color: am4core.Color | am4core.Pattern | am4core.LinearGradient | am4core.RadialGradient\n  ): am4charts.LineSeries {\n    const series = chart.series.push(new am4charts.LineSeries());\n    series.name = name;\n    series.dataFields.valueY = valueY;\n    series.dataFields.dateX = dateX;\n\n    series.strokeOpacity = 0.6;\n    series.stroke = color;\n    series.fill = color;\n\n    // Configure tooltip\n    if (series.tooltip) {\n      series.tooltip.pointerOrientation = 'down';\n      series.tooltip.getStrokeFromObject = true;\n      series.tooltip.getFillFromObject = false;\n      series.tooltip.background.fillOpacity = 0.2;\n      series.tooltip.background.fill = am4core.color('#000000');\n      series.tooltip.dy = -4;\n      series.tooltip.fontSize = '1em';\n    }\n    series.tooltipText = 'Total {name}: {valueY}';\n\n    return series;\n  }\n}\n"},{path:"shared/amcharts/amcharts-config.ts",contents:"import * as am4core from '@amcharts/amcharts4/core';\n\n/** Config for setting up a bar chart */\nexport interface AmchartsBarChartConfig {\n  data: any[] | undefined;\n  elementId: string;\n  type: 'BAR';\n  xCategory: string;\n  xTitle?: string;\n  yCategory: string;\n  yTitle?: string;\n}\n\n/**\n * Config for creating heat map\n */\nexport interface AmchartsHeatMapConfig {\n  data: any[] | undefined;\n  elementId: string;\n  valueCategory?: string;\n  xCategory: string;\n  yCategory: string;\n}\n\nexport const CommonAmChartColors = {\n  activeColor: am4core.color('#ff8726'),\n  confirmedColor: am4core.color('#d21a1a'),\n  recoveredColor: am4core.color('#45d21a'),\n  deathsColor: am4core.color('#1c5fe5'),\n};\n\n/**\n * Config for each line series\n */\nexport interface AmchartsLineSeriesConfig {\n  color: am4core.Color | am4core.Pattern | am4core.LinearGradient | am4core.RadialGradient;\n  name: string;\n  value: string;\n}\n\n/**\n * Config for creating a date line chart\n */\nexport interface AmchartsDateLineChartConfig {\n  data: any[] | undefined;\n  dateName: string;\n  elementId: string;\n  lines: AmchartsLineSeriesConfig[];\n  yTitle: string;\n}\n\n/* Line Series configuration for AmCharts*/\nexport const AMCHARTS_LINE_SERIES: AmchartsLineSeriesConfig[] = [\n  { name: 'Confirmed Cases', value: 'cnt_confirmed', color: CommonAmChartColors.confirmedColor },\n  { name: 'Total Deaths', value: 'cnt_death', color: CommonAmChartColors.deathsColor },\n  { name: 'Total Recovered', value: 'cnt_recovered', color: CommonAmChartColors.recoveredColor },\n];\n"}]);Tb();var lk=new cc("AmCharts Line Graph without RDS","A visualization of aggregate data using AmChart's line graph, without the help of the RDS API.",["AMCHARTS","D3_FETCH","TS"],"<div id=\"chart-div\"></div>\n","import * as d3 from 'd3-fetch';\nimport { AMCHARTS_LINE_SERIES } from 'shared/amcharts/amcharts-config';\nimport { AmChartsLineUtil } from 'shared/amcharts/line-chart.util';\n\nconst usData: any[] = [];\n\ngetCountryData();\n\nasync function getCountryData() {\n  const confirmedData = await processData(\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv'\n  );\n  const deathData = await processData(\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv'\n  );\n  const recoveredData = await processData(\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv'\n  );\n\n  // Iterate over each date and grab the same date for the other two data variables\n  // and put in AM Charts format\n  for (const key in confirmedData.usDates) {\n    if (confirmedData.usDates.hasOwnProperty(key)) {\n      usData.push({\n        date_stamp: key,\n        cnt_confirmed: confirmedData.usDates[key],\n        cnt_death: deathData.usDates[key],\n        cnt_recovered: recoveredData.usDates[key],\n      });\n    }\n  }\n  AmChartsLineUtil.createDateLineChart({\n    elementId: 'chart-div',\n    data: usData,\n    dateName: 'date_stamp',\n    lines: AMCHARTS_LINE_SERIES,\n    yTitle: 'Total Cases for U.S.',\n  });\n}\n\nasync function processData(file: string) {\n  const data = await d3.csv(file);\n  // Grab all the date columns for later\n  const dateKeys = Object.keys(data[0]).filter((key) => {\n    // To get these headers, I have to manually inspect the CSV file. Sometimes these files\n    // have hundreds of headers and have the code names not the label names. If they are\n    // just the codes, that means we have to reference another document to ensure we grab\n    // the right columns\n    return !['Lat', 'Long', 'Province/State', 'Country/Region'].includes(key);\n  });\n\n  // Initialize the object we'll use to keep track of the counts per day\n  const usDates: { [date_stamp: string]: number } = {};\n\n  // Iterate through each row, if it is a US territory, then we have iterate\n  // over each dateKey and add the total for that date for the territory\n  data.forEach((x) => {\n    if (x['Country/Region'] === 'US') {\n      dateKeys.forEach((date) => {\n        if (!usDates[date]) {\n          usDates[date] = 0;\n        }\n        usDates[date] += Number(x[date]);\n      });\n    }\n  });\n\n  // Finally return the date\n  return { usDates };\n}\n",[{path:"shared/amcharts/line-chart.util.ts",contents:"import * as am4charts from '@amcharts/amcharts4/charts';\nimport * as am4core from '@amcharts/amcharts4/core';\nimport { AmchartsDateLineChartConfig, CommonAmChartColors } from './amcharts-config';\n\n/**\n * Utility to interact with the JS charting library, AmCharts.\n *\n * Specifically for creating line charts from aggregated COVID-19 data and\n * displaying the count of confirmed cases, recovered cases, and total deaths over time.\n */\nexport class AmChartsLineUtil {\n  /** Registry of all line charts created. Keyed on the html element id. */\n  private static registry: { [elementId: string]: am4charts.XYChart } = {};\n\n  /**\n   * Create a new date line chart, emdedded within a container with the given element id and populated with the given data.\n   * Y axis will be the date, x axis will be the passed parameter\n   * @param elementId HTML element id of the container to embed the chart\n   * @param data chart data\n   */\n  static createDateLineChart(config: AmchartsDateLineChartConfig) {\n    if (!config.data) {\n      return;\n    }\n    // If an existing amchart exists in the same container, dispose it\n    this.disposeChart(config.elementId);\n\n    // Create a new chart and add it to the registry\n    const chart = am4core.create(config.elementId, am4charts.XYChart);\n    this.registry[config.elementId] = chart;\n\n    chart.dateFormatter.dateFormat = 'yyyy-MM-dd';\n    chart.fontSize = '1em';\n    chart.maskBullets = false;\n    chart.paddingBottom = 0;\n    chart.paddingLeft = 0;\n    chart.paddingRight = 50;\n    chart.paddingTop = 0;\n    chart.zoomOutButton.disabled = true;\n\n    // Set up x-axis which are dates\n    const dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.minGridDistance = 50;\n    dateAxis.renderer.grid.template.stroke = am4core.color('#000000');\n    dateAxis.renderer.grid.template.strokeOpacity = 0.25;\n    dateAxis.renderer.labels.template.fill = am4core.color('#000');\n    if (dateAxis.tooltip) {\n      dateAxis.tooltip.label.fontSize = '1em';\n      dateAxis.tooltip.background.fill = CommonAmChartColors.activeColor;\n      dateAxis.tooltip.background.stroke = CommonAmChartColors.activeColor;\n    }\n\n    // Set up y-axis which are numeric values\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.title.text = config.yTitle;\n    valueAxis.renderer.opposite = true;\n    valueAxis.renderer.grid.template.stroke = am4core.color('#000000');\n    valueAxis.renderer.grid.template.strokeOpacity = 0.25;\n    valueAxis.renderer.minGridDistance = 30;\n    valueAxis.renderer.maxLabelPosition = 0.98;\n    valueAxis.renderer.baseGrid.disabled = true;\n    valueAxis.renderer.inside = false;\n    valueAxis.renderer.labels.template.verticalCenter = 'bottom';\n    valueAxis.renderer.labels.template.fill = am4core.color('#000');\n    valueAxis.renderer.labels.template.padding(2, 2, 2, 2);\n    if (valueAxis.tooltip) {\n      valueAxis.tooltip.disabled = true;\n    }\n    valueAxis.interpolationDuration = 3000;\n    valueAxis.extraMax = 0.05;\n    valueAxis.maxPrecision = 0;\n    valueAxis.adapter.add('max', (max) => {\n      if (max < 5) {\n        max = 5;\n      }\n      return max;\n    });\n\n    // Configure cursor\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.maxTooltipDistance = 0;\n    chart.cursor.behavior = 'none';\n    chart.cursor.lineY.disabled = true;\n    chart.cursor.lineX.stroke = CommonAmChartColors.activeColor;\n    chart.cursor.xAxis = dateAxis;\n\n    // Set up the chart legend\n    chart.legend = new am4charts.Legend();\n    chart.legend.parent = chart.plotContainer;\n    chart.legend.labels.template.fill = am4core.color('#000');\n    chart.legend.markers.template.height = 16;\n    chart.legend.contentAlign = 'left';\n    chart.legend.fontSize = '1em';\n    chart.legend.itemContainers.template.valign = 'middle';\n\n    // Create each line series\n    config.lines.forEach((lineSeries) => {\n      this.addLineSeries(chart, lineSeries.name, lineSeries.value, config.dateName, lineSeries.color);\n    });\n\n    // Pass the data to the chart\n    chart.data = config.data;\n  }\n\n  /**\n   * Dispose an AmChart within an html element with the given id.\n   * @param elementId ID of the container that holds the Plotly chart to dispose\n   */\n  static disposeChart(elementId: string): void {\n    const existingChart = this.registry[elementId];\n    if (existingChart && !existingChart.isDisposed()) {\n      existingChart.dispose();\n    }\n  }\n\n  /**\n   * Adds a line series to an existing chart.\n   *\n   * @param chart chart to add a line series to\n   * @param name name of the series\n   * @param valueY name of the field in data that holds numeric value for vertical axis.\n   * @param dateX name of the field in data that holds date for horizontal axis.\n   * @param color color to render the line\n   * @returns the new line series\n   */\n  private static addLineSeries(\n    chart: am4charts.XYChart,\n    name: string,\n    valueY: string,\n    dateX: string,\n    color: am4core.Color | am4core.Pattern | am4core.LinearGradient | am4core.RadialGradient\n  ): am4charts.LineSeries {\n    const series = chart.series.push(new am4charts.LineSeries());\n    series.name = name;\n    series.dataFields.valueY = valueY;\n    series.dataFields.dateX = dateX;\n\n    series.strokeOpacity = 0.6;\n    series.stroke = color;\n    series.fill = color;\n\n    // Configure tooltip\n    if (series.tooltip) {\n      series.tooltip.pointerOrientation = 'down';\n      series.tooltip.getStrokeFromObject = true;\n      series.tooltip.getFillFromObject = false;\n      series.tooltip.background.fillOpacity = 0.2;\n      series.tooltip.background.fill = am4core.color('#000000');\n      series.tooltip.dy = -4;\n      series.tooltip.fontSize = '1em';\n    }\n    series.tooltipText = 'Total {name}: {valueY}';\n\n    return series;\n  }\n}\n"},{path:"shared/amcharts/amcharts-config.ts",contents:"import * as am4core from '@amcharts/amcharts4/core';\n\n/** Config for setting up a bar chart */\nexport interface AmchartsBarChartConfig {\n  data: any[] | undefined;\n  elementId: string;\n  type: 'BAR';\n  xCategory: string;\n  xTitle?: string;\n  yCategory: string;\n  yTitle?: string;\n}\n\n/**\n * Config for creating heat map\n */\nexport interface AmchartsHeatMapConfig {\n  data: any[] | undefined;\n  elementId: string;\n  valueCategory?: string;\n  xCategory: string;\n  yCategory: string;\n}\n\nexport const CommonAmChartColors = {\n  activeColor: am4core.color('#ff8726'),\n  confirmedColor: am4core.color('#d21a1a'),\n  recoveredColor: am4core.color('#45d21a'),\n  deathsColor: am4core.color('#1c5fe5'),\n};\n\n/**\n * Config for each line series\n */\nexport interface AmchartsLineSeriesConfig {\n  color: am4core.Color | am4core.Pattern | am4core.LinearGradient | am4core.RadialGradient;\n  name: string;\n  value: string;\n}\n\n/**\n * Config for creating a date line chart\n */\nexport interface AmchartsDateLineChartConfig {\n  data: any[] | undefined;\n  dateName: string;\n  elementId: string;\n  lines: AmchartsLineSeriesConfig[];\n  yTitle: string;\n}\n\n/* Line Series configuration for AmCharts*/\nexport const AMCHARTS_LINE_SERIES: AmchartsLineSeriesConfig[] = [\n  { name: 'Confirmed Cases', value: 'cnt_confirmed', color: CommonAmChartColors.confirmedColor },\n  { name: 'Total Deaths', value: 'cnt_death', color: CommonAmChartColors.deathsColor },\n  { name: 'Total Recovered', value: 'cnt_recovered', color: CommonAmChartColors.recoveredColor },\n];\n"}]);Tb();var mk=new cc("AmCharts Heat Map with RDS","A visualization of record level data using the RDS API's tabulate query and AmChart's heat map.",["AMCHARTS","RDS-SDK"],"<div id=\"chart-div\"></div>\n","import { AmchartsDataSet, HttpResponse, RdsServer } from '@rds/sdk';\nimport { AmChartsHeatUtil } from 'shared/amcharts/heat-map.util';\n\nnew RdsServer('https://covid19.richdataservices.com/rds')\n  .getCatalog('ca')\n  .getDataProduct('ca_statcan_cases')\n  .tabulate<AmchartsDataSet>({\n    dims: 'gender,age_group',\n    measure: 'COUNT:COUNT(*)',\n    metadata: true,\n    totals: true,\n    inject: true,\n    orderby: 'gender ASC, age_group DESC',\n    format: 'amcharts',\n  })\n  .then((res: HttpResponse<AmchartsDataSet>) =>\n    AmChartsHeatUtil.createChart({\n      elementId: 'chart-div',\n      data: res && res.parsedBody && res.parsedBody.dataProvider,\n      xCategory: 'gender',\n      yCategory: 'age_group',\n      valueCategory: 'COUNT',\n    })\n  );\n",[{path:"shared/amcharts/heat-map.util.ts",contents:"import * as am4charts from '@amcharts/amcharts4/charts';\nimport * as am4core from '@amcharts/amcharts4/core';\nimport { AmchartsHeatMapConfig } from './amcharts-config';\n\n/**\n * Utility to interact with the JS charting library, AmCharts.\n *\n * Specifically for creating bar charts from record level COVID-19 data and\n * displaying the total cases for the top 10 countries.\n */\nexport class AmChartsHeatUtil {\n  /** Registry of all line charts created. Keyed on the html element id. */\n  private static registry: { [elementId: string]: am4charts.XYChart } = {};\n\n  /**\n   * Create a new heat map, emdedded within a container with the given element id and populated with the given data.\n   * @param config HeatMapConfig\n   * @param data chart data\n   */\n  static createChart(config: AmchartsHeatMapConfig) {\n    if (!config.data) {\n      return;\n    }\n    // If an existing amchart exists in the same container, dispose it\n    this.disposeChart(config.elementId);\n\n    // Create a new chart and add it to the registry\n    const chart = am4core.create(config.elementId, am4charts.XYChart);\n    this.registry[config.elementId] = chart;\n\n    this.createHeatChart(chart, config.data, config.xCategory, config.yCategory, config.valueCategory);\n  }\n\n  /**\n   * Dispose an AmChart within an html element with the given id.\n   * @param elementId ID of the container that holds the Plotly chart to dispose\n   */\n  static disposeChart(elementId: string): void {\n    const existingChart = this.registry[elementId];\n    if (existingChart && !existingChart.isDisposed()) {\n      existingChart.dispose();\n    }\n  }\n\n  private static createHeatChart(\n    chart: am4charts.XYChart,\n    data: any[],\n    xCategory: string,\n    yCategory: string,\n    valueCategory: string | undefined\n  ) {\n    chart.maskBullets = false;\n\n    const xAxis = chart.xAxes.push(new am4charts.CategoryAxis());\n    const yAxis = chart.yAxes.push(new am4charts.CategoryAxis());\n\n    xAxis.dataFields.category = xCategory;\n    yAxis.dataFields.category = yCategory;\n\n    xAxis.renderer.grid.template.disabled = true;\n    xAxis.renderer.minGridDistance = 40;\n\n    yAxis.renderer.grid.template.disabled = true;\n    yAxis.renderer.inversed = true;\n    yAxis.renderer.minGridDistance = 30;\n\n    const series = chart.series.push(new am4charts.ColumnSeries());\n    series.dataFields.categoryX = xCategory;\n    series.dataFields.categoryY = yCategory;\n    series.dataFields.value = valueCategory;\n    series.sequencedInterpolation = true;\n    series.defaultState.transitionDuration = 3000;\n\n    const bgColor = new am4core.InterfaceColorSet().getFor('background');\n\n    const columnTemplate = series.columns.template;\n    columnTemplate.strokeWidth = 1;\n    columnTemplate.strokeOpacity = 0.2;\n    columnTemplate.stroke = bgColor;\n    columnTemplate.tooltipText = '{gender}, {age_group}: {value.workingValue}';\n    columnTemplate.width = am4core.percent(100);\n    columnTemplate.height = am4core.percent(100);\n\n    series.heatRules.push({\n      target: columnTemplate,\n      property: 'fill',\n      min: am4core.color(bgColor),\n      max: chart.colors.getIndex(0),\n    });\n\n    // heat legend\n    const heatLegend = chart.bottomAxesContainer.createChild(am4charts.HeatLegend);\n    heatLegend.width = am4core.percent(100);\n    heatLegend.series = series;\n    heatLegend.valueAxis.renderer.labels.template.fontSize = 9;\n    heatLegend.valueAxis.renderer.minGridDistance = 30;\n\n    // heat legend behavior\n    series.columns.template.events.on('over', (event) => {\n      handleHover(event.target);\n    });\n\n    series.columns.template.events.on('hit', (event) => {\n      handleHover(event.target);\n    });\n\n    function handleHover(column: am4charts.Column) {\n      if (column && column.dataItem) {\n        // tslint:disable-next-line: no-unsafe-any\n        const value: number = (column.dataItem as any).value;\n        if (!isNaN(value)) {\n          heatLegend.valueAxis.showTooltipAt(value);\n        } else {\n          heatLegend.valueAxis.hideTooltip();\n        }\n      }\n    }\n\n    series.columns.template.events.on('out', () => {\n      heatLegend.valueAxis.hideTooltip();\n    });\n\n    chart.data = data;\n  }\n}\n"},{path:"shared/amcharts/amcharts-config.ts",contents:"import * as am4core from '@amcharts/amcharts4/core';\n\n/** Config for setting up a bar chart */\nexport interface AmchartsBarChartConfig {\n  data: any[] | undefined;\n  elementId: string;\n  type: 'BAR';\n  xCategory: string;\n  xTitle?: string;\n  yCategory: string;\n  yTitle?: string;\n}\n\n/**\n * Config for creating heat map\n */\nexport interface AmchartsHeatMapConfig {\n  data: any[] | undefined;\n  elementId: string;\n  valueCategory?: string;\n  xCategory: string;\n  yCategory: string;\n}\n\nexport const CommonAmChartColors = {\n  activeColor: am4core.color('#ff8726'),\n  confirmedColor: am4core.color('#d21a1a'),\n  recoveredColor: am4core.color('#45d21a'),\n  deathsColor: am4core.color('#1c5fe5'),\n};\n\n/**\n * Config for each line series\n */\nexport interface AmchartsLineSeriesConfig {\n  color: am4core.Color | am4core.Pattern | am4core.LinearGradient | am4core.RadialGradient;\n  name: string;\n  value: string;\n}\n\n/**\n * Config for creating a date line chart\n */\nexport interface AmchartsDateLineChartConfig {\n  data: any[] | undefined;\n  dateName: string;\n  elementId: string;\n  lines: AmchartsLineSeriesConfig[];\n  yTitle: string;\n}\n\n/* Line Series configuration for AmCharts*/\nexport const AMCHARTS_LINE_SERIES: AmchartsLineSeriesConfig[] = [\n  { name: 'Confirmed Cases', value: 'cnt_confirmed', color: CommonAmChartColors.confirmedColor },\n  { name: 'Total Deaths', value: 'cnt_death', color: CommonAmChartColors.deathsColor },\n  { name: 'Total Recovered', value: 'cnt_recovered', color: CommonAmChartColors.recoveredColor },\n];\n"}]);Tb();var nk=new cc("AmCharts Heat Map without RDS","A visualization of record level data using AmChart's heat map, without the help of the RDS API.",["AMCHARTS","D3_FETCH","TS"],"<div id=\"chart-div\"></div>\n","import * as d3 from 'd3-fetch';\nimport { AmChartsHeatUtil } from 'shared/amcharts/heat-map.util';\n\n// Setup and initialize the gender data object\nconst genderData: {\n  [gender: string]: { ageGroup: string; count: number }[];\n} = {\n  Male: [\n    { ageGroup: '0 to 19 years', count: 0 },\n    { ageGroup: '20 to 29 years', count: 0 },\n    { ageGroup: '30 to 39 years', count: 0 },\n    { ageGroup: '40 to 49 years', count: 0 },\n    { ageGroup: '50 to 59 years', count: 0 },\n    { ageGroup: '60 to 69 years', count: 0 },\n    { ageGroup: '70 to 79 years', count: 0 },\n    { ageGroup: '80 years or older', count: 0 },\n    { ageGroup: 'Not state', count: 0 },\n  ],\n  Female: [\n    { ageGroup: '0 to 19 years', count: 0 },\n    { ageGroup: '20 to 29 years', count: 0 },\n    { ageGroup: '30 to 39 years', count: 0 },\n    { ageGroup: '40 to 49 years', count: 0 },\n    { ageGroup: '50 to 59 years', count: 0 },\n    { ageGroup: '60 to 69 years', count: 0 },\n    { ageGroup: '70 to 79 years', count: 0 },\n    { ageGroup: '80 years or older', count: 0 },\n    { ageGroup: 'Not state', count: 0 },\n  ],\n  'Non-binary': [\n    { ageGroup: '0 to 19 years', count: 0 },\n    { ageGroup: '20 to 29 years', count: 0 },\n    { ageGroup: '30 to 39 years', count: 0 },\n    { ageGroup: '40 to 49 years', count: 0 },\n    { ageGroup: '50 to 59 years', count: 0 },\n    { ageGroup: '60 to 69 years', count: 0 },\n    { ageGroup: '70 to 79 years', count: 0 },\n    { ageGroup: '80 years or older', count: 0 },\n    { ageGroup: 'Not state', count: 0 },\n  ],\n  'Not state': [\n    { ageGroup: '0 to 19 years', count: 0 },\n    { ageGroup: '20 to 29 years', count: 0 },\n    { ageGroup: '30 to 39 years', count: 0 },\n    { ageGroup: '40 to 49 years', count: 0 },\n    { ageGroup: '50 to 59 years', count: 0 },\n    { ageGroup: '60 to 69 years', count: 0 },\n    { ageGroup: '70 to 79 years', count: 0 },\n    { ageGroup: '80 years or older', count: 0 },\n    { ageGroup: 'Not state', count: 0 },\n  ],\n};\n\n// This information is in a separate metadata sheet\nconst ageGroupMap: { [id: string]: string } = {\n  '1': '0 to 19 years',\n  '2': '20 to 29 years',\n  '3': '30 to 39 years',\n  '4': '40 to 49 years',\n  '5': '50 to 59 years',\n  '6': '60 to 69 years',\n  '7': '70 to 79 years',\n  '8': '80 years or older',\n  '99': 'Not state',\n};\ngetData();\n\nasync function getData() {\n  // Due to the size, this is an abridged version of the actual dataset.\n  // We are displaying the first 100 cases of the data\n  await processData('https://raw.githubusercontent.com/nmrichards/sample_data/master/2020-05-14.csv');\n\n  const formattedData: { gender: string; age_group: string; COUNT: number }[] = [];\n\n  // Lastly, we need to format it for AmCharts\n  for (const key in genderData) {\n    if (key) {\n      genderData[key].forEach((x) => {\n        formattedData.push({\n          gender: key,\n          age_group: x.ageGroup,\n          COUNT: x.count,\n        });\n      });\n    }\n  }\n\n  AmChartsHeatUtil.createChart({\n    elementId: 'chart-div',\n    data: formattedData,\n    xCategory: 'gender',\n    yCategory: 'age_group',\n    valueCategory: 'COUNT',\n  });\n}\n\nasync function processData(file: string) {\n  const data: any[] = await d3.csv(file);\n\n  const caseIds: { [id: string]: { gender: string; ageGroup: string } } = {};\n\n  /**\n   * First we need to group the gender and age groups together with the same Case identifier number\n   */\n  data.forEach((row: { 'Case identifier number': string; 'Case information': string; VALUE: string }) => {\n    // If it's a new case, initialize to empty strings\n    if (!caseIds[row['Case identifier number']]) {\n      caseIds[row['Case identifier number']] = { gender: '', ageGroup: '' };\n    }\n    if (row['Case information'] === 'Gender') {\n      caseIds[row['Case identifier number']].gender = row['VALUE'];\n    } else if (row['Case information'] === 'Age group') {\n      caseIds[row['Case identifier number']].ageGroup = row['VALUE'];\n    }\n  });\n\n  /**\n   * Next we need to count the totals for each category\n   */\n  for (const key in caseIds) {\n    if (caseIds.hasOwnProperty(key)) {\n      switch (caseIds[key].gender) {\n        case '1':\n          // 1 is Male, read from separate metadata sheet. Sure hope they\n          // don't change their codes\n          genderData['Male'].forEach((x) => {\n            if (x.ageGroup === ageGroupMap[caseIds[key].ageGroup]) {\n              x.count += 1;\n            }\n          });\n          break;\n        case '2':\n          // 2 is Female\n          genderData['Female'].forEach((x) => {\n            if (x.ageGroup === ageGroupMap[caseIds[key].ageGroup]) {\n              x.count += 1;\n            }\n          });\n          break;\n        case '3':\n          // 3 is Non-binary\n          genderData['Non-binary'].forEach((x) => {\n            if (x.ageGroup === ageGroupMap[caseIds[key].ageGroup]) {\n              x.count += 1;\n            }\n          });\n          break;\n        case '9':\n          // 9 is Not stated\n          genderData['Not stated'].forEach((x) => {\n            if (x.ageGroup === ageGroupMap[caseIds[key].ageGroup]) {\n              x.count += 1;\n            }\n          });\n          break;\n      }\n    }\n  }\n}\n",[{path:"shared/amcharts/heat-map.util.ts",contents:"import * as am4charts from '@amcharts/amcharts4/charts';\nimport * as am4core from '@amcharts/amcharts4/core';\nimport { AmchartsHeatMapConfig } from './amcharts-config';\n\n/**\n * Utility to interact with the JS charting library, AmCharts.\n *\n * Specifically for creating bar charts from record level COVID-19 data and\n * displaying the total cases for the top 10 countries.\n */\nexport class AmChartsHeatUtil {\n  /** Registry of all line charts created. Keyed on the html element id. */\n  private static registry: { [elementId: string]: am4charts.XYChart } = {};\n\n  /**\n   * Create a new heat map, emdedded within a container with the given element id and populated with the given data.\n   * @param config HeatMapConfig\n   * @param data chart data\n   */\n  static createChart(config: AmchartsHeatMapConfig) {\n    if (!config.data) {\n      return;\n    }\n    // If an existing amchart exists in the same container, dispose it\n    this.disposeChart(config.elementId);\n\n    // Create a new chart and add it to the registry\n    const chart = am4core.create(config.elementId, am4charts.XYChart);\n    this.registry[config.elementId] = chart;\n\n    this.createHeatChart(chart, config.data, config.xCategory, config.yCategory, config.valueCategory);\n  }\n\n  /**\n   * Dispose an AmChart within an html element with the given id.\n   * @param elementId ID of the container that holds the Plotly chart to dispose\n   */\n  static disposeChart(elementId: string): void {\n    const existingChart = this.registry[elementId];\n    if (existingChart && !existingChart.isDisposed()) {\n      existingChart.dispose();\n    }\n  }\n\n  private static createHeatChart(\n    chart: am4charts.XYChart,\n    data: any[],\n    xCategory: string,\n    yCategory: string,\n    valueCategory: string | undefined\n  ) {\n    chart.maskBullets = false;\n\n    const xAxis = chart.xAxes.push(new am4charts.CategoryAxis());\n    const yAxis = chart.yAxes.push(new am4charts.CategoryAxis());\n\n    xAxis.dataFields.category = xCategory;\n    yAxis.dataFields.category = yCategory;\n\n    xAxis.renderer.grid.template.disabled = true;\n    xAxis.renderer.minGridDistance = 40;\n\n    yAxis.renderer.grid.template.disabled = true;\n    yAxis.renderer.inversed = true;\n    yAxis.renderer.minGridDistance = 30;\n\n    const series = chart.series.push(new am4charts.ColumnSeries());\n    series.dataFields.categoryX = xCategory;\n    series.dataFields.categoryY = yCategory;\n    series.dataFields.value = valueCategory;\n    series.sequencedInterpolation = true;\n    series.defaultState.transitionDuration = 3000;\n\n    const bgColor = new am4core.InterfaceColorSet().getFor('background');\n\n    const columnTemplate = series.columns.template;\n    columnTemplate.strokeWidth = 1;\n    columnTemplate.strokeOpacity = 0.2;\n    columnTemplate.stroke = bgColor;\n    columnTemplate.tooltipText = '{gender}, {age_group}: {value.workingValue}';\n    columnTemplate.width = am4core.percent(100);\n    columnTemplate.height = am4core.percent(100);\n\n    series.heatRules.push({\n      target: columnTemplate,\n      property: 'fill',\n      min: am4core.color(bgColor),\n      max: chart.colors.getIndex(0),\n    });\n\n    // heat legend\n    const heatLegend = chart.bottomAxesContainer.createChild(am4charts.HeatLegend);\n    heatLegend.width = am4core.percent(100);\n    heatLegend.series = series;\n    heatLegend.valueAxis.renderer.labels.template.fontSize = 9;\n    heatLegend.valueAxis.renderer.minGridDistance = 30;\n\n    // heat legend behavior\n    series.columns.template.events.on('over', (event) => {\n      handleHover(event.target);\n    });\n\n    series.columns.template.events.on('hit', (event) => {\n      handleHover(event.target);\n    });\n\n    function handleHover(column: am4charts.Column) {\n      if (column && column.dataItem) {\n        // tslint:disable-next-line: no-unsafe-any\n        const value: number = (column.dataItem as any).value;\n        if (!isNaN(value)) {\n          heatLegend.valueAxis.showTooltipAt(value);\n        } else {\n          heatLegend.valueAxis.hideTooltip();\n        }\n      }\n    }\n\n    series.columns.template.events.on('out', () => {\n      heatLegend.valueAxis.hideTooltip();\n    });\n\n    chart.data = data;\n  }\n}\n"},{path:"shared/amcharts/amcharts-config.ts",contents:"import * as am4core from '@amcharts/amcharts4/core';\n\n/** Config for setting up a bar chart */\nexport interface AmchartsBarChartConfig {\n  data: any[] | undefined;\n  elementId: string;\n  type: 'BAR';\n  xCategory: string;\n  xTitle?: string;\n  yCategory: string;\n  yTitle?: string;\n}\n\n/**\n * Config for creating heat map\n */\nexport interface AmchartsHeatMapConfig {\n  data: any[] | undefined;\n  elementId: string;\n  valueCategory?: string;\n  xCategory: string;\n  yCategory: string;\n}\n\nexport const CommonAmChartColors = {\n  activeColor: am4core.color('#ff8726'),\n  confirmedColor: am4core.color('#d21a1a'),\n  recoveredColor: am4core.color('#45d21a'),\n  deathsColor: am4core.color('#1c5fe5'),\n};\n\n/**\n * Config for each line series\n */\nexport interface AmchartsLineSeriesConfig {\n  color: am4core.Color | am4core.Pattern | am4core.LinearGradient | am4core.RadialGradient;\n  name: string;\n  value: string;\n}\n\n/**\n * Config for creating a date line chart\n */\nexport interface AmchartsDateLineChartConfig {\n  data: any[] | undefined;\n  dateName: string;\n  elementId: string;\n  lines: AmchartsLineSeriesConfig[];\n  yTitle: string;\n}\n\n/* Line Series configuration for AmCharts*/\nexport const AMCHARTS_LINE_SERIES: AmchartsLineSeriesConfig[] = [\n  { name: 'Confirmed Cases', value: 'cnt_confirmed', color: CommonAmChartColors.confirmedColor },\n  { name: 'Total Deaths', value: 'cnt_death', color: CommonAmChartColors.deathsColor },\n  { name: 'Total Recovered', value: 'cnt_recovered', color: CommonAmChartColors.recoveredColor },\n];\n"}]);Tb();var Ip=new cc("Google Charts Line Graph with RDS","A visualization of aggregate data using the RDS API's select query and Google Chart's line graph.",["GCHARTS","RDS-SDK"],"<html>\n\n<head>\n  <!--Load the AJAX API-->\n  <script type=\"text/javascript\"\n          src=\"https://www.gstatic.com/charts/loader.js\"></script>\n  <script type=\"text/javascript\">\n    // Load the Visualization API and the corechart package.\n    google.charts.load('current', { 'packages': ['corechart'] });\n  </script>\n</head>\n<div id=\"chart-div\"></div>\n\n</html>\n","import { GchartsDataSet, HttpResponse, RdsServer } from '@rds/sdk';\nimport { GoogleChartLineUtil } from 'shared/gcharts/line-chart.util';\n\nnew RdsServer('https://covid19.richdataservices.com/rds')\n  .getCatalog('int')\n  .getDataProduct('jhu_country')\n  .select<GchartsDataSet>({\n    cols: 'date_stamp,cnt_confirmed,cnt_death,cnt_recovered',\n    where: '(iso3166_1=US)',\n    metadata: true,\n    limit: 5000,\n    format: 'gcharts',\n  })\n  .then((res: HttpResponse<GchartsDataSet>) =>\n    GoogleChartLineUtil.createChart({\n      elementId: 'chart-div',\n      chartTitle: 'Totals by Date',\n      data: res.parsedBody,\n    })\n  );\n",[{path:"shared/gcharts/line-chart.util.ts",contents:"import { GoogleLineChartConfig } from './gcharts-config';\n\nexport class GoogleChartLineUtil {\n  /** Registry of all line charts created. Keyed on the html element id. */\n  private static registry: { [elementId: string]: google.visualization.BarChart } = {};\n\n  static createChart(config: GoogleLineChartConfig) {\n    if (!config.data) {\n      return;\n    }\n    const existingChart = this.registry[config.elementId];\n    const lineChartDiv = document.getElementById(config.elementId);\n\n    /** If chart already exists in html element, clear out the html */\n    if (existingChart) {\n      this.disposeChart(config.elementId);\n    }\n\n    if (lineChartDiv) {\n      const data = google.visualization.arrayToDataTable([config.data.cols, ...config.data.rows], false);\n      const lineChart = new google.visualization.LineChart(lineChartDiv);\n      lineChart.draw(data, { title: config.chartTitle });\n    }\n  }\n\n  static disposeChart(elementId: string) {\n    const chartDiv = document.getElementById(elementId);\n    if (chartDiv) {\n      chartDiv.innerHTML = '';\n    }\n  }\n}\n"}]);Tb();var Jp=new cc("Google Charts Line Graph without RDS","A visualization of aggregate data using Google Chart's line graph, without the help of the RDS API.",["GCHARTS","D3_FETCH","TS"],"<html>\n\n<head>\n  <!--Load the AJAX API-->\n  <script type=\"text/javascript\"\n          src=\"https://www.gstatic.com/charts/loader.js\"></script>\n  <script type=\"text/javascript\">\n    // Load the Visualization API and the corechart package.\n    google.charts.load('current', { 'packages': ['corechart'] });\n  </script>\n</head>\n<div id=\"chart-div\"></div>\n\n</html>\n","import * as d3 from 'd3-fetch';\nimport { GoogleChartLineUtil } from 'shared/gcharts/line-chart.util';\ngoogle.charts.setOnLoadCallback(() => {\n  getCountryData();\n});\n\nconst usData: google.visualization.DataObject = { cols: [], rows: [], p: {} };\n\nasync function getCountryData() {\n  const confirmedData = await processData(\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv'\n  );\n  const deathData = await processData(\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv'\n  );\n  const recoveredData = await processData(\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv'\n  );\n\n  // Iterate over each date and grab the same date for the other two data variables\n  // and put in Google Charts format\n  usData.cols.push({ id: 'date_stamp', label: 'Datestamp', type: 'string' });\n  usData.cols.push({ id: 'cnt_confirmed', label: 'Confirmed Count', type: 'number' });\n  usData.cols.push({ id: 'cnt_death', label: 'Death Count', type: 'number' });\n  usData.cols.push({ id: 'cnt_recovered', label: 'Recovered Count', type: 'number' });\n\n  /** Format the date the way we want and push it into the google format */\n  for (const key in confirmedData.usDates) {\n    if (confirmedData.usDates.hasOwnProperty(key)) {\n      const newDate = new Date(key);\n      const formattedDate = `${newDate.getFullYear()}-${('0' + (newDate.getMonth() + 1)).slice(-2)}-${('0' + newDate.getDate()).slice(-2)}`;\n      usData.rows.push({\n        c: [{ v: formattedDate }, { v: confirmedData.usDates[key] }, { v: deathData.usDates[key] }, { v: recoveredData.usDates[key] }],\n      });\n    }\n  }\n  GoogleChartLineUtil.createChart({\n    elementId: 'chart-div',\n    chartTitle: 'Totals by Date',\n    data: usData,\n  });\n}\n\nasync function processData(file: string) {\n  const data = await d3.csv(file);\n  // Grab all the date columns for later\n  const dateKeys = Object.keys(data[0]).filter((key) => {\n    // To get these headers, I have to manually inspect the CSV file. Sometimes these files\n    // have hundreds of headers and have the code names not the label names. If they are\n    // just the codes, that means we have to reference another document to ensure we grab\n    // the right columns\n    return !['Lat', 'Long', 'Province/State', 'Country/Region'].includes(key);\n  });\n\n  // Initialize the object we'll use to keep track of the counts per day\n  const usDates: { [date_stamp: string]: number } = {};\n\n  // Iterate through each row, if it is a US territory, then we have iterate\n  // over each dateKey and add the total for that date for the territory\n  data.forEach((x) => {\n    if (x['Country/Region'] === 'US') {\n      dateKeys.forEach((date) => {\n        if (!usDates[date]) {\n          usDates[date] = 0;\n        }\n        usDates[date] += Number(x[date]);\n      });\n    }\n  });\n\n  // Finally return the date\n  return { usDates };\n}\n",[{path:"shared/gcharts/line-chart.util.ts",contents:"import { GoogleLineChartConfig } from './gcharts-config';\n\nexport class GoogleChartLineUtil {\n  /** Registry of all line charts created. Keyed on the html element id. */\n  private static registry: { [elementId: string]: google.visualization.BarChart } = {};\n\n  static createChart(config: GoogleLineChartConfig) {\n    if (!config.data) {\n      return;\n    }\n    const existingChart = this.registry[config.elementId];\n    const lineChartDiv = document.getElementById(config.elementId);\n\n    /** If chart already exists in html element, clear out the html */\n    if (existingChart) {\n      this.disposeChart(config.elementId);\n    }\n\n    if (lineChartDiv) {\n      const data = google.visualization.arrayToDataTable([config.data.cols, ...config.data.rows], false);\n      const lineChart = new google.visualization.LineChart(lineChartDiv);\n      lineChart.draw(data, { title: config.chartTitle });\n    }\n  }\n\n  static disposeChart(elementId: string) {\n    const chartDiv = document.getElementById(elementId);\n    if (chartDiv) {\n      chartDiv.innerHTML = '';\n    }\n  }\n}\n"}]);Tb();var Kp=new cc("Plotly Scatter Plot Graph with RDS","A visualization of aggregate data using the RDS API's select query and Plotly's scatter plot graph.",["RDS-SDK"],"<head>\n  <script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n</head>\n<div id=\"chart-div\"></div>\n","import { HttpResponse, PlotlyDataSet, RdsServer } from '@rds/sdk';\nimport { PlotlyChartUtil } from 'shared/plotly/chart.util';\n\nnew RdsServer('https://covid19.richdataservices.com/rds')\n  .getCatalog('int')\n  .getDataProduct('jhu_country')\n  .select<PlotlyDataSet>({\n    cols: 'date_stamp,cnt_confirmed,cnt_death,cnt_recovered',\n    where: '(iso3166_1=US)',\n    metadata: true,\n    limit: 5000,\n    format: 'plotly_scatter',\n  })\n  .then((res: HttpResponse<PlotlyDataSet>) => PlotlyChartUtil.createChart('chart-div', res.parsedBody));\n",[{path:"shared/plotly/chart.util.ts",contents:"/**\n * A simple type to satisfy the typescript linter.\n *\n * Plotly has difficulty working with some bundlers.\n * We have added <script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n * to load it from a cdn and use it as a umd global.\n */\ndeclare const Plotly: {\n  newPlot(element: Element, traces: any[]): void;\n  purge(elementId: string): void;\n};\n\n/**\n * Utility to interact with the JS charting library, Plotly.\n */\nexport class PlotlyChartUtil {\n  /**\n   * Create a new chart emdedded within a container with the given element id and populated with the given data.\n   * @param elementId HTML element id of the container to embed the chart\n   * @param data chart data\n   */\n  static createChart(elementId: string, data: any) {\n    const element = document.getElementById(elementId);\n    if (element) {\n      // Dispose an existing chart\n      this.disposeChart(elementId);\n      // Create the new chart\n      Plotly.newPlot(element, [data]);\n    }\n  }\n\n  /**\n   * Dispose a Plotly chart within an html element with the given id.\n   * @param elementId ID of the container that holds the Plotly chart to dispose\n   */\n  static disposeChart(elementId: string): void {\n    const element = document.getElementById(elementId);\n    if (element) {\n      Plotly.purge(elementId);\n    }\n  }\n}\n"}]);Tb();var Lp=new cc("Plotly Scatter Plot Graph without RDS","A visualization of aggregate data using Plotly's scatter plot graph, without the help of the RDS API.",["D3_FETCH","TS"],"<head>\n  <script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n</head>\n<div id=\"chart-div\"></div>\n","import * as d3 from 'd3-fetch';\nimport { PlotlyChartUtil } from 'shared/plotly/chart.util';\n\nconst usData: { x: string[]; y: number[]; type: string; mode: string } = { x: [], y: [], type: 'scatter', mode: 'markers' };\n\ngetCountryData();\n\nasync function getCountryData() {\n  const confirmedData = await processData(\n    'https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv'\n  );\n\n  // Iterate over each date and grab the same date for the other two data variables\n  // and put in AM Charts format\n  for (const key in confirmedData.usDates) {\n    if (confirmedData.usDates.hasOwnProperty(key)) {\n      usData.x.push(key);\n      usData.y.push(confirmedData.usDates[key]);\n    }\n  }\n  PlotlyChartUtil.createChart('chart-div', usData);\n}\n\nasync function processData(file: string) {\n  const data = await d3.csv(file);\n  // Grab all the date columns for later\n  const dateKeys = Object.keys(data[0]).filter((key) => {\n    // To get these headers, I have to manually inspect the CSV file. Sometimes these files\n    // have hundreds of headers and have the code names not the label names. If they are\n    // just the codes, that means we have to reference another document to ensure we grab\n    // the right columns\n    return !['Lat', 'Long', 'Province/State', 'Country/Region'].includes(key);\n  });\n\n  // Initialize the object we'll use to keep track of the counts per day\n  const usDates: { [date_stamp: string]: number } = {};\n\n  // Iterate through each row, if it is a US territory, then we have iterate\n  // over each dateKey and add the total for that date for the territory\n  data.forEach((x) => {\n    if (x['Country/Region'] === 'US') {\n      dateKeys.forEach((date) => {\n        if (!usDates[date]) {\n          usDates[date] = 0;\n        }\n        usDates[date] += Number(x[date]);\n      });\n    }\n  });\n\n  // Finally return the date\n  return { usDates };\n}\n",[{path:"shared/plotly/chart.util.ts",contents:"/**\n * A simple type to satisfy the typescript linter.\n *\n * Plotly has difficulty working with some bundlers.\n * We have added <script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n * to load it from a cdn and use it as a umd global.\n */\ndeclare const Plotly: {\n  newPlot(element: Element, traces: any[]): void;\n  purge(elementId: string): void;\n};\n\n/**\n * Utility to interact with the JS charting library, Plotly.\n */\nexport class PlotlyChartUtil {\n  /**\n   * Create a new chart emdedded within a container with the given element id and populated with the given data.\n   * @param elementId HTML element id of the container to embed the chart\n   * @param data chart data\n   */\n  static createChart(elementId: string, data: any) {\n    const element = document.getElementById(elementId);\n    if (element) {\n      // Dispose an existing chart\n      this.disposeChart(elementId);\n      // Create the new chart\n      Plotly.newPlot(element, [data]);\n    }\n  }\n\n  /**\n   * Dispose a Plotly chart within an html element with the given id.\n   * @param elementId ID of the container that holds the Plotly chart to dispose\n   */\n  static disposeChart(elementId: string): void {\n    const element = document.getElementById(elementId);\n    if (element) {\n      Plotly.purge(elementId);\n    }\n  }\n}\n"}]);Tb();var Mp=new cc("Plotly Heat Chart with RDS","A visualization of record level data using the RDS API's tabulate query and Plotly's heat chart.",["RDS-SDK"],"<head>\n  <script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n</head>\n<div id=\"chart-div\"></div>\n","import { HttpResponse, PlotlyDataSet, RdsServer } from '@rds/sdk';\nimport { PlotlyChartUtil } from 'shared/plotly/chart.util';\n\nnew RdsServer('https://covid19.richdataservices.com/rds')\n  .getCatalog('ca')\n  .getDataProduct('ca_statcan_cases')\n  .tabulate<PlotlyDataSet>({\n    dims: 'gender,age_group',\n    measure: 'COUNT:COUNT(*)',\n    metadata: true,\n    totals: true,\n    inject: true,\n    orderby: 'gender ASC, age_group DESC',\n    format: 'plotly_heatmap',\n  })\n  .then((res: HttpResponse<PlotlyDataSet>) => PlotlyChartUtil.createChart('chart-div', res.parsedBody));\n",[{path:"shared/plotly/chart.util.ts",contents:"/**\n * A simple type to satisfy the typescript linter.\n *\n * Plotly has difficulty working with some bundlers.\n * We have added <script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n * to load it from a cdn and use it as a umd global.\n */\ndeclare const Plotly: {\n  newPlot(element: Element, traces: any[]): void;\n  purge(elementId: string): void;\n};\n\n/**\n * Utility to interact with the JS charting library, Plotly.\n */\nexport class PlotlyChartUtil {\n  /**\n   * Create a new chart emdedded within a container with the given element id and populated with the given data.\n   * @param elementId HTML element id of the container to embed the chart\n   * @param data chart data\n   */\n  static createChart(elementId: string, data: any) {\n    const element = document.getElementById(elementId);\n    if (element) {\n      // Dispose an existing chart\n      this.disposeChart(elementId);\n      // Create the new chart\n      Plotly.newPlot(element, [data]);\n    }\n  }\n\n  /**\n   * Dispose a Plotly chart within an html element with the given id.\n   * @param elementId ID of the container that holds the Plotly chart to dispose\n   */\n  static disposeChart(elementId: string): void {\n    const element = document.getElementById(elementId);\n    if (element) {\n      Plotly.purge(elementId);\n    }\n  }\n}\n"}]);Tb();var Np=new cc("Plotly Heat Chart without RDS","A visualization of record level data using Plotly's heat chart, without the help of the RDS API.",["D3_FETCH","TS"],"<head>\n  <script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n</head>\n<div id=\"chart-div\"></div>\n","import * as d3 from 'd3-fetch';\nimport { PlotlyChartUtil } from 'shared/plotly/chart.util';\n\n// Setup and initialize the gender data object\nconst genderData: {\n  [gender: string]: { ageGroup: string; count: number }[];\n} = {\n  Male: [\n    { ageGroup: '0 to 19 years', count: 0 },\n    { ageGroup: '20 to 29 years', count: 0 },\n    { ageGroup: '30 to 39 years', count: 0 },\n    { ageGroup: '40 to 49 years', count: 0 },\n    { ageGroup: '50 to 59 years', count: 0 },\n    { ageGroup: '60 to 69 years', count: 0 },\n    { ageGroup: '70 to 79 years', count: 0 },\n    { ageGroup: '80 years or older', count: 0 },\n    { ageGroup: 'Not state', count: 0 },\n  ],\n  Female: [\n    { ageGroup: '0 to 19 years', count: 0 },\n    { ageGroup: '20 to 29 years', count: 0 },\n    { ageGroup: '30 to 39 years', count: 0 },\n    { ageGroup: '40 to 49 years', count: 0 },\n    { ageGroup: '50 to 59 years', count: 0 },\n    { ageGroup: '60 to 69 years', count: 0 },\n    { ageGroup: '70 to 79 years', count: 0 },\n    { ageGroup: '80 years or older', count: 0 },\n    { ageGroup: 'Not state', count: 0 },\n  ],\n  'Non-binary': [\n    { ageGroup: '0 to 19 years', count: 0 },\n    { ageGroup: '20 to 29 years', count: 0 },\n    { ageGroup: '30 to 39 years', count: 0 },\n    { ageGroup: '40 to 49 years', count: 0 },\n    { ageGroup: '50 to 59 years', count: 0 },\n    { ageGroup: '60 to 69 years', count: 0 },\n    { ageGroup: '70 to 79 years', count: 0 },\n    { ageGroup: '80 years or older', count: 0 },\n    { ageGroup: 'Not state', count: 0 },\n  ],\n  'Not state': [\n    { ageGroup: '0 to 19 years', count: 0 },\n    { ageGroup: '20 to 29 years', count: 0 },\n    { ageGroup: '30 to 39 years', count: 0 },\n    { ageGroup: '40 to 49 years', count: 0 },\n    { ageGroup: '50 to 59 years', count: 0 },\n    { ageGroup: '60 to 69 years', count: 0 },\n    { ageGroup: '70 to 79 years', count: 0 },\n    { ageGroup: '80 years or older', count: 0 },\n    { ageGroup: 'Not state', count: 0 },\n  ],\n};\n\n// This information is in a separate metadata sheet\nconst ageGroupMap: { [id: string]: string } = {\n  '1': '0 to 19 years',\n  '2': '20 to 29 years',\n  '3': '30 to 39 years',\n  '4': '40 to 49 years',\n  '5': '50 to 59 years',\n  '6': '60 to 69 years',\n  '7': '70 to 79 years',\n  '8': '80 years or older',\n  '99': 'Not state',\n};\n\ngetData();\n\nasync function getData() {\n  // Due to the size, this is an abridged version of the actual dataset.\n  // We are displaying the first 100 cases of the data\n  await processData('https://raw.githubusercontent.com/nmrichards/sample_data/master/2020-05-14.csv');\n\n  const formattedData: {\n    x: string[];\n    y: string[];\n    z: number[][];\n    type: string;\n    hoverongaps: boolean;\n  } = { x: [], y: [], z: [], type: 'heatmap', hoverongaps: false };\n\n  // Lastly, we need to format it for AmCharts\n  for (const key in genderData) {\n    if (key) {\n      const keyData: number[] = [];\n      genderData[key].forEach((x) => {\n        if (!formattedData.y.includes(key)) {\n          formattedData.y.push(key);\n        }\n        if (!formattedData.x.includes(x.ageGroup)) {\n          formattedData.x.push(x.ageGroup);\n        }\n        keyData.push(x.count);\n      });\n      formattedData.z.push(keyData);\n    }\n  }\n\n  PlotlyChartUtil.createChart('chart-div', formattedData);\n}\n\nasync function processData(file: string) {\n  const data: any[] = await d3.csv(file);\n\n  const caseIds: { [id: string]: { gender: string; ageGroup: string } } = {};\n\n  /**\n   * First we need to group the gender and age groups together with the same Case identifier number\n   */\n  data.forEach((x: { 'Case identifier number': string; 'Case information': string; VALUE: string }) => {\n    // If it's a new case, initialize to empty strings\n    if (!caseIds[x['Case identifier number']]) {\n      caseIds[x['Case identifier number']] = { gender: '', ageGroup: '' };\n    }\n    if (x['Case information'] === 'Gender') {\n      caseIds[x['Case identifier number']].gender = x['VALUE'];\n    } else if (x['Case information'] === 'Age group') {\n      caseIds[x['Case identifier number']].ageGroup = x['VALUE'];\n    }\n  });\n\n  /**\n   * Next we need to count the totals for each category\n   */\n  for (const key in caseIds) {\n    if (key) {\n      switch (caseIds[key].gender) {\n        case '1':\n          // 1 is Male, read from separate metadata sheet. Sure hope they\n          // don't change their codes\n          genderData['Male'].forEach((x) => {\n            if (x.ageGroup === ageGroupMap[caseIds[key].ageGroup]) {\n              x.count += 1;\n            }\n          });\n          break;\n        case '2':\n          // 2 is Female\n          genderData['Female'].forEach((x) => {\n            if (x.ageGroup === ageGroupMap[caseIds[key].ageGroup]) {\n              x.count += 1;\n            }\n          });\n          break;\n        case '3':\n          // 3 is Non-binary\n          genderData['Non-binary'].forEach((x) => {\n            if (x.ageGroup === ageGroupMap[caseIds[key].ageGroup]) {\n              x.count += 1;\n            }\n          });\n          break;\n        case '9':\n          // 9 is Not stated\n          genderData['Not stated'].forEach((x) => {\n            if (x.ageGroup === ageGroupMap[caseIds[key].ageGroup]) {\n              x.count += 1;\n            }\n          });\n          break;\n      }\n    }\n  }\n}\n",[{path:"shared/plotly/chart.util.ts",contents:"/**\n * A simple type to satisfy the typescript linter.\n *\n * Plotly has difficulty working with some bundlers.\n * We have added <script src=\"https://cdn.plot.ly/plotly-latest.min.js\"></script>\n * to load it from a cdn and use it as a umd global.\n */\ndeclare const Plotly: {\n  newPlot(element: Element, traces: any[]): void;\n  purge(elementId: string): void;\n};\n\n/**\n * Utility to interact with the JS charting library, Plotly.\n */\nexport class PlotlyChartUtil {\n  /**\n   * Create a new chart emdedded within a container with the given element id and populated with the given data.\n   * @param elementId HTML element id of the container to embed the chart\n   * @param data chart data\n   */\n  static createChart(elementId: string, data: any) {\n    const element = document.getElementById(elementId);\n    if (element) {\n      // Dispose an existing chart\n      this.disposeChart(elementId);\n      // Create the new chart\n      Plotly.newPlot(element, [data]);\n    }\n  }\n\n  /**\n   * Dispose a Plotly chart within an html element with the given id.\n   * @param elementId ID of the container that holds the Plotly chart to dispose\n   */\n  static disposeChart(elementId: string): void {\n    const element = document.getElementById(elementId);\n    if (element) {\n      Plotly.purge(elementId);\n    }\n  }\n}\n"}]);function Op(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ok(e,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Pp(e,r,a){return r&&ok(e.prototype,r),a&&ok(e,a),e}function Qp(r,e){return e(r,{skipInitialFocus:!0})}var bh="mdc-dom-focus-sentinel",Rp=function(){function t(t,e){void 0===e&&(e={}),this.root=t,this.options=e,this.elFocusedBeforeTrapFocus=null}return t.prototype.trapFocus=function(){var t=this.getFocusableElements(this.root);if(0===t.length)throw new Error("FocusTrap: Element must have at least one focusable child.");this.elFocusedBeforeTrapFocus=document.activeElement instanceof HTMLElement?document.activeElement:null,this.wrapTabFocus(this.root,t),this.options.skipInitialFocus||this.focusInitialElement(t,this.options.initialFocusEl)},t.prototype.releaseFocus=function(){[].slice.call(this.root.querySelectorAll("."+bh)).forEach(function(t){t.parentElement.removeChild(t)}),this.elFocusedBeforeTrapFocus&&this.elFocusedBeforeTrapFocus.focus()},t.prototype.wrapTabFocus=function(t,e){var o=this.createSentinel(),n=this.createSentinel();o.addEventListener("focus",function(){e.length>0&&e[e.length-1].focus()}),n.addEventListener("focus",function(){e.length>0&&e[0].focus()}),t.insertBefore(o,t.children[0]),t.appendChild(n)},t.prototype.focusInitialElement=function(t,e){var o=0;e&&(o=Math.max(t.indexOf(e),0)),t[o].focus()},t.prototype.getFocusableElements=function(t){return[].slice.call(t.querySelectorAll("[autofocus], [tabindex], a, input, textarea, select, button")).filter(function(t){var e="true"===t.getAttribute("aria-disabled")||null!=t.getAttribute("disabled")||null!=t.getAttribute("hidden")||"true"===t.getAttribute("aria-hidden"),o=t.tabIndex>=0&&t.getBoundingClientRect().width>0&&!t.classList.contains(bh)&&!e,n=!1;if(o){var i=getComputedStyle(t);n="none"===i.display||"hidden"===i.visibility}return o&&!n})},t.prototype.createSentinel=function(){var t=document.createElement("div");return t.setAttribute("tabindex","0"),t.setAttribute("aria-hidden","true"),t.classList.add(bh),t},t}();var Ab={ANIMATE:"mdc-drawer--animate",CLOSING:"mdc-drawer--closing",DISMISSIBLE:"mdc-drawer--dismissible",MODAL:"mdc-drawer--modal",OPEN:"mdc-drawer--open",OPENING:"mdc-drawer--opening",ROOT:"mdc-drawer"},Sp={APP_CONTENT_SELECTOR:".mdc-drawer-app-content",CLOSE_EVENT:"MDCDrawer:closed",OPEN_EVENT:"MDCDrawer:opened",SCRIM_SELECTOR:".mdc-drawer-scrim"};var gf=function(s){function t(e){var i=s.call(this,ta(ta({},t.defaultAdapter),e))||this;return i.animationFrame_=0,i.animationTimer_=0,i}return da(t,s),Object.defineProperty(t,"strings",{get:function(){return Sp},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Ab},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},elementHasClass:function(){return!1},notifyClose:function(){},notifyOpen:function(){},saveFocus:function(){},restoreFocus:function(){},focusActiveNavigationItem:function(){},trapFocus:function(){},releaseFocus:function(){}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.animationFrame_&&cancelAnimationFrame(this.animationFrame_),this.animationTimer_&&clearTimeout(this.animationTimer_)},t.prototype.open=function(){var s=this;this.isOpen()||this.isOpening()||this.isClosing()||(this.adapter_.addClass(Ab.OPEN),this.adapter_.addClass(Ab.ANIMATE),this.runNextAnimationFrame_(function(){s.adapter_.addClass(Ab.OPENING)}),this.adapter_.saveFocus())},t.prototype.close=function(){!this.isOpen()||this.isOpening()||this.isClosing()||this.adapter_.addClass(Ab.CLOSING)},t.prototype.isOpen=function(){return this.adapter_.hasClass(Ab.OPEN)},t.prototype.isOpening=function(){return this.adapter_.hasClass(Ab.OPENING)||this.adapter_.hasClass(Ab.ANIMATE)},t.prototype.isClosing=function(){return this.adapter_.hasClass(Ab.CLOSING)},t.prototype.handleKeydown=function(s){var t=s.keyCode;("Escape"===s.key||27===t)&&this.close()},t.prototype.handleTransitionEnd=function(s){var t=Ab.OPENING,e=Ab.CLOSING,i=Ab.OPEN,a=Ab.ANIMATE,n=Ab.ROOT;this.isElement_(s.target)&&this.adapter_.elementHasClass(s.target,n)&&(this.isClosing()?(this.adapter_.removeClass(i),this.closed_(),this.adapter_.restoreFocus(),this.adapter_.notifyClose()):(this.adapter_.focusActiveNavigationItem(),this.opened_(),this.adapter_.notifyOpen()),this.adapter_.removeClass(a),this.adapter_.removeClass(t),this.adapter_.removeClass(e))},t.prototype.opened_=function(){},t.prototype.closed_=function(){},t.prototype.runNextAnimationFrame_=function(s){var t=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame(function(){t.animationFrame_=0,clearTimeout(t.animationTimer_),t.animationTimer_=setTimeout(s,0)})},t.prototype.isElement_=function(s){return Boolean(s.classList)},t}(qb);var Tp=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return da(r,o),r.prototype.handleScrimClick=function(){this.close()},r.prototype.opened_=function(){this.adapter_.trapFocus()},r.prototype.closed_=function(){this.adapter_.releaseFocus()},r}(gf);var hf=gf.cssClasses,ch=gf.strings,Up=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return da(i,t),i.attachTo=function(t){return new i(t)},Object.defineProperty(i.prototype,"open",{get:function(){return this.foundation_.isOpen()},set:function(t){t?this.foundation_.open():this.foundation_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"list",{get:function(){return this.list_},enumerable:!0,configurable:!0}),i.prototype.initialize=function(t,i){void 0===t&&(t=function(t){return new Rp(t)}),void 0===i&&(i=function(t){return new mh(t)});var n=this.root_.querySelector("."+rd.cssClasses.ROOT);n&&(this.list_=i(n),this.list_.wrapFocus=!0),this.focusTrapFactory_=t},i.prototype.initialSyncWithDOM=function(){var t=this,i=hf.MODAL,n=ch.SCRIM_SELECTOR;this.scrim_=this.root_.parentNode.querySelector(n),this.scrim_&&this.root_.classList.contains(i)&&(this.handleScrimClick_=function(){return t.foundation_.handleScrimClick()},this.scrim_.addEventListener("click",this.handleScrimClick_),this.focusTrap_=Qp(this.root_,this.focusTrapFactory_)),this.handleKeydown_=function(i){return t.foundation_.handleKeydown(i)},this.handleTransitionEnd_=function(i){return t.foundation_.handleTransitionEnd(i)},this.listen("keydown",this.handleKeydown_),this.listen("transitionend",this.handleTransitionEnd_)},i.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_),this.unlisten("transitionend",this.handleTransitionEnd_),this.list_&&this.list_.destroy();var t=hf.MODAL;this.scrim_&&this.handleScrimClick_&&this.root_.classList.contains(t)&&(this.scrim_.removeEventListener("click",this.handleScrimClick_),this.open=!1)},i.prototype.getDefaultFoundation=function(){var t=this,i={addClass:function(i){return t.root_.classList.add(i)},removeClass:function(i){return t.root_.classList.remove(i)},hasClass:function(i){return t.root_.classList.contains(i)},elementHasClass:function(t,i){return t.classList.contains(i)},saveFocus:function(){return t.previousFocus_=document.activeElement},restoreFocus:function(){var i=t.previousFocus_;i&&i.focus&&t.root_.contains(document.activeElement)&&i.focus()},focusActiveNavigationItem:function(){var i=t.root_.querySelector("."+rd.cssClasses.LIST_ITEM_ACTIVATED_CLASS);i&&i.focus()},notifyClose:function(){return t.emit(ch.CLOSE_EVENT,{},!0)},notifyOpen:function(){return t.emit(ch.OPEN_EVENT,{},!0)},trapFocus:function(){return t.focusTrap_.trapFocus()},releaseFocus:function(){return t.focusTrap_.releaseFocus()}},n=hf.DISMISSIBLE,s=hf.MODAL;if(this.root_.classList.contains(n))return new gf(i);if(this.root_.classList.contains(s))return new Tp(i);throw new Error("MDCDrawer: Failed to instantiate component. Supported variants are "+n+" and "+s+".")},i}(tb);var Gb={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},jf={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},Zd={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"};var pk=function(e){function t(n){return e.call(this,ta(ta({},t.defaultAdapter),n))||this}return da(t,e),Object.defineProperty(t,"strings",{get:function(){return Zd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return Gb},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return jf},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!0,configurable:!0}),t.prototype.handleTargetScroll=function(){},t.prototype.handleWindowResize=function(){},t.prototype.handleNavigationClick=function(){this.adapter_.notifyNavigationIconClicked()},t}(qb);var kf=0,qk=function(t){function e(e){var r=t.call(this,e)||this;return r.wasDocked_=!0,r.isDockedShowing_=!0,r.currentAppBarOffsetTop_=0,r.isCurrentlyBeingResized_=!1,r.resizeThrottleId_=kf,r.resizeDebounceId_=kf,r.lastScrollPosition_=r.adapter_.getViewportScrollY(),r.topAppBarHeight_=r.adapter_.getTopAppBarHeight(),r}return da(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.adapter_.setStyle("top","")},e.prototype.handleTargetScroll=function(){var t=Math.max(this.adapter_.getViewportScrollY(),0),e=t-this.lastScrollPosition_;this.lastScrollPosition_=t,this.isCurrentlyBeingResized_||(this.currentAppBarOffsetTop_-=e,this.currentAppBarOffsetTop_>0?this.currentAppBarOffsetTop_=0:Math.abs(this.currentAppBarOffsetTop_)>this.topAppBarHeight_&&(this.currentAppBarOffsetTop_=-this.topAppBarHeight_),this.moveTopAppBar_())},e.prototype.handleWindowResize=function(){var t=this;this.resizeThrottleId_||(this.resizeThrottleId_=setTimeout(function(){t.resizeThrottleId_=kf,t.throttledResizeHandler_()},jf.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized_=!0,this.resizeDebounceId_&&clearTimeout(this.resizeDebounceId_),this.resizeDebounceId_=setTimeout(function(){t.handleTargetScroll(),t.isCurrentlyBeingResized_=!1,t.resizeDebounceId_=kf},jf.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},e.prototype.checkForUpdate_=function(){var t=-this.topAppBarHeight_,e=this.currentAppBarOffsetTop_<0,r=this.currentAppBarOffsetTop_>t,i=e&&r;if(i)this.wasDocked_=!1;else{if(!this.wasDocked_)return this.wasDocked_=!0,!0;if(this.isDockedShowing_!==r)return this.isDockedShowing_=r,!0}return i},e.prototype.moveTopAppBar_=function(){if(this.checkForUpdate_()){var t=this.currentAppBarOffsetTop_;Math.abs(t)>=this.topAppBarHeight_&&(t=-jf.MAX_TOP_APP_BAR_HEIGHT),this.adapter_.setStyle("top",t+"px")}},e.prototype.throttledResizeHandler_=function(){var t=this.adapter_.getTopAppBarHeight();this.topAppBarHeight_!==t&&(this.wasDocked_=!1,this.currentAppBarOffsetTop_-=this.topAppBarHeight_-t,this.topAppBarHeight_=t),this.handleTargetScroll()},e}(pk);var Vp=function(r){function t(){var t=null!==r&&r.apply(this,arguments)||this;return t.wasScrolled_=!1,t}return da(t,r),t.prototype.handleTargetScroll=function(){this.adapter_.getViewportScrollY()<=0?this.wasScrolled_&&(this.adapter_.removeClass(Gb.FIXED_SCROLLED_CLASS),this.wasScrolled_=!1):this.wasScrolled_||(this.adapter_.addClass(Gb.FIXED_SCROLLED_CLASS),this.wasScrolled_=!0)},t}(qk);var Wp=function(t){function s(s){var a=t.call(this,s)||this;return a.isCollapsed_=!1,a.isAlwaysCollapsed_=!1,a}return da(s,t),Object.defineProperty(s.prototype,"isCollapsed",{get:function(){return this.isCollapsed_},enumerable:!0,configurable:!0}),s.prototype.init=function(){t.prototype.init.call(this),this.adapter_.getTotalActionItems()>0&&this.adapter_.addClass(Gb.SHORT_HAS_ACTION_ITEM_CLASS),this.setAlwaysCollapsed(this.adapter_.hasClass(Gb.SHORT_COLLAPSED_CLASS))},s.prototype.setAlwaysCollapsed=function(t){this.isAlwaysCollapsed_=!!t,this.isAlwaysCollapsed_?this.collapse_():this.maybeCollapseBar_()},s.prototype.getAlwaysCollapsed=function(){return this.isAlwaysCollapsed_},s.prototype.handleTargetScroll=function(){this.maybeCollapseBar_()},s.prototype.maybeCollapseBar_=function(){this.isAlwaysCollapsed_||(this.adapter_.getViewportScrollY()<=0?this.isCollapsed_&&this.uncollapse_():this.isCollapsed_||this.collapse_())},s.prototype.uncollapse_=function(){this.adapter_.removeClass(Gb.SHORT_COLLAPSED_CLASS),this.isCollapsed_=!1},s.prototype.collapse_=function(){this.adapter_.addClass(Gb.SHORT_COLLAPSED_CLASS),this.isCollapsed_=!0},s}(pk);var Xp=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return da(o,t),o.attachTo=function(t){return new o(t)},o.prototype.initialize=function(t){void 0===t&&(t=function(t){return Wc.attachTo(t)}),this.navIcon_=this.root_.querySelector(Zd.NAVIGATION_ICON_SELECTOR);var o=[].slice.call(this.root_.querySelectorAll(Zd.ACTION_ITEM_SELECTOR));this.navIcon_&&o.push(this.navIcon_),this.iconRipples_=o.map(function(o){var i=t(o);return i.unbounded=!0,i}),this.scrollTarget_=window},o.prototype.initialSyncWithDOM=function(){this.handleNavigationClick_=this.foundation_.handleNavigationClick.bind(this.foundation_),this.handleWindowResize_=this.foundation_.handleWindowResize.bind(this.foundation_),this.handleTargetScroll_=this.foundation_.handleTargetScroll.bind(this.foundation_),this.scrollTarget_.addEventListener("scroll",this.handleTargetScroll_),this.navIcon_&&this.navIcon_.addEventListener("click",this.handleNavigationClick_);var t=this.root_.classList.contains(Gb.FIXED_CLASS);this.root_.classList.contains(Gb.SHORT_CLASS)||t||window.addEventListener("resize",this.handleWindowResize_)},o.prototype.destroy=function(){this.iconRipples_.forEach(function(t){return t.destroy()}),this.scrollTarget_.removeEventListener("scroll",this.handleTargetScroll_),this.navIcon_&&this.navIcon_.removeEventListener("click",this.handleNavigationClick_);var o=this.root_.classList.contains(Gb.FIXED_CLASS);this.root_.classList.contains(Gb.SHORT_CLASS)||o||window.removeEventListener("resize",this.handleWindowResize_),t.prototype.destroy.call(this)},o.prototype.setScrollTarget=function(t){this.scrollTarget_.removeEventListener("scroll",this.handleTargetScroll_),this.scrollTarget_=t,this.handleTargetScroll_=this.foundation_.handleTargetScroll.bind(this.foundation_),this.scrollTarget_.addEventListener("scroll",this.handleTargetScroll_)},o.prototype.getDefaultFoundation=function(){var t=this,o={hasClass:function(o){return t.root_.classList.contains(o)},addClass:function(o){return t.root_.classList.add(o)},removeClass:function(o){return t.root_.classList.remove(o)},setStyle:function(o,i){return t.root_.style.setProperty(o,i)},getTopAppBarHeight:function(){return t.root_.clientHeight},notifyNavigationIconClicked:function(){return t.emit(Zd.NAVIGATION_EVENT,{})},getViewportScrollY:function(){var o=t.scrollTarget_,i=t.scrollTarget_;return void 0!==o.pageYOffset?o.pageYOffset:i.scrollTop},getTotalActionItems:function(){return t.root_.querySelectorAll(Zd.ACTION_ITEM_SELECTOR).length}};return this.root_.classList.contains(Gb.SHORT_CLASS)?new Wp(o):this.root_.classList.contains(Gb.FIXED_CLASS)?new Vp(o):new qk(o)},o}(tb);var Yp=function(){var e=function(){function e(){Op(this,e)}return Pp(e,null,[{key:"initializeNavBar",value:function(){var r=document.querySelector(e.APP_BAR),a=new Xp(r),t=Up.attachTo(document.querySelector(e.DRAWER_SELECTOR)),n=document.querySelector(e.DRAWER_NAV_SELECTOR);a.listen("MDCTopAppBar:nav",function(){t.open=!t.open}),n.addEventListener("click",function(){t.open=!1})}}]),e}();return e.APP_BAR=".mdc-top-app-bar",e.DRAWER_SELECTOR=".mdc-drawer",e.DRAWER_NAV_SELECTOR="".concat(e.DRAWER_SELECTOR," nav"),e}();Yp.initializeNavBar();var rk=new fl("https://covid19.richdataservices.com/rds"),Zp=new vf(rk,"int"),$p=new vf(rk,"ca"),lf=new uf(Zp,"jhu_country"),dh=new uf($p,"ca_statcan_cases"),mf={cols:"date_stamp,cnt_confirmed,cnt_death,cnt_recovered",where:"(iso3166_1=US)",metadata:!0,limit:5e3},eh={dims:"gender,age_group",measure:"COUNT:COUNT(*)",metadata:!0,totals:!0,inject:!0,orderby:"gender ASC, age_group DESC"},Rc="line-chart-div",$d="bar-chart-div",nf="line-stackblitz",of="line-compare-stackblitz",fh="bar-stackblitz",gh="bar-compare-stackblitz";zb.embed(nf,kk),zb.embed(of,lk),zb.embed(fh,mk),zb.embed(gh,nk),lf.select(Object.assign(Object.assign({},mf),{format:"amcharts"})).then(function(a){var t;return Ug.createDateLineChart({elementId:Rc,data:null===(t=null==a?void 0:a.parsedBody)||void 0===t?void 0:t.dataProvider,dateName:"date_stamp",lines:bj,yTitle:"Total Cases for U.S."})}),dh.tabulate(Object.assign(Object.assign({},eh),{format:"amcharts"})).then(function(a){var t;return Tg.createChart({elementId:$d,data:null===(t=null==a?void 0:a.parsedBody)||void 0===t?void 0:t.dataProvider,xCategory:"gender",yCategory:"age_group",valueCategory:"COUNT"})});var _p=jk.initializeTabBar(document.querySelector(".line-chart")),aq=jk.initializeTabBar(document.querySelector(".bar-chart"));Xj.initializeButton(Ro),Xj.initializeButton(So);var sk=document.querySelector(".line-select"),bq="AMCHARTS";if(sk){var tk=new xh(sk);tk.listen("MDCSelect:change",function(){switch(_p.activateTab(0),bq){case"AMCHARTS":Ug.disposeChart(Rc);break;case"GCHARTS":Zj.disposeChart(Rc);break;case"PLOTLY":bf.disposeChart(Rc);}switch(bq=tk.value){case"AMCHARTS":lf.select(Object.assign(Object.assign({},mf),{format:"amcharts"})).then(function(a){var t;return Ug.createDateLineChart({elementId:Rc,data:null===(t=null==a?void 0:a.parsedBody)||void 0===t?void 0:t.dataProvider,dateName:"date_stamp",lines:bj,yTitle:"Total Cases for U.S."})}),zb.embed(nf,kk),zb.embed(of,lk);break;case"GCHARTS":lf.select(Object.assign(Object.assign({},mf),{format:"gcharts"})).then(function(a){return Zj.createChart({elementId:Rc,chartTitle:"Totals by Date",data:null==a?void 0:a.parsedBody})}),zb.embed(nf,Ip),zb.embed(of,Jp);break;case"PLOTLY":lf.select(Object.assign(Object.assign({},mf),{format:"plotly_scatter"})).then(function(a){return bf.createChart(Rc,null==a?void 0:a.parsedBody)}),zb.embed(nf,Kp),zb.embed(of,Lp);}})}var uk=document.querySelector(".bar-select"),cq="AMCHARTS";if(uk){var vk=new xh(uk);vk.listen("MDCSelect:change",function(){switch(aq.activateTab(0),cq){case"AMCHARTS":Tg.disposeChart($d);break;case"PLOTLY":bf.disposeChart($d);}switch(cq=vk.value){case"AMCHARTS":dh.tabulate(Object.assign(Object.assign({},eh),{format:"amcharts"})).then(function(a){var t;Tg.createChart({elementId:$d,data:null===(t=null==a?void 0:a.parsedBody)||void 0===t?void 0:t.dataProvider,xCategory:"gender",yCategory:"age_group",valueCategory:"COUNT"})}),zb.embed(fh,mk),zb.embed(gh,nk);break;case"PLOTLY":dh.tabulate(Object.assign(Object.assign({},eh),{format:"plotly_heatmap"})).then(function(a){return bf.createChart($d,null==a?void 0:a.parsedBody)}),zb.embed(fh,Mp),zb.embed(gh,Np);}})}var ld,md,dq={},ib=dq={};function hh(){throw new Error("setTimeout has not been defined")}function ih(){throw new Error("clearTimeout has not been defined")}function wk($){if(ld===setTimeout)return setTimeout($,0);if((ld===hh||!ld)&&setTimeout)return ld=setTimeout,setTimeout($,0);try{return ld($,0)}catch(e){try{return ld.call(null,$,0)}catch(e){return ld.call(this,$,0)}}}function eq($){if(md===clearTimeout)return clearTimeout($);if((md===ih||!md)&&clearTimeout)return md=clearTimeout,clearTimeout($);try{return md($)}catch(e){try{return md.call(null,$)}catch(e){return md.call(this,$)}}}!function(){try{ld="function"==typeof setTimeout?setTimeout:hh}catch($){ld=hh}try{md="function"==typeof clearTimeout?clearTimeout:ih}catch($){md=ih}}();var _d,Sc=[],jh=!1,xk=-1;function fq(){jh&&_d&&(jh=!1,_d.length?Sc=_d.concat(Sc):xk=-1,Sc.length&&yk())}function yk(){if(!jh){var $=wk(fq);jh=!0;for(var e=Sc.length;e;){for(_d=Sc,Sc=[];++xk<e;)_d&&_d[xk].run();xk=-1,e=Sc.length}_d=null,jh=!1,eq($)}}function zk($,e){this.fun=$,this.array=e}function kc(){}ib.nextTick=function($){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Sc.push(new zk($,e)),1!==Sc.length||jh||wk(yk)},zk.prototype.run=function(){this.fun.apply(null,this.array)},ib.title="browser",ib.env={},ib.argv=[],ib.version="",ib.versions={},ib.on=kc,ib.addListener=kc,ib.once=kc,ib.off=kc,ib.removeListener=kc,ib.removeAllListeners=kc,ib.emit=kc,ib.prependListener=kc,ib.prependOnceListener=kc,ib.listeners=function($){return[]},ib.binding=function($){throw new Error("process.binding is not supported")},ib.cwd=function(){return"/"},ib.chdir=function($){throw new Error("process.chdir is not supported")},ib.umask=function(){return 0};return{"QCba":{},"pBGv":dq,"rDCW":(Tb(),{})};});